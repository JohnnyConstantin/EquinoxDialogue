diff --git a/dist/index.es.js b/dist/index.es.js
index bbd3262c29f8783febb5179c636cdd17eaa14dd2..5881cc68c60c324ffef48ea807c05651e7c5e7c6 100644
--- a/dist/index.es.js
+++ b/dist/index.es.js
@@ -7751,15 +7751,17 @@ var NodeEditor = function NodeEditor(_ref, ref) {
     stage.current = document.getElementById("" + STAGE_ID + editorId).getBoundingClientRect();
   };
 
+var initialRecalculateConnectionsDoneRef = React.useRef(false);
+
   React.useLayoutEffect(function () {
-    if (shouldRecalculateConnections) {
+    if (!initialRecalculateConnectionsDoneRef.current) {
+      initialRecalculateConnectionsDoneRef.current = true;
       recalculateConnections();
-      setShouldRecalculateConnections(false);
     }
-  }, [shouldRecalculateConnections, recalculateConnections]);
+  }, [recalculateConnections]);
 
   var triggerRecalculation = function triggerRecalculation() {
-    setShouldRecalculateConnections(true);
+    recalculateConnections();
   };
 
   React.useImperativeHandle(ref, function () {
diff --git a/dist/index.js b/dist/index.js
index 47d32c48cf7c70423cbbdc90bad6186914739502..721a2a17f6235b15e4f7e41cd49115fe8a07db4f 100644
--- a/dist/index.js
+++ b/dist/index.js
@@ -1,13 +1,15 @@
-'use strict';
+"use strict";
 
-Object.defineProperty(exports, '__esModule', { value: true });
+Object.defineProperty(exports, "__esModule", { value: true });
 
-function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }
+function _interopDefault(ex) {
+  return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
+}
 
-var React = require('react');
+var React = require("react");
 var React__default = _interopDefault(React);
-var PropTypes = _interopDefault(require('prop-types'));
-var ReactDOM = _interopDefault(require('react-dom'));
+var PropTypes = _interopDefault(require("prop-types"));
+var ReactDOM = _interopDefault(require("react-dom"));
 
 /**
  * Copyright (c) 2014-present, Facebook, Inc.
@@ -23,7 +25,7 @@ var ReactDOM = _interopDefault(require('react-dom'));
  * same logic and follow the same code paths.
  */
 
-var __DEV__ = process.env.NODE_ENV !== 'production';
+var __DEV__ = process.env.NODE_ENV !== "production";
 
 /* eslint-disable no-restricted-globals, eqeqeq  */
 /**
@@ -55,18 +57,23 @@ var __DEV__ = process.env.NODE_ENV !== 'production';
  * @param deps
  */
 
-var useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? React__default.useLayoutEffect : React__default.useEffect;
+var useIsomorphicLayoutEffect = /*#__PURE__*/ canUseDOM()
+  ? React__default.useLayoutEffect
+  : React__default.useEffect;
 
 if (process.env.NODE_ENV !== "production") {
   // In CJS files, process.env.NODE_ENV is stripped from our build, but we need
   // it to prevent style checks from clogging up user logs while testing.
   // This is a workaround until we can tweak the build a bit to accommodate.
-  var _ref = typeof process !== "undefined" ? process : {
-    env: {
-      NODE_ENV: "development"
-    }
-  },
-      env = _ref.env;
+  var _ref =
+      typeof process !== "undefined"
+        ? process
+        : {
+            env: {
+              NODE_ENV: "development",
+            },
+          },
+    env = _ref.env;
 }
 /**
  * Ponyfill for the global object in some environments.
@@ -74,19 +81,27 @@ if (process.env.NODE_ENV !== "production") {
  * @link https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  */
 
-var ponyfillGlobal = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self :
-/*#__PURE__*/
-// eslint-disable-next-line no-new-func
-Function("return this")();
+var ponyfillGlobal =
+  typeof window != "undefined" && window.Math == Math
+    ? window
+    : typeof self != "undefined" && self.Math == Math
+    ? self
+    : /*#__PURE__*/
+      // eslint-disable-next-line no-new-func
+      Function("return this")();
 function canUseDOM() {
-  return !!(typeof window !== "undefined" && window.document && window.document.createElement);
+  return !!(
+    typeof window !== "undefined" &&
+    window.document &&
+    window.document.createElement
+  );
 }
 
-if (process.env.NODE_ENV !== "production") ;
+if (process.env.NODE_ENV !== "production");
 
-if (process.env.NODE_ENV !== "production") ;
+if (process.env.NODE_ENV !== "production");
 
-if (process.env.NODE_ENV !== "production") ;
+if (process.env.NODE_ENV !== "production");
 
 /*
  * Welcome to @reach/auto-id!
@@ -161,7 +176,6 @@ var genId = function genId() {
  * @see Docs https://reacttraining.com/reach-ui/auto-id
  */
 
-
 var useId = function useId(idFromProps) {
   /*
    * If this instance isn't part of the initial render, we don't have to do the
@@ -170,8 +184,8 @@ var useId = function useId(idFromProps) {
   var initialId = idFromProps || (serverHandoffComplete ? genId() : null);
 
   var _useState = React.useState(initialId),
-      id = _useState[0],
-      setId = _useState[1];
+    id = _useState[0],
+    setId = _useState[1];
 
   useIsomorphicLayoutEffect(function () {
     if (id === null) {
@@ -183,7 +197,6 @@ var useId = function useId(idFromProps) {
        */
       setId(genId());
     } // eslint-disable-next-line react-hooks/exhaustive-deps
-
   }, []);
   React.useEffect(function () {
     if (serverHandoffComplete === false) {
@@ -199,16 +212,18 @@ var useId = function useId(idFromProps) {
 };
 
 function styleInject(css, ref) {
-  if ( ref === void 0 ) ref = {};
+  if (ref === void 0) ref = {};
   var insertAt = ref.insertAt;
 
-  if (!css || typeof document === 'undefined') { return; }
+  if (!css || typeof document === "undefined") {
+    return;
+  }
 
-  var head = document.head || document.getElementsByTagName('head')[0];
-  var style = document.createElement('style');
-  style.type = 'text/css';
+  var head = document.head || document.getElementsByTagName("head")[0];
+  var style = document.createElement("style");
+  style.type = "text/css";
 
-  if (insertAt === 'top') {
+  if (insertAt === "top") {
     if (head.firstChild) {
       head.insertBefore(style, head.firstChild);
     } else {
@@ -225,126 +240,250 @@ function styleInject(css, ref) {
   }
 }
 
-var css = ".Stage_wrapper__1X5K_ {\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  background-color: rgb(26, 28, 29);\n  background-image: linear-gradient(\n      0deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    ),\n    linear-gradient(\n      90deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    );\n  color: #000;\n  background-size: 30px 30px;\n  position: relative;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  font-family: Helvetica, sans-serif;\n  text-align: left;\n  line-height: 1;\n  outline: none !important;\n}\n.Stage_wrapper__1X5K_ * {\n  box-sizing: border-box;\n}\n.Stage_wrapper__1X5K_ input,\ntextarea,\nselect {\n  font-family: Helvetica, sans-serif;\n}\n.Stage_transformWrapper__3CfIp {\n  transform-origin: center center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0px;\n  height: 0px;\n}\n.Stage_scaleWrapper__2Y7Ck {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n}\n";
-var styles = { "wrapper": "Stage_wrapper__1X5K_", "transformWrapper": "Stage_transformWrapper__3CfIp", "scaleWrapper": "Stage_scaleWrapper__2Y7Ck" };
+var css =
+  ".Stage_wrapper__1X5K_ {\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  background-color: rgb(26, 28, 29);\n  background-image: linear-gradient(\n      0deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    ),\n    linear-gradient(\n      90deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    );\n  color: #000;\n  background-size: 30px 30px;\n  position: relative;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  font-family: Helvetica, sans-serif;\n  text-align: left;\n  line-height: 1;\n  outline: none !important;\n}\n.Stage_wrapper__1X5K_ * {\n  box-sizing: border-box;\n}\n.Stage_wrapper__1X5K_ input,\ntextarea,\nselect {\n  font-family: Helvetica, sans-serif;\n}\n.Stage_transformWrapper__3CfIp {\n  transform-origin: center center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0px;\n  height: 0px;\n}\n.Stage_scaleWrapper__2Y7Ck {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n}\n";
+var styles = {
+  wrapper: "Stage_wrapper__1X5K_",
+  transformWrapper: "Stage_transformWrapper__3CfIp",
+  scaleWrapper: "Stage_scaleWrapper__2Y7Ck",
+};
 styleInject(css);
 
-var canUseDOM$1 = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
+var canUseDOM$1 = !!(
+  typeof window !== "undefined" &&
+  window.document &&
+  window.document.createElement
+);
 
-var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
+var _createClass = (function () {
+  function defineProperties(target, props) {
+    for (var i = 0; i < props.length; i++) {
+      var descriptor = props[i];
+      descriptor.enumerable = descriptor.enumerable || false;
+      descriptor.configurable = true;
+      if ("value" in descriptor) descriptor.writable = true;
+      Object.defineProperty(target, descriptor.key, descriptor);
+    }
+  }
+  return function (Constructor, protoProps, staticProps) {
+    if (protoProps) defineProperties(Constructor.prototype, protoProps);
+    if (staticProps) defineProperties(Constructor, staticProps);
+    return Constructor;
+  };
+})();
 
-function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
+function _classCallCheck(instance, Constructor) {
+  if (!(instance instanceof Constructor)) {
+    throw new TypeError("Cannot call a class as a function");
+  }
+}
 
-function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
+function _possibleConstructorReturn(self, call) {
+  if (!self) {
+    throw new ReferenceError(
+      "this hasn't been initialised - super() hasn't been called"
+    );
+  }
+  return call && (typeof call === "object" || typeof call === "function")
+    ? call
+    : self;
+}
 
-function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
+function _inherits(subClass, superClass) {
+  if (typeof superClass !== "function" && superClass !== null) {
+    throw new TypeError(
+      "Super expression must either be null or a function, not " +
+        typeof superClass
+    );
+  }
+  subClass.prototype = Object.create(superClass && superClass.prototype, {
+    constructor: {
+      value: subClass,
+      enumerable: false,
+      writable: true,
+      configurable: true,
+    },
+  });
+  if (superClass)
+    Object.setPrototypeOf
+      ? Object.setPrototypeOf(subClass, superClass)
+      : (subClass.__proto__ = superClass);
+}
 
-var Portal = function (_React$Component) {
+var Portal = (function (_React$Component) {
   _inherits(Portal, _React$Component);
 
   function Portal() {
     _classCallCheck(this, Portal);
 
-    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));
+    return _possibleConstructorReturn(
+      this,
+      (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments)
+    );
   }
 
-  _createClass(Portal, [{
-    key: 'componentWillUnmount',
-    value: function componentWillUnmount() {
-      if (this.defaultNode) {
-        document.body.removeChild(this.defaultNode);
-      }
-      this.defaultNode = null;
-    }
-  }, {
-    key: 'render',
-    value: function render() {
-      if (!canUseDOM$1) {
-        return null;
-      }
-      if (!this.props.node && !this.defaultNode) {
-        this.defaultNode = document.createElement('div');
-        document.body.appendChild(this.defaultNode);
-      }
-      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);
-    }
-  }]);
+  _createClass(Portal, [
+    {
+      key: "componentWillUnmount",
+      value: function componentWillUnmount() {
+        if (this.defaultNode) {
+          document.body.removeChild(this.defaultNode);
+        }
+        this.defaultNode = null;
+      },
+    },
+    {
+      key: "render",
+      value: function render() {
+        if (!canUseDOM$1) {
+          return null;
+        }
+        if (!this.props.node && !this.defaultNode) {
+          this.defaultNode = document.createElement("div");
+          document.body.appendChild(this.defaultNode);
+        }
+        return ReactDOM.createPortal(
+          this.props.children,
+          this.props.node || this.defaultNode
+        );
+      },
+    },
+  ]);
 
   return Portal;
-}(React__default.Component);
+})(React__default.Component);
 
 Portal.propTypes = {
   children: PropTypes.node.isRequired,
-  node: PropTypes.any
+  node: PropTypes.any,
 };
 
-var _createClass$1 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
+var _createClass$1 = (function () {
+  function defineProperties(target, props) {
+    for (var i = 0; i < props.length; i++) {
+      var descriptor = props[i];
+      descriptor.enumerable = descriptor.enumerable || false;
+      descriptor.configurable = true;
+      if ("value" in descriptor) descriptor.writable = true;
+      Object.defineProperty(target, descriptor.key, descriptor);
+    }
+  }
+  return function (Constructor, protoProps, staticProps) {
+    if (protoProps) defineProperties(Constructor.prototype, protoProps);
+    if (staticProps) defineProperties(Constructor, staticProps);
+    return Constructor;
+  };
+})();
 
-function _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
+function _classCallCheck$1(instance, Constructor) {
+  if (!(instance instanceof Constructor)) {
+    throw new TypeError("Cannot call a class as a function");
+  }
+}
 
-function _possibleConstructorReturn$1(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
+function _possibleConstructorReturn$1(self, call) {
+  if (!self) {
+    throw new ReferenceError(
+      "this hasn't been initialised - super() hasn't been called"
+    );
+  }
+  return call && (typeof call === "object" || typeof call === "function")
+    ? call
+    : self;
+}
 
-function _inherits$1(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
+function _inherits$1(subClass, superClass) {
+  if (typeof superClass !== "function" && superClass !== null) {
+    throw new TypeError(
+      "Super expression must either be null or a function, not " +
+        typeof superClass
+    );
+  }
+  subClass.prototype = Object.create(superClass && superClass.prototype, {
+    constructor: {
+      value: subClass,
+      enumerable: false,
+      writable: true,
+      configurable: true,
+    },
+  });
+  if (superClass)
+    Object.setPrototypeOf
+      ? Object.setPrototypeOf(subClass, superClass)
+      : (subClass.__proto__ = superClass);
+}
 
-var Portal$1 = function (_React$Component) {
+var Portal$1 = (function (_React$Component) {
   _inherits$1(Portal, _React$Component);
 
   function Portal() {
     _classCallCheck$1(this, Portal);
 
-    return _possibleConstructorReturn$1(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));
+    return _possibleConstructorReturn$1(
+      this,
+      (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments)
+    );
   }
 
-  _createClass$1(Portal, [{
-    key: 'componentDidMount',
-    value: function componentDidMount() {
-      this.renderPortal();
-    }
-  }, {
-    key: 'componentDidUpdate',
-    value: function componentDidUpdate(props) {
-      this.renderPortal();
-    }
-  }, {
-    key: 'componentWillUnmount',
-    value: function componentWillUnmount() {
-      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);
-      if (this.defaultNode) {
-        document.body.removeChild(this.defaultNode);
-      }
-      this.defaultNode = null;
-      this.portal = null;
-    }
-  }, {
-    key: 'renderPortal',
-    value: function renderPortal(props) {
-      if (!this.props.node && !this.defaultNode) {
-        this.defaultNode = document.createElement('div');
-        document.body.appendChild(this.defaultNode);
-      }
+  _createClass$1(Portal, [
+    {
+      key: "componentDidMount",
+      value: function componentDidMount() {
+        this.renderPortal();
+      },
+    },
+    {
+      key: "componentDidUpdate",
+      value: function componentDidUpdate(props) {
+        this.renderPortal();
+      },
+    },
+    {
+      key: "componentWillUnmount",
+      value: function componentWillUnmount() {
+        ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);
+        if (this.defaultNode) {
+          document.body.removeChild(this.defaultNode);
+        }
+        this.defaultNode = null;
+        this.portal = null;
+      },
+    },
+    {
+      key: "renderPortal",
+      value: function renderPortal(props) {
+        if (!this.props.node && !this.defaultNode) {
+          this.defaultNode = document.createElement("div");
+          document.body.appendChild(this.defaultNode);
+        }
 
-      var children = this.props.children;
-      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b
-      if (typeof this.props.children.type === 'function') {
-        children = React__default.cloneElement(this.props.children);
-      }
+        var children = this.props.children;
+        // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b
+        if (typeof this.props.children.type === "function") {
+          children = React__default.cloneElement(this.props.children);
+        }
 
-      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);
-    }
-  }, {
-    key: 'render',
-    value: function render() {
-      return null;
-    }
-  }]);
+        this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(
+          this,
+          children,
+          this.props.node || this.defaultNode
+        );
+      },
+    },
+    {
+      key: "render",
+      value: function render() {
+        return null;
+      },
+    },
+  ]);
 
   return Portal;
-}(React__default.Component);
-
+})(React__default.Component);
 
 Portal$1.propTypes = {
   children: PropTypes.node.isRequired,
-  node: PropTypes.any
+  node: PropTypes.any,
 };
 
 var Portal$2 = void 0;
@@ -357,25 +496,77 @@ if (ReactDOM.createPortal) {
 
 var Portal$3 = Portal$2;
 
-var _createClass$2 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
+var _createClass$2 = (function () {
+  function defineProperties(target, props) {
+    for (var i = 0; i < props.length; i++) {
+      var descriptor = props[i];
+      descriptor.enumerable = descriptor.enumerable || false;
+      descriptor.configurable = true;
+      if ("value" in descriptor) descriptor.writable = true;
+      Object.defineProperty(target, descriptor.key, descriptor);
+    }
+  }
+  return function (Constructor, protoProps, staticProps) {
+    if (protoProps) defineProperties(Constructor.prototype, protoProps);
+    if (staticProps) defineProperties(Constructor, staticProps);
+    return Constructor;
+  };
+})();
 
-function _classCallCheck$2(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
+function _classCallCheck$2(instance, Constructor) {
+  if (!(instance instanceof Constructor)) {
+    throw new TypeError("Cannot call a class as a function");
+  }
+}
 
-function _possibleConstructorReturn$2(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
+function _possibleConstructorReturn$2(self, call) {
+  if (!self) {
+    throw new ReferenceError(
+      "this hasn't been initialised - super() hasn't been called"
+    );
+  }
+  return call && (typeof call === "object" || typeof call === "function")
+    ? call
+    : self;
+}
 
-function _inherits$2(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
+function _inherits$2(subClass, superClass) {
+  if (typeof superClass !== "function" && superClass !== null) {
+    throw new TypeError(
+      "Super expression must either be null or a function, not " +
+        typeof superClass
+    );
+  }
+  subClass.prototype = Object.create(superClass && superClass.prototype, {
+    constructor: {
+      value: subClass,
+      enumerable: false,
+      writable: true,
+      configurable: true,
+    },
+  });
+  if (superClass)
+    Object.setPrototypeOf
+      ? Object.setPrototypeOf(subClass, superClass)
+      : (subClass.__proto__ = superClass);
+}
 
 var KEYCODES = {
-  ESCAPE: 27
+  ESCAPE: 27,
 };
 
-var PortalWithState = function (_React$Component) {
+var PortalWithState = (function (_React$Component) {
   _inherits$2(PortalWithState, _React$Component);
 
   function PortalWithState(props) {
     _classCallCheck$2(this, PortalWithState);
 
-    var _this = _possibleConstructorReturn$2(this, (PortalWithState.__proto__ || Object.getPrototypeOf(PortalWithState)).call(this, props));
+    var _this = _possibleConstructorReturn$2(
+      this,
+      (
+        PortalWithState.__proto__ || Object.getPrototypeOf(PortalWithState)
+      ).call(this, props)
+    );
 
     _this.portalNode = null;
     _this.state = { active: !!props.defaultOpen };
@@ -387,98 +578,109 @@ var PortalWithState = function (_React$Component) {
     return _this;
   }
 
-  _createClass$2(PortalWithState, [{
-    key: 'componentDidMount',
-    value: function componentDidMount() {
-      if (this.props.closeOnEsc) {
-        document.addEventListener('keydown', this.handleKeydown);
-      }
-      if (this.props.closeOnOutsideClick) {
-        document.addEventListener('click', this.handleOutsideMouseClick);
-      }
-    }
-  }, {
-    key: 'componentWillUnmount',
-    value: function componentWillUnmount() {
-      if (this.props.closeOnEsc) {
-        document.removeEventListener('keydown', this.handleKeydown);
-      }
-      if (this.props.closeOnOutsideClick) {
-        document.removeEventListener('click', this.handleOutsideMouseClick);
-      }
-    }
-  }, {
-    key: 'openPortal',
-    value: function openPortal(e) {
-      if (this.state.active) {
-        return;
-      }
-      if (e && e.nativeEvent) {
-        e.nativeEvent.stopImmediatePropagation();
-      }
-      this.setState({ active: true }, this.props.onOpen);
-    }
-  }, {
-    key: 'closePortal',
-    value: function closePortal() {
-      if (!this.state.active) {
-        return;
-      }
-      this.setState({ active: false }, this.props.onClose);
-    }
-  }, {
-    key: 'wrapWithPortal',
-    value: function wrapWithPortal(children) {
-      var _this2 = this;
+  _createClass$2(PortalWithState, [
+    {
+      key: "componentDidMount",
+      value: function componentDidMount() {
+        if (this.props.closeOnEsc) {
+          document.addEventListener("keydown", this.handleKeydown);
+        }
+        if (this.props.closeOnOutsideClick) {
+          document.addEventListener("click", this.handleOutsideMouseClick);
+        }
+      },
+    },
+    {
+      key: "componentWillUnmount",
+      value: function componentWillUnmount() {
+        if (this.props.closeOnEsc) {
+          document.removeEventListener("keydown", this.handleKeydown);
+        }
+        if (this.props.closeOnOutsideClick) {
+          document.removeEventListener("click", this.handleOutsideMouseClick);
+        }
+      },
+    },
+    {
+      key: "openPortal",
+      value: function openPortal(e) {
+        if (this.state.active) {
+          return;
+        }
+        if (e && e.nativeEvent) {
+          e.nativeEvent.stopImmediatePropagation();
+        }
+        this.setState({ active: true }, this.props.onOpen);
+      },
+    },
+    {
+      key: "closePortal",
+      value: function closePortal() {
+        if (!this.state.active) {
+          return;
+        }
+        this.setState({ active: false }, this.props.onClose);
+      },
+    },
+    {
+      key: "wrapWithPortal",
+      value: function wrapWithPortal(children) {
+        var _this2 = this;
 
-      if (!this.state.active) {
-        return null;
-      }
-      return React__default.createElement(
-        Portal$3,
-        {
-          node: this.props.node,
-          key: 'react-portal',
-          ref: function ref(portalNode) {
-            return _this2.portalNode = portalNode;
-          }
-        },
-        children
-      );
-    }
-  }, {
-    key: 'handleOutsideMouseClick',
-    value: function handleOutsideMouseClick(e) {
-      if (!this.state.active) {
-        return;
-      }
-      var root = this.portalNode && (this.portalNode.props.node || this.portalNode.defaultNode);
-      if (!root || root.contains(e.target) || e.button && e.button !== 0) {
-        return;
-      }
-      this.closePortal();
-    }
-  }, {
-    key: 'handleKeydown',
-    value: function handleKeydown(e) {
-      if (e.keyCode === KEYCODES.ESCAPE && this.state.active) {
+        if (!this.state.active) {
+          return null;
+        }
+        return React__default.createElement(
+          Portal$3,
+          {
+            node: this.props.node,
+            key: "react-portal",
+            ref: function ref(portalNode) {
+              return (_this2.portalNode = portalNode);
+            },
+          },
+          children
+        );
+      },
+    },
+    {
+      key: "handleOutsideMouseClick",
+      value: function handleOutsideMouseClick(e) {
+        if (!this.state.active) {
+          return;
+        }
+        var root =
+          this.portalNode &&
+          (this.portalNode.props.node || this.portalNode.defaultNode);
+        if (!root || root.contains(e.target) || (e.button && e.button !== 0)) {
+          return;
+        }
         this.closePortal();
-      }
-    }
-  }, {
-    key: 'render',
-    value: function render() {
-      return this.props.children({
-        openPortal: this.openPortal,
-        closePortal: this.closePortal,
-        portal: this.wrapWithPortal,
-        isOpen: this.state.active
-      });
-    }
-  }]);
+      },
+    },
+    {
+      key: "handleKeydown",
+      value: function handleKeydown(e) {
+        if (e.keyCode === KEYCODES.ESCAPE && this.state.active) {
+          this.closePortal();
+        }
+      },
+    },
+    {
+      key: "render",
+      value: function render() {
+        return this.props.children({
+          openPortal: this.openPortal,
+          closePortal: this.closePortal,
+          portal: this.wrapWithPortal,
+          isOpen: this.state.active,
+        });
+      },
+    },
+  ]);
 
   return PortalWithState;
-}(React__default.Component);
+})(React__default.Component);
 
 PortalWithState.propTypes = {
   children: PropTypes.func.isRequired,
@@ -487,16 +689,25 @@ PortalWithState.propTypes = {
   closeOnEsc: PropTypes.bool,
   closeOnOutsideClick: PropTypes.bool,
   onOpen: PropTypes.func,
-  onClose: PropTypes.func
+  onClose: PropTypes.func,
 };
 
 PortalWithState.defaultProps = {
   onOpen: function onOpen() {},
-  onClose: function onClose() {}
+  onClose: function onClose() {},
 };
 
-var css$1 = ".ContextMenu_menuWrapper__1BheJ{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  font-size: 14px;\n  max-width: 300px;\n  min-width: 150px;\n  font-family: Helvetica, sans-serif;\n  line-height: 1.15;\n  outline: none;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ContextMenu_menuWrapper__1BheJ{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ContextMenu_menuHeader__1Cw58{\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuLabel__158Pv{\n  margin: 0px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n}\n.ContextMenu_optionsWrapper__2YK_z{\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuFilter__1goBp{\n  border: none;\n  background: none;\n  height: 24px;\n  flex: 1 1 auto;\n  width: 100%;\n  outline: none;\n  color: #fff;\n}\n.ContextMenu_menuFilter__1goBp::placeholder{\n    font-style: italic;\n  }\n.ContextMenu_option__33MDL{\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  color: #ffffff;\n}\n.ContextMenu_option__33MDL:last-child{\n    border-bottom: none;\n  }\n.ContextMenu_option__33MDL:hover{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_option__33MDL label{\n    margin-bottom: 5px;\n    user-select: none;\n  }\n.ContextMenu_option__33MDL label:last-child{\n      margin-bottom: 0px;\n    }\n.ContextMenu_option__33MDL p{\n    margin: 0px;\n    font-style: italic;\n    font-size: 12px;\n    color: rgb(182, 186, 194);\n    user-select: none;\n  }\n.ContextMenu_option__33MDL[data-selected=true]{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_emptyText__2rcXy{\n  color: #fff;\n  padding: 5px;\n}\n";
-var styles$1 = { "menuWrapper": "ContextMenu_menuWrapper__1BheJ", "menuHeader": "ContextMenu_menuHeader__1Cw58", "menuLabel": "ContextMenu_menuLabel__158Pv", "optionsWrapper": "ContextMenu_optionsWrapper__2YK_z", "menuFilter": "ContextMenu_menuFilter__1goBp", "option": "ContextMenu_option__33MDL", "emptyText": "ContextMenu_emptyText__2rcXy" };
+var css$1 =
+  ".ContextMenu_menuWrapper__1BheJ{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  font-size: 14px;\n  max-width: 300px;\n  min-width: 150px;\n  font-family: Helvetica, sans-serif;\n  line-height: 1.15;\n  outline: none;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ContextMenu_menuWrapper__1BheJ{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ContextMenu_menuHeader__1Cw58{\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuLabel__158Pv{\n  margin: 0px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n}\n.ContextMenu_optionsWrapper__2YK_z{\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuFilter__1goBp{\n  border: none;\n  background: none;\n  height: 24px;\n  flex: 1 1 auto;\n  width: 100%;\n  outline: none;\n  color: #fff;\n}\n.ContextMenu_menuFilter__1goBp::placeholder{\n    font-style: italic;\n  }\n.ContextMenu_option__33MDL{\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  color: #ffffff;\n}\n.ContextMenu_option__33MDL:last-child{\n    border-bottom: none;\n  }\n.ContextMenu_option__33MDL:hover{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_option__33MDL label{\n    margin-bottom: 5px;\n    user-select: none;\n  }\n.ContextMenu_option__33MDL label:last-child{\n      margin-bottom: 0px;\n    }\n.ContextMenu_option__33MDL p{\n    margin: 0px;\n    font-style: italic;\n    font-size: 12px;\n    color: rgb(182, 186, 194);\n    user-select: none;\n  }\n.ContextMenu_option__33MDL[data-selected=true]{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_emptyText__2rcXy{\n  color: #fff;\n  padding: 5px;\n}\n";
+var styles$1 = {
+  menuWrapper: "ContextMenu_menuWrapper__1BheJ",
+  menuHeader: "ContextMenu_menuHeader__1Cw58",
+  menuLabel: "ContextMenu_menuLabel__158Pv",
+  optionsWrapper: "ContextMenu_optionsWrapper__2YK_z",
+  menuFilter: "ContextMenu_menuFilter__1goBp",
+  option: "ContextMenu_option__33MDL",
+  emptyText: "ContextMenu_emptyText__2rcXy",
+};
 styleInject(css$1);
 
 /**
@@ -554,7 +765,7 @@ var reTrimStart = /^\s+/;
  */
 function baseTrim(string) {
   return string
-    ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, '')
+    ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, "")
     : string;
 }
 
@@ -587,27 +798,41 @@ var _baseTrim = baseTrim;
  */
 function isObject(value) {
   var type = typeof value;
-  return value != null && (type == 'object' || type == 'function');
+  return value != null && (type == "object" || type == "function");
 }
 
 var isObject_1 = isObject;
 
-var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};
+var commonjsGlobal =
+  typeof globalThis !== "undefined"
+    ? globalThis
+    : typeof window !== "undefined"
+    ? window
+    : typeof global !== "undefined"
+    ? global
+    : typeof self !== "undefined"
+    ? self
+    : {};
 
 function createCommonjsModule(fn, module) {
-	return module = { exports: {} }, fn(module, module.exports), module.exports;
+  return (module = { exports: {} }), fn(module, module.exports), module.exports;
 }
 
 /** Detect free variable `global` from Node.js. */
-var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;
+var freeGlobal =
+  typeof commonjsGlobal == "object" &&
+  commonjsGlobal &&
+  commonjsGlobal.Object === Object &&
+  commonjsGlobal;
 
 var _freeGlobal = freeGlobal;
 
 /** Detect free variable `self`. */
-var freeSelf = typeof self == 'object' && self && self.Object === Object && self;
+var freeSelf =
+  typeof self == "object" && self && self.Object === Object && self;
 
 /** Used as a reference to the global object. */
-var root = _freeGlobal || freeSelf || Function('return this')();
+var root = _freeGlobal || freeSelf || Function("return this")();
 
 var _root = root;
 
@@ -641,7 +866,7 @@ var symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;
  */
 function getRawTag(value) {
   var isOwn = hasOwnProperty.call(value, symToStringTag),
-      tag = value[symToStringTag];
+    tag = value[symToStringTag];
 
   try {
     value[symToStringTag] = undefined;
@@ -684,8 +909,8 @@ function objectToString(value) {
 var _objectToString = objectToString;
 
 /** `Object#toString` result references. */
-var nullTag = '[object Null]',
-    undefinedTag = '[object Undefined]';
+var nullTag = "[object Null]",
+  undefinedTag = "[object Undefined]";
 
 /** Built-in value references. */
 var symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;
@@ -701,7 +926,7 @@ function baseGetTag(value) {
   if (value == null) {
     return value === undefined ? undefinedTag : nullTag;
   }
-  return (symToStringTag$1 && symToStringTag$1 in Object(value))
+  return symToStringTag$1 && symToStringTag$1 in Object(value)
     ? _getRawTag(value)
     : _objectToString(value);
 }
@@ -733,13 +958,13 @@ var _baseGetTag = baseGetTag;
  * // => false
  */
 function isObjectLike(value) {
-  return value != null && typeof value == 'object';
+  return value != null && typeof value == "object";
 }
 
 var isObjectLike_1 = isObjectLike;
 
 /** `Object#toString` result references. */
-var symbolTag = '[object Symbol]';
+var symbolTag = "[object Symbol]";
 
 /**
  * Checks if `value` is classified as a `Symbol` primitive or object.
@@ -759,8 +984,10 @@ var symbolTag = '[object Symbol]';
  * // => false
  */
 function isSymbol(value) {
-  return typeof value == 'symbol' ||
-    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);
+  return (
+    typeof value == "symbol" ||
+    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag)
+  );
 }
 
 var isSymbol_1 = isSymbol;
@@ -804,24 +1031,26 @@ var freeParseInt = parseInt;
  * // => 3.2
  */
 function toNumber(value) {
-  if (typeof value == 'number') {
+  if (typeof value == "number") {
     return value;
   }
   if (isSymbol_1(value)) {
     return NAN;
   }
   if (isObject_1(value)) {
-    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
-    value = isObject_1(other) ? (other + '') : other;
+    var other = typeof value.valueOf == "function" ? value.valueOf() : value;
+    value = isObject_1(other) ? other + "" : other;
   }
-  if (typeof value != 'string') {
+  if (typeof value != "string") {
     return value === 0 ? value : +value;
   }
   value = _baseTrim(value);
   var isBinary = reIsBinary.test(value);
-  return (isBinary || reIsOctal.test(value))
+  return isBinary || reIsOctal.test(value)
     ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
-    : (reIsBadHex.test(value) ? NAN : +value);
+    : reIsBadHex.test(value)
+    ? NAN
+    : +value;
 }
 
 var toNumber_1 = toNumber;
@@ -864,21 +1093,29 @@ function clamp(number, lower, upper) {
 var clamp_1 = clamp;
 
 let urlAlphabet =
-  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict';
+  "useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";
 let nanoid = (size = 21) => {
-  let id = '';
+  let id = "";
   let i = size;
   while (i--) {
     id += urlAlphabet[(Math.random() * 64) | 0];
   }
-  return id
+  return id;
 };
 
-var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
-  return typeof obj;
-} : function (obj) {
-  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
-};
+var _typeof =
+  typeof Symbol === "function" && typeof Symbol.iterator === "symbol"
+    ? function (obj) {
+        return typeof obj;
+      }
+    : function (obj) {
+        return obj &&
+          typeof Symbol === "function" &&
+          obj.constructor === Symbol &&
+          obj !== Symbol.prototype
+          ? "symbol"
+          : typeof obj;
+      };
 
 var classCallCheck = function (instance, Constructor) {
   if (!(instance instanceof Constructor)) {
@@ -886,7 +1123,7 @@ var classCallCheck = function (instance, Constructor) {
   }
 };
 
-var createClass = function () {
+var createClass = (function () {
   function defineProperties(target, props) {
     for (var i = 0; i < props.length; i++) {
       var descriptor = props[i];
@@ -902,7 +1139,7 @@ var createClass = function () {
     if (staticProps) defineProperties(Constructor, staticProps);
     return Constructor;
   };
-}();
+})();
 
 var defineProperty = function (obj, key, value) {
   if (key in obj) {
@@ -910,7 +1147,7 @@ var defineProperty = function (obj, key, value) {
       value: value,
       enumerable: true,
       configurable: true,
-      writable: true
+      writable: true,
     });
   } else {
     obj[key] = value;
@@ -919,23 +1156,28 @@ var defineProperty = function (obj, key, value) {
   return obj;
 };
 
-var _extends = Object.assign || function (target) {
-  for (var i = 1; i < arguments.length; i++) {
-    var source = arguments[i];
+var _extends =
+  Object.assign ||
+  function (target) {
+    for (var i = 1; i < arguments.length; i++) {
+      var source = arguments[i];
 
-    for (var key in source) {
-      if (Object.prototype.hasOwnProperty.call(source, key)) {
-        target[key] = source[key];
+      for (var key in source) {
+        if (Object.prototype.hasOwnProperty.call(source, key)) {
+          target[key] = source[key];
+        }
       }
     }
-  }
 
-  return target;
-};
+    return target;
+  };
 
 var inherits = function (subClass, superClass) {
   if (typeof superClass !== "function" && superClass !== null) {
-    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
+    throw new TypeError(
+      "Super expression must either be null or a function, not " +
+        typeof superClass
+    );
   }
 
   subClass.prototype = Object.create(superClass && superClass.prototype, {
@@ -943,10 +1185,13 @@ var inherits = function (subClass, superClass) {
       value: subClass,
       enumerable: false,
       writable: true,
-      configurable: true
-    }
+      configurable: true,
+    },
   });
-  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
+  if (superClass)
+    Object.setPrototypeOf
+      ? Object.setPrototypeOf(subClass, superClass)
+      : (subClass.__proto__ = superClass);
 };
 
 var objectWithoutProperties = function (obj, keys) {
@@ -963,13 +1208,17 @@ var objectWithoutProperties = function (obj, keys) {
 
 var possibleConstructorReturn = function (self, call) {
   if (!self) {
-    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
+    throw new ReferenceError(
+      "this hasn't been initialised - super() hasn't been called"
+    );
   }
 
-  return call && (typeof call === "object" || typeof call === "function") ? call : self;
+  return call && (typeof call === "object" || typeof call === "function")
+    ? call
+    : self;
 };
 
-var slicedToArray = function () {
+var slicedToArray = (function () {
   function sliceIterator(arr, i) {
     var _arr = [];
     var _n = true;
@@ -977,7 +1226,11 @@ var slicedToArray = function () {
     var _e = undefined;
 
     try {
-      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
+      for (
+        var _i = arr[Symbol.iterator](), _s;
+        !(_n = (_s = _i.next()).done);
+        _n = true
+      ) {
         _arr.push(_s.value);
 
         if (i && _arr.length === i) break;
@@ -1002,14 +1255,17 @@ var slicedToArray = function () {
     } else if (Symbol.iterator in Object(arr)) {
       return sliceIterator(arr, i);
     } else {
-      throw new TypeError("Invalid attempt to destructure non-iterable instance");
+      throw new TypeError(
+        "Invalid attempt to destructure non-iterable instance"
+      );
     }
   };
-}();
+})();
 
 var toConsumableArray = function (arr) {
   if (Array.isArray(arr)) {
-    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
+    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++)
+      arr2[i] = arr[i];
 
     return arr2;
   } else {
@@ -1019,34 +1275,34 @@ var toConsumableArray = function (arr) {
 
 var ContextMenu = function ContextMenu(_ref) {
   var x = _ref.x,
-      y = _ref.y,
-      _ref$options = _ref.options,
-      options = _ref$options === undefined ? [] : _ref$options,
-      onRequestClose = _ref.onRequestClose,
-      onOptionSelected = _ref.onOptionSelected,
-      label = _ref.label,
-      hideHeader = _ref.hideHeader,
-      hideFilter = _ref.hideFilter,
-      emptyText = _ref.emptyText;
+    y = _ref.y,
+    _ref$options = _ref.options,
+    options = _ref$options === undefined ? [] : _ref$options,
+    onRequestClose = _ref.onRequestClose,
+    onOptionSelected = _ref.onOptionSelected,
+    label = _ref.label,
+    hideHeader = _ref.hideHeader,
+    hideFilter = _ref.hideFilter,
+    emptyText = _ref.emptyText;
 
   var menuWrapper = React__default.useRef();
   var menuOptionsWrapper = React__default.useRef();
   var filterInput = React__default.useRef();
 
   var _React$useState = React__default.useState(""),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      filter = _React$useState2[0],
-      setFilter = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    filter = _React$useState2[0],
+    setFilter = _React$useState2[1];
 
   var _React$useState3 = React__default.useState(0),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      menuWidth = _React$useState4[0],
-      setMenuWidth = _React$useState4[1];
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    menuWidth = _React$useState4[0],
+    setMenuWidth = _React$useState4[1];
 
   var _React$useState5 = React__default.useState(0),
-      _React$useState6 = slicedToArray(_React$useState5, 2),
-      selectedIndex = _React$useState6[0],
-      setSelectedIndex = _React$useState6[1];
+    _React$useState6 = slicedToArray(_React$useState5, 2),
+    selectedIndex = _React$useState6[0],
+    setSelectedIndex = _React$useState6[1];
 
   var menuId = React__default.useRef(nanoid(10));
 
@@ -1055,43 +1311,65 @@ var ContextMenu = function ContextMenu(_ref) {
     onRequestClose();
   };
 
-  var testClickOutside = React__default.useCallback(function (e) {
-    if (menuWrapper.current && !menuWrapper.current.contains(e.target)) {
-      onRequestClose();
-      document.removeEventListener("click", testClickOutside, { capture: true });
-      document.removeEventListener("contextmenu", testClickOutside, { capture: true });
-    }
-  }, [menuWrapper, onRequestClose]);
-
-  var testEscape = React__default.useCallback(function (e) {
-    if (e.keyCode === 27) {
-      onRequestClose();
-      document.removeEventListener("keydown", testEscape, { capture: true });
-    }
-  }, [onRequestClose]);
+  var testClickOutside = React__default.useCallback(
+    function (e) {
+      if (menuWrapper.current && !menuWrapper.current.contains(e.target)) {
+        onRequestClose();
+        document.removeEventListener("click", testClickOutside, {
+          capture: true,
+        });
+        document.removeEventListener("contextmenu", testClickOutside, {
+          capture: true,
+        });
+      }
+    },
+    [menuWrapper, onRequestClose]
+  );
 
-  React__default.useEffect(function () {
-    if (filterInput.current) {
-      filterInput.current.focus();
-    }
-    setMenuWidth(menuWrapper.current.getBoundingClientRect().width);
-    document.addEventListener("keydown", testEscape, { capture: true });
-    document.addEventListener("click", testClickOutside, { capture: true });
-    document.addEventListener("contextmenu", testClickOutside, { capture: true });
-    return function () {
-      document.removeEventListener("click", testClickOutside, { capture: true });
-      document.removeEventListener("contextmenu", testClickOutside, { capture: true });
-      document.removeEventListener("keydown", testEscape, { capture: true });
-    };
-  }, [testClickOutside, testEscape]);
+  var testEscape = React__default.useCallback(
+    function (e) {
+      if (e.keyCode === 27) {
+        onRequestClose();
+        document.removeEventListener("keydown", testEscape, { capture: true });
+      }
+    },
+    [onRequestClose]
+  );
 
-  var filteredOptions = React__default.useMemo(function () {
-    if (!filter) return options;
-    var lowerFilter = filter.toLowerCase();
-    return options.filter(function (opt) {
-      return opt.label.toLowerCase().includes(lowerFilter);
-    });
-  }, [filter, options]);
+  React__default.useEffect(
+    function () {
+      if (filterInput.current) {
+        filterInput.current.focus();
+      }
+      setMenuWidth(menuWrapper.current.getBoundingClientRect().width);
+      document.addEventListener("keydown", testEscape, { capture: true });
+      document.addEventListener("click", testClickOutside, { capture: true });
+      document.addEventListener("contextmenu", testClickOutside, {
+        capture: true,
+      });
+      return function () {
+        document.removeEventListener("click", testClickOutside, {
+          capture: true,
+        });
+        document.removeEventListener("contextmenu", testClickOutside, {
+          capture: true,
+        });
+        document.removeEventListener("keydown", testEscape, { capture: true });
+      };
+    },
+    [testClickOutside, testEscape]
+  );
+
+  var filteredOptions = React__default.useMemo(
+    function () {
+      if (!filter) return options;
+      var lowerFilter = filter.toLowerCase();
+      return options.filter(function (opt) {
+        return opt.label.toLowerCase().includes(lowerFilter);
+      });
+    },
+    [filter, options]
+  );
 
   var handleFilterChange = function handleFilterChange(e) {
     var value = e.target.value;
@@ -1131,22 +1409,33 @@ var ContextMenu = function ContextMenu(_ref) {
     }
   };
 
-  React__default.useEffect(function () {
-    if (hideFilter || hideHeader) {
-      menuWrapper.current.focus();
-    }
-  }, [hideFilter, hideHeader]);
+  React__default.useEffect(
+    function () {
+      if (hideFilter || hideHeader) {
+        menuWrapper.current.focus();
+      }
+    },
+    [hideFilter, hideHeader]
+  );
 
-  React__default.useEffect(function () {
-    var menuOption = document.getElementById(menuId.current + "-" + selectedIndex);
-    if (menuOption) {
-      var menuRect = menuOptionsWrapper.current.getBoundingClientRect();
-      var optionRect = menuOption.getBoundingClientRect();
-      if (optionRect.y + optionRect.height > menuRect.y + menuRect.height || optionRect.y < menuRect.y) {
-        menuOption.scrollIntoView({ block: "nearest" });
+  React__default.useEffect(
+    function () {
+      var menuOption = document.getElementById(
+        menuId.current + "-" + selectedIndex
+      );
+      if (menuOption) {
+        var menuRect = menuOptionsWrapper.current.getBoundingClientRect();
+        var optionRect = menuOption.getBoundingClientRect();
+        if (
+          optionRect.y + optionRect.height > menuRect.y + menuRect.height ||
+          optionRect.y < menuRect.y
+        ) {
+          menuOption.scrollIntoView({ block: "nearest" });
+        }
       }
-    }
-  }, [selectedIndex]);
+    },
+    [selectedIndex]
+  );
 
   return React__default.createElement(
     "div",
@@ -1160,32 +1449,42 @@ var ContextMenu = function ContextMenu(_ref) {
       style: {
         left: x,
         top: y,
-        width: filter ? menuWidth : "auto"
+        width: filter ? menuWidth : "auto",
       },
       ref: menuWrapper,
       tabIndex: 0,
       role: "menu",
-      "aria-activedescendant": menuId.current + "-" + selectedIndex
+      "aria-activedescendant": menuId.current + "-" + selectedIndex,
     },
-    !hideHeader && (label ? true : !!options.length) ? React__default.createElement(
-      "div",
-      { className: styles$1.menuHeader, "data-flume-component": "ctx-menu-header" },
-      React__default.createElement(
-        "label",
-        { className: styles$1.menuLabel, "data-flume-component": "ctx-menu-title" },
-        label
-      ),
-      !hideFilter && options.length ? React__default.createElement("input", {
-        "data-flume-component": "ctx-menu-input",
-        type: "text",
-        placeholder: "Filter options",
-        value: filter,
-        onChange: handleFilterChange,
-        className: styles$1.menuFilter,
-        autoFocus: true,
-        ref: filterInput
-      }) : null
-    ) : null,
+    !hideHeader && (label ? true : !!options.length)
+      ? React__default.createElement(
+          "div",
+          {
+            className: styles$1.menuHeader,
+            "data-flume-component": "ctx-menu-header",
+          },
+          React__default.createElement(
+            "label",
+            {
+              className: styles$1.menuLabel,
+              "data-flume-component": "ctx-menu-title",
+            },
+            label
+          ),
+          !hideFilter && options.length
+            ? React__default.createElement("input", {
+                "data-flume-component": "ctx-menu-input",
+                type: "text",
+                placeholder: "Filter options",
+                value: filter,
+                onChange: handleFilterChange,
+                className: styles$1.menuFilter,
+                autoFocus: true,
+                ref: filterInput,
+              })
+            : null
+        )
+      : null,
     React__default.createElement(
       "div",
       {
@@ -1193,7 +1492,7 @@ var ContextMenu = function ContextMenu(_ref) {
         className: styles$1.optionsWrapper,
         role: "menu",
         ref: menuOptionsWrapper,
-        style: { maxHeight: clamp_1(window.innerHeight - y - 70, 10, 300) }
+        style: { maxHeight: clamp_1(window.innerHeight - y - 70, 10, 300) },
       },
       filteredOptions.map(function (option, i) {
         return React__default.createElement(
@@ -1208,36 +1507,35 @@ var ContextMenu = function ContextMenu(_ref) {
               return setSelectedIndex(null);
             },
             index: i,
-            key: option.value + i
+            key: option.value + i,
           },
-          React__default.createElement(
-            "label",
-            null,
-            option.label
-          ),
-          option.description ? React__default.createElement(
-            "p",
-            null,
-            option.description
-          ) : null
+          React__default.createElement("label", null, option.label),
+          option.description
+            ? React__default.createElement("p", null, option.description)
+            : null
         );
       }),
-      !options.length ? React__default.createElement(
-        "span",
-        { "data-flume-component": "ctx-menu-empty", className: styles$1.emptyText },
-        emptyText
-      ) : null
+      !options.length
+        ? React__default.createElement(
+            "span",
+            {
+              "data-flume-component": "ctx-menu-empty",
+              className: styles$1.emptyText,
+            },
+            emptyText
+          )
+        : null
     )
   );
 };
 
 var ContextOption = function ContextOption(_ref2) {
   var menuId = _ref2.menuId,
-      index = _ref2.index,
-      children = _ref2.children,
-      onClick = _ref2.onClick,
-      selected = _ref2.selected,
-      onMouseEnter = _ref2.onMouseEnter;
+    index = _ref2.index,
+    children = _ref2.children,
+    onClick = _ref2.onClick,
+    selected = _ref2.selected,
+    onMouseEnter = _ref2.onMouseEnter;
 
   return React__default.createElement(
     "div",
@@ -1248,7 +1546,7 @@ var ContextOption = function ContextOption(_ref2) {
       onClick: onClick,
       onMouseEnter: onMouseEnter,
       "data-selected": selected,
-      id: menuId + "-" + index
+      id: menuId + "-" + index,
     },
     children
   );
@@ -1264,33 +1562,58 @@ var CacheContext = React__default.createContext();
 var RecalculateStageRectContext = React__default.createContext();
 var EditorIdContext = React__default.createContext();
 
-var Draggable = (function (_ref) {
+var Draggable = function (_ref) {
   var children = _ref.children,
-      stageState = _ref.stageState,
-      stageRect = _ref.stageRect,
-      onDragDelayStart = _ref.onDragDelayStart,
-      onDragStart = _ref.onDragStart,
-      onDrag = _ref.onDrag,
-      onDragEnd = _ref.onDragEnd,
-      _onMouseDown = _ref.onMouseDown,
-      _onTouchStart = _ref.onTouchStart,
-      disabled = _ref.disabled,
-      _ref$delay = _ref.delay,
-      delay = _ref$delay === undefined ? 6 : _ref$delay,
-      innerRef = _ref.innerRef,
-      rest = objectWithoutProperties(_ref, ["children", "stageState", "stageRect", "onDragDelayStart", "onDragStart", "onDrag", "onDragEnd", "onMouseDown", "onTouchStart", "disabled", "delay", "innerRef"]);
+    stageState = _ref.stageState,
+    stageRect = _ref.stageRect,
+    onDragDelayStart = _ref.onDragDelayStart,
+    onDragStart = _ref.onDragStart,
+    onDrag = _ref.onDrag,
+    onDragEnd = _ref.onDragEnd,
+    _onMouseDown = _ref.onMouseDown,
+    _onTouchStart = _ref.onTouchStart,
+    disabled = _ref.disabled,
+    _ref$delay = _ref.delay,
+    delay = _ref$delay === undefined ? 6 : _ref$delay,
+    innerRef = _ref.innerRef,
+    rest = objectWithoutProperties(_ref, [
+      "children",
+      "stageState",
+      "stageRect",
+      "onDragDelayStart",
+      "onDragStart",
+      "onDrag",
+      "onDragEnd",
+      "onMouseDown",
+      "onTouchStart",
+      "disabled",
+      "delay",
+      "innerRef",
+    ]);
 
   var startCoordinates = React__default.useRef(null);
   var offset = React__default.useRef();
   var wrapper = React__default.useRef();
 
   var byScale = function byScale(value) {
-    return 1 / stageState.scale * value;
+    return (1 / stageState.scale) * value;
   };
 
   var getScaledCoordinates = function getScaledCoordinates(e) {
-    var x = byScale(e.clientX - (stageRect ? stageRect.current.left : 0) - offset.current.x - (stageRect ? stageRect.current.width : 0) / 2) + byScale(stageState.translate.x);
-    var y = byScale(e.clientY - (stageRect ? stageRect.current.top : 0) - offset.current.y - (stageRect ? stageRect.current.height : 0) / 2) + byScale(stageState.translate.y);
+    var x =
+      byScale(
+        e.clientX -
+          (stageRect ? stageRect.current.left : 0) -
+          offset.current.x -
+          (stageRect ? stageRect.current.width : 0) / 2
+      ) + byScale(stageState.translate.x);
+    var y =
+      byScale(
+        e.clientY -
+          (stageRect ? stageRect.current.top : 0) -
+          offset.current.y -
+          (stageRect ? stageRect.current.height : 0) / 2
+      ) + byScale(stageState.translate.y);
     return { x: x, y: y };
   };
 
@@ -1317,7 +1640,7 @@ var Draggable = (function (_ref) {
     var nodeRect = wrapper.current.getBoundingClientRect();
     offset.current = {
       x: startCoordinates.current.x - nodeRect.left,
-      y: startCoordinates.current.y - nodeRect.top
+      y: startCoordinates.current.y - nodeRect.top,
     };
     window.addEventListener("mouseup", stopDrag);
     window.addEventListener("mousemove", updateCoordinates);
@@ -1372,37 +1695,40 @@ var Draggable = (function (_ref) {
 
   return React__default.createElement(
     "div",
-    _extends({
-      onMouseDown: function onMouseDown(e) {
-        if (!disabled) {
-          startDragDelay(e);
-        }
-        if (_onMouseDown) {
-          _onMouseDown(e);
-        }
-      },
-      onTouchStart: function onTouchStart(e) {
-        if (!disabled) {
-          startDragDelay(e);
-        }
-        if (_onTouchStart) {
-          _onTouchStart(e);
-        }
-      },
-      onDragStart: function onDragStart(e) {
-        e.preventDefault();
-        e.stopPropagation();
+    _extends(
+      {
+        onMouseDown: function onMouseDown(e) {
+          if (!disabled) {
+            startDragDelay(e);
+          }
+          if (_onMouseDown) {
+            _onMouseDown(e);
+          }
+        },
+        onTouchStart: function onTouchStart(e) {
+          if (!disabled) {
+            startDragDelay(e);
+          }
+          if (_onTouchStart) {
+            _onTouchStart(e);
+          }
+        },
+        onDragStart: function onDragStart(e) {
+          e.preventDefault();
+          e.stopPropagation();
+        },
+        ref: function ref(_ref2) {
+          wrapper.current = _ref2;
+          if (innerRef) {
+            innerRef.current = _ref2;
+          }
+        },
       },
-      ref: function ref(_ref2) {
-        wrapper.current = _ref2;
-        if (innerRef) {
-          innerRef.current = _ref2;
-        }
-      }
-    }, rest),
+      rest
+    ),
     children
   );
-});
+};
 
 /**
  * A specialized version of `_.map` for arrays without support for iteratee
@@ -1415,8 +1741,8 @@ var Draggable = (function (_ref) {
  */
 function arrayMap(array, iteratee) {
   var index = -1,
-      length = array == null ? 0 : array.length,
-      result = Array(length);
+    length = array == null ? 0 : array.length,
+    result = Array(length);
 
   while (++index < length) {
     result[index] = iteratee(array[index], index, array);
@@ -1455,7 +1781,7 @@ var isArray_1 = isArray;
 
 /** Used to match property names within property paths. */
 var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
-    reIsPlainProp = /^\w*$/;
+  reIsPlainProp = /^\w*$/;
 
 /**
  * Checks if `value` is a property name and not a property path.
@@ -1470,21 +1796,29 @@ function isKey(value, object) {
     return false;
   }
   var type = typeof value;
-  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
-      value == null || isSymbol_1(value)) {
+  if (
+    type == "number" ||
+    type == "symbol" ||
+    type == "boolean" ||
+    value == null ||
+    isSymbol_1(value)
+  ) {
     return true;
   }
-  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
-    (object != null && value in Object(object));
+  return (
+    reIsPlainProp.test(value) ||
+    !reIsDeepProp.test(value) ||
+    (object != null && value in Object(object))
+  );
 }
 
 var _isKey = isKey;
 
 /** `Object#toString` result references. */
-var asyncTag = '[object AsyncFunction]',
-    funcTag = '[object Function]',
-    genTag = '[object GeneratorFunction]',
-    proxyTag = '[object Proxy]';
+var asyncTag = "[object AsyncFunction]",
+  funcTag = "[object Function]",
+  genTag = "[object GeneratorFunction]",
+  proxyTag = "[object Proxy]";
 
 /**
  * Checks if `value` is classified as a `Function` object.
@@ -1516,15 +1850,17 @@ function isFunction$1(value) {
 var isFunction_1 = isFunction$1;
 
 /** Used to detect overreaching core-js shims. */
-var coreJsData = _root['__core-js_shared__'];
+var coreJsData = _root["__core-js_shared__"];
 
 var _coreJsData = coreJsData;
 
 /** Used to detect methods masquerading as native. */
-var maskSrcKey = (function() {
-  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');
-  return uid ? ('Symbol(src)_1.' + uid) : '';
-}());
+var maskSrcKey = (function () {
+  var uid = /[^.]+$/.exec(
+    (_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO) || ""
+  );
+  return uid ? "Symbol(src)_1." + uid : "";
+})();
 
 /**
  * Checks if `func` has its source masked.
@@ -1534,7 +1870,7 @@ var maskSrcKey = (function() {
  * @returns {boolean} Returns `true` if `func` is masked, else `false`.
  */
 function isMasked(func) {
-  return !!maskSrcKey && (maskSrcKey in func);
+  return !!maskSrcKey && maskSrcKey in func;
 }
 
 var _isMasked = isMasked;
@@ -1558,10 +1894,10 @@ function toSource(func) {
       return funcToString.call(func);
     } catch (e) {}
     try {
-      return (func + '');
+      return func + "";
     } catch (e) {}
   }
-  return '';
+  return "";
 }
 
 var _toSource = toSource;
@@ -1577,7 +1913,7 @@ var reIsHostCtor = /^\[object .+?Constructor\]$/;
 
 /** Used for built-in method references. */
 var funcProto$1 = Function.prototype,
-    objectProto$2 = Object.prototype;
+  objectProto$2 = Object.prototype;
 
 /** Used to resolve the decompiled source of functions. */
 var funcToString$1 = funcProto$1.toString;
@@ -1586,9 +1922,16 @@ var funcToString$1 = funcProto$1.toString;
 var hasOwnProperty$1 = objectProto$2.hasOwnProperty;
 
 /** Used to detect if a method is native. */
-var reIsNative = RegExp('^' +
-  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\$&')
-  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
+var reIsNative = RegExp(
+  "^" +
+    funcToString$1
+      .call(hasOwnProperty$1)
+      .replace(reRegExpChar, "\\$&")
+      .replace(
+        /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
+        "$1.*?"
+      ) +
+    "$"
 );
 
 /**
@@ -1639,7 +1982,7 @@ function getNative(object, key) {
 var _getNative = getNative;
 
 /* Built-in method references that are verified to be native. */
-var nativeCreate = _getNative(Object, 'create');
+var nativeCreate = _getNative(Object, "create");
 
 var _nativeCreate = nativeCreate;
 
@@ -1676,7 +2019,7 @@ function hashDelete(key) {
 var _hashDelete = hashDelete;
 
 /** Used to stand-in for `undefined` hash values. */
-var HASH_UNDEFINED = '__lodash_hash_undefined__';
+var HASH_UNDEFINED = "__lodash_hash_undefined__";
 
 /** Used for built-in method references. */
 var objectProto$3 = Object.prototype;
@@ -1721,13 +2064,15 @@ var hasOwnProperty$3 = objectProto$4.hasOwnProperty;
  */
 function hashHas(key) {
   var data = this.__data__;
-  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);
+  return _nativeCreate
+    ? data[key] !== undefined
+    : hasOwnProperty$3.call(data, key);
 }
 
 var _hashHas = hashHas;
 
 /** Used to stand-in for `undefined` hash values. */
-var HASH_UNDEFINED$1 = '__lodash_hash_undefined__';
+var HASH_UNDEFINED$1 = "__lodash_hash_undefined__";
 
 /**
  * Sets the hash `key` to `value`.
@@ -1742,7 +2087,7 @@ var HASH_UNDEFINED$1 = '__lodash_hash_undefined__';
 function hashSet(key, value) {
   var data = this.__data__;
   this.size += this.has(key) ? 0 : 1;
-  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;
+  data[key] = _nativeCreate && value === undefined ? HASH_UNDEFINED$1 : value;
   return this;
 }
 
@@ -1757,7 +2102,7 @@ var _hashSet = hashSet;
  */
 function Hash(entries) {
   var index = -1,
-      length = entries == null ? 0 : entries.length;
+    length = entries == null ? 0 : entries.length;
 
   this.clear();
   while (++index < length) {
@@ -1768,7 +2113,7 @@ function Hash(entries) {
 
 // Add methods to `Hash`.
 Hash.prototype.clear = _hashClear;
-Hash.prototype['delete'] = _hashDelete;
+Hash.prototype["delete"] = _hashDelete;
 Hash.prototype.get = _hashGet;
 Hash.prototype.has = _hashHas;
 Hash.prototype.set = _hashSet;
@@ -1864,7 +2209,7 @@ var splice = arrayProto.splice;
  */
 function listCacheDelete(key) {
   var data = this.__data__,
-      index = _assocIndexOf(data, key);
+    index = _assocIndexOf(data, key);
 
   if (index < 0) {
     return false;
@@ -1892,7 +2237,7 @@ var _listCacheDelete = listCacheDelete;
  */
 function listCacheGet(key) {
   var data = this.__data__,
-      index = _assocIndexOf(data, key);
+    index = _assocIndexOf(data, key);
 
   return index < 0 ? undefined : data[index][1];
 }
@@ -1926,7 +2271,7 @@ var _listCacheHas = listCacheHas;
  */
 function listCacheSet(key, value) {
   var data = this.__data__,
-      index = _assocIndexOf(data, key);
+    index = _assocIndexOf(data, key);
 
   if (index < 0) {
     ++this.size;
@@ -1948,7 +2293,7 @@ var _listCacheSet = listCacheSet;
  */
 function ListCache(entries) {
   var index = -1,
-      length = entries == null ? 0 : entries.length;
+    length = entries == null ? 0 : entries.length;
 
   this.clear();
   while (++index < length) {
@@ -1959,7 +2304,7 @@ function ListCache(entries) {
 
 // Add methods to `ListCache`.
 ListCache.prototype.clear = _listCacheClear;
-ListCache.prototype['delete'] = _listCacheDelete;
+ListCache.prototype["delete"] = _listCacheDelete;
 ListCache.prototype.get = _listCacheGet;
 ListCache.prototype.has = _listCacheHas;
 ListCache.prototype.set = _listCacheSet;
@@ -1967,7 +2312,7 @@ ListCache.prototype.set = _listCacheSet;
 var _ListCache = ListCache;
 
 /* Built-in method references that are verified to be native. */
-var Map = _getNative(_root, 'Map');
+var Map = _getNative(_root, "Map");
 
 var _Map = Map;
 
@@ -1981,9 +2326,9 @@ var _Map = Map;
 function mapCacheClear() {
   this.size = 0;
   this.__data__ = {
-    'hash': new _Hash,
-    'map': new (_Map || _ListCache),
-    'string': new _Hash
+    hash: new _Hash(),
+    map: new (_Map || _ListCache)(),
+    string: new _Hash(),
   };
 }
 
@@ -1998,9 +2343,12 @@ var _mapCacheClear = mapCacheClear;
  */
 function isKeyable(value) {
   var type = typeof value;
-  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
-    ? (value !== '__proto__')
-    : (value === null);
+  return type == "string" ||
+    type == "number" ||
+    type == "symbol" ||
+    type == "boolean"
+    ? value !== "__proto__"
+    : value === null;
 }
 
 var _isKeyable = isKeyable;
@@ -2016,7 +2364,7 @@ var _isKeyable = isKeyable;
 function getMapData(map, key) {
   var data = map.__data__;
   return _isKeyable(key)
-    ? data[typeof key == 'string' ? 'string' : 'hash']
+    ? data[typeof key == "string" ? "string" : "hash"]
     : data.map;
 }
 
@@ -2032,7 +2380,7 @@ var _getMapData = getMapData;
  * @returns {boolean} Returns `true` if the entry was removed, else `false`.
  */
 function mapCacheDelete(key) {
-  var result = _getMapData(this, key)['delete'](key);
+  var result = _getMapData(this, key)["delete"](key);
   this.size -= result ? 1 : 0;
   return result;
 }
@@ -2081,7 +2429,7 @@ var _mapCacheHas = mapCacheHas;
  */
 function mapCacheSet(key, value) {
   var data = _getMapData(this, key),
-      size = data.size;
+    size = data.size;
 
   data.set(key, value);
   this.size += data.size == size ? 0 : 1;
@@ -2099,7 +2447,7 @@ var _mapCacheSet = mapCacheSet;
  */
 function MapCache(entries) {
   var index = -1,
-      length = entries == null ? 0 : entries.length;
+    length = entries == null ? 0 : entries.length;
 
   this.clear();
   while (++index < length) {
@@ -2110,7 +2458,7 @@ function MapCache(entries) {
 
 // Add methods to `MapCache`.
 MapCache.prototype.clear = _mapCacheClear;
-MapCache.prototype['delete'] = _mapCacheDelete;
+MapCache.prototype["delete"] = _mapCacheDelete;
 MapCache.prototype.get = _mapCacheGet;
 MapCache.prototype.has = _mapCacheHas;
 MapCache.prototype.set = _mapCacheSet;
@@ -2118,7 +2466,7 @@ MapCache.prototype.set = _mapCacheSet;
 var _MapCache = MapCache;
 
 /** Error message constants. */
-var FUNC_ERROR_TEXT = 'Expected a function';
+var FUNC_ERROR_TEXT = "Expected a function";
 
 /**
  * Creates a function that memoizes the result of `func`. If `resolver` is
@@ -2165,13 +2513,16 @@ var FUNC_ERROR_TEXT = 'Expected a function';
  * _.memoize.Cache = WeakMap;
  */
 function memoize(func, resolver) {
-  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {
+  if (
+    typeof func != "function" ||
+    (resolver != null && typeof resolver != "function")
+  ) {
     throw new TypeError(FUNC_ERROR_TEXT);
   }
-  var memoized = function() {
+  var memoized = function () {
     var args = arguments,
-        key = resolver ? resolver.apply(this, args) : args[0],
-        cache = memoized.cache;
+      key = resolver ? resolver.apply(this, args) : args[0],
+      cache = memoized.cache;
 
     if (cache.has(key)) {
       return cache.get(key);
@@ -2180,7 +2531,7 @@ function memoize(func, resolver) {
     memoized.cache = cache.set(key, result) || cache;
     return result;
   };
-  memoized.cache = new (memoize.Cache || _MapCache);
+  memoized.cache = new (memoize.Cache || _MapCache)();
   return memoized;
 }
 
@@ -2201,7 +2552,7 @@ var MAX_MEMOIZE_SIZE = 500;
  * @returns {Function} Returns the new memoized function.
  */
 function memoizeCapped(func) {
-  var result = memoize_1(func, function(key) {
+  var result = memoize_1(func, function (key) {
     if (cache.size === MAX_MEMOIZE_SIZE) {
       cache.clear();
     }
@@ -2215,7 +2566,8 @@ function memoizeCapped(func) {
 var _memoizeCapped = memoizeCapped;
 
 /** Used to match property names within property paths. */
-var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
+var rePropName =
+  /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
 
 /** Used to match backslashes in property paths. */
 var reEscapeChar = /\\(\\)?/g;
@@ -2227,13 +2579,15 @@ var reEscapeChar = /\\(\\)?/g;
  * @param {string} string The string to convert.
  * @returns {Array} Returns the property path array.
  */
-var stringToPath = _memoizeCapped(function(string) {
+var stringToPath = _memoizeCapped(function (string) {
   var result = [];
   if (string.charCodeAt(0) === 46 /* . */) {
-    result.push('');
+    result.push("");
   }
-  string.replace(rePropName, function(match, number, quote, subString) {
-    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));
+  string.replace(rePropName, function (match, number, quote, subString) {
+    result.push(
+      quote ? subString.replace(reEscapeChar, "$1") : number || match
+    );
   });
   return result;
 });
@@ -2245,7 +2599,7 @@ var INFINITY = 1 / 0;
 
 /** Used to convert symbols to primitives and strings. */
 var symbolProto = _Symbol ? _Symbol.prototype : undefined,
-    symbolToString = symbolProto ? symbolProto.toString : undefined;
+  symbolToString = symbolProto ? symbolProto.toString : undefined;
 
 /**
  * The base implementation of `_.toString` which doesn't convert nullish
@@ -2257,18 +2611,18 @@ var symbolProto = _Symbol ? _Symbol.prototype : undefined,
  */
 function baseToString(value) {
   // Exit early for strings to avoid a performance hit in some environments.
-  if (typeof value == 'string') {
+  if (typeof value == "string") {
     return value;
   }
   if (isArray_1(value)) {
     // Recursively convert values (susceptible to call stack limits).
-    return _arrayMap(value, baseToString) + '';
+    return _arrayMap(value, baseToString) + "";
   }
   if (isSymbol_1(value)) {
-    return symbolToString ? symbolToString.call(value) : '';
+    return symbolToString ? symbolToString.call(value) : "";
   }
-  var result = (value + '');
-  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
+  var result = value + "";
+  return result == "0" && 1 / value == -INFINITY ? "-0" : result;
 }
 
 var _baseToString = baseToString;
@@ -2295,7 +2649,7 @@ var _baseToString = baseToString;
  * // => '1,2,3'
  */
 function toString(value) {
-  return value == null ? '' : _baseToString(value);
+  return value == null ? "" : _baseToString(value);
 }
 
 var toString_1 = toString;
@@ -2328,11 +2682,11 @@ var INFINITY$1 = 1 / 0;
  * @returns {string|symbol} Returns the key.
  */
 function toKey(value) {
-  if (typeof value == 'string' || isSymbol_1(value)) {
+  if (typeof value == "string" || isSymbol_1(value)) {
     return value;
   }
-  var result = (value + '');
-  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;
+  var result = value + "";
+  return result == "0" && 1 / value == -INFINITY$1 ? "-0" : result;
 }
 
 var _toKey = toKey;
@@ -2349,12 +2703,12 @@ function baseGet(object, path) {
   path = _castPath(path, object);
 
   var index = 0,
-      length = path.length;
+    length = path.length;
 
   while (object != null && index < length) {
     object = object[_toKey(path[index++])];
   }
-  return (index && index == length) ? object : undefined;
+  return index && index == length ? object : undefined;
 }
 
 var _baseGet = baseGet;
@@ -2367,7 +2721,7 @@ var _baseGet = baseGet;
  * @memberOf Stack
  */
 function stackClear() {
-  this.__data__ = new _ListCache;
+  this.__data__ = new _ListCache();
   this.size = 0;
 }
 
@@ -2384,7 +2738,7 @@ var _stackClear = stackClear;
  */
 function stackDelete(key) {
   var data = this.__data__,
-      result = data['delete'](key);
+    result = data["delete"](key);
 
   this.size = data.size;
   return result;
@@ -2439,7 +2793,7 @@ function stackSet(key, value) {
   var data = this.__data__;
   if (data instanceof _ListCache) {
     var pairs = data.__data__;
-    if (!_Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
+    if (!_Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
       pairs.push([key, value]);
       this.size = ++data.size;
       return this;
@@ -2461,13 +2815,13 @@ var _stackSet = stackSet;
  * @param {Array} [entries] The key-value pairs to cache.
  */
 function Stack(entries) {
-  var data = this.__data__ = new _ListCache(entries);
+  var data = (this.__data__ = new _ListCache(entries));
   this.size = data.size;
 }
 
 // Add methods to `Stack`.
 Stack.prototype.clear = _stackClear;
-Stack.prototype['delete'] = _stackDelete;
+Stack.prototype["delete"] = _stackDelete;
 Stack.prototype.get = _stackGet;
 Stack.prototype.has = _stackHas;
 Stack.prototype.set = _stackSet;
@@ -2475,7 +2829,7 @@ Stack.prototype.set = _stackSet;
 var _Stack = Stack;
 
 /** Used to stand-in for `undefined` hash values. */
-var HASH_UNDEFINED$2 = '__lodash_hash_undefined__';
+var HASH_UNDEFINED$2 = "__lodash_hash_undefined__";
 
 /**
  * Adds `value` to the array cache.
@@ -2519,9 +2873,9 @@ var _setCacheHas = setCacheHas;
  */
 function SetCache(values) {
   var index = -1,
-      length = values == null ? 0 : values.length;
+    length = values == null ? 0 : values.length;
 
-  this.__data__ = new _MapCache;
+  this.__data__ = new _MapCache();
   while (++index < length) {
     this.add(values[index]);
   }
@@ -2545,7 +2899,7 @@ var _SetCache = SetCache;
  */
 function arraySome(array, predicate) {
   var index = -1,
-      length = array == null ? 0 : array.length;
+    length = array == null ? 0 : array.length;
 
   while (++index < length) {
     if (predicate(array[index], index, array)) {
@@ -2573,7 +2927,7 @@ var _cacheHas = cacheHas;
 
 /** Used to compose bitmasks for value comparisons. */
 var COMPARE_PARTIAL_FLAG = 1,
-    COMPARE_UNORDERED_FLAG = 2;
+  COMPARE_UNORDERED_FLAG = 2;
 
 /**
  * A specialized version of `baseIsEqualDeep` for arrays with support for
@@ -2590,8 +2944,8 @@ var COMPARE_PARTIAL_FLAG = 1,
  */
 function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
   var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
-      arrLength = array.length,
-      othLength = other.length;
+    arrLength = array.length,
+    othLength = other.length;
 
   if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
     return false;
@@ -2603,8 +2957,8 @@ function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
     return arrStacked == other && othStacked == array;
   }
   var index = -1,
-      result = true,
-      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new _SetCache : undefined;
+    result = true,
+    seen = bitmask & COMPARE_UNORDERED_FLAG ? new _SetCache() : undefined;
 
   stack.set(array, other);
   stack.set(other, array);
@@ -2612,7 +2966,7 @@ function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
   // Ignore non-index properties.
   while (++index < arrLength) {
     var arrValue = array[index],
-        othValue = other[index];
+      othValue = other[index];
 
     if (customizer) {
       var compared = isPartial
@@ -2628,25 +2982,32 @@ function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
     }
     // Recursively compare arrays (susceptible to call stack limits).
     if (seen) {
-      if (!_arraySome(other, function(othValue, othIndex) {
-            if (!_cacheHas(seen, othIndex) &&
-                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
-              return seen.push(othIndex);
-            }
-          })) {
+      if (
+        !_arraySome(other, function (othValue, othIndex) {
+          if (
+            !_cacheHas(seen, othIndex) &&
+            (arrValue === othValue ||
+              equalFunc(arrValue, othValue, bitmask, customizer, stack))
+          ) {
+            return seen.push(othIndex);
+          }
+        })
+      ) {
         result = false;
         break;
       }
-    } else if (!(
-          arrValue === othValue ||
-            equalFunc(arrValue, othValue, bitmask, customizer, stack)
-        )) {
+    } else if (
+      !(
+        arrValue === othValue ||
+        equalFunc(arrValue, othValue, bitmask, customizer, stack)
+      )
+    ) {
       result = false;
       break;
     }
   }
-  stack['delete'](array);
-  stack['delete'](other);
+  stack["delete"](array);
+  stack["delete"](other);
   return result;
 }
 
@@ -2666,9 +3027,9 @@ var _Uint8Array = Uint8Array;
  */
 function mapToArray(map) {
   var index = -1,
-      result = Array(map.size);
+    result = Array(map.size);
 
-  map.forEach(function(value, key) {
+  map.forEach(function (value, key) {
     result[++index] = [key, value];
   });
   return result;
@@ -2685,9 +3046,9 @@ var _mapToArray = mapToArray;
  */
 function setToArray(set) {
   var index = -1,
-      result = Array(set.size);
+    result = Array(set.size);
 
-  set.forEach(function(value) {
+  set.forEach(function (value) {
     result[++index] = value;
   });
   return result;
@@ -2697,25 +3058,25 @@ var _setToArray = setToArray;
 
 /** Used to compose bitmasks for value comparisons. */
 var COMPARE_PARTIAL_FLAG$1 = 1,
-    COMPARE_UNORDERED_FLAG$1 = 2;
+  COMPARE_UNORDERED_FLAG$1 = 2;
 
 /** `Object#toString` result references. */
-var boolTag = '[object Boolean]',
-    dateTag = '[object Date]',
-    errorTag = '[object Error]',
-    mapTag = '[object Map]',
-    numberTag = '[object Number]',
-    regexpTag = '[object RegExp]',
-    setTag = '[object Set]',
-    stringTag = '[object String]',
-    symbolTag$1 = '[object Symbol]';
-
-var arrayBufferTag = '[object ArrayBuffer]',
-    dataViewTag = '[object DataView]';
+var boolTag = "[object Boolean]",
+  dateTag = "[object Date]",
+  errorTag = "[object Error]",
+  mapTag = "[object Map]",
+  numberTag = "[object Number]",
+  regexpTag = "[object RegExp]",
+  setTag = "[object Set]",
+  stringTag = "[object String]",
+  symbolTag$1 = "[object Symbol]";
+
+var arrayBufferTag = "[object ArrayBuffer]",
+  dataViewTag = "[object DataView]";
 
 /** Used to convert symbols to primitives and strings. */
 var symbolProto$1 = _Symbol ? _Symbol.prototype : undefined,
-    symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : undefined;
+  symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : undefined;
 
 /**
  * A specialized version of `baseIsEqualDeep` for comparing objects of
@@ -2737,16 +3098,20 @@ var symbolProto$1 = _Symbol ? _Symbol.prototype : undefined,
 function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
   switch (tag) {
     case dataViewTag:
-      if ((object.byteLength != other.byteLength) ||
-          (object.byteOffset != other.byteOffset)) {
+      if (
+        object.byteLength != other.byteLength ||
+        object.byteOffset != other.byteOffset
+      ) {
         return false;
       }
       object = object.buffer;
       other = other.buffer;
 
     case arrayBufferTag:
-      if ((object.byteLength != other.byteLength) ||
-          !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {
+      if (
+        object.byteLength != other.byteLength ||
+        !equalFunc(new _Uint8Array(object), new _Uint8Array(other))
+      ) {
         return false;
       }
       return true;
@@ -2766,7 +3131,7 @@ function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
       // Coerce regexes to strings and treat strings, primitives and objects,
       // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
       // for more details.
-      return object == (other + '');
+      return object == other + "";
 
     case mapTag:
       var convert = _mapToArray;
@@ -2787,8 +3152,15 @@ function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
 
       // Recursively compare objects (susceptible to call stack limits).
       stack.set(object, other);
-      var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
-      stack['delete'](object);
+      var result = _equalArrays(
+        convert(object),
+        convert(other),
+        bitmask,
+        customizer,
+        equalFunc,
+        stack
+      );
+      stack["delete"](object);
       return result;
 
     case symbolTag$1:
@@ -2811,8 +3183,8 @@ var _equalByTag = equalByTag;
  */
 function arrayPush(array, values) {
   var index = -1,
-      length = values.length,
-      offset = array.length;
+    length = values.length,
+    offset = array.length;
 
   while (++index < length) {
     array[offset + index] = values[index];
@@ -2851,9 +3223,9 @@ var _baseGetAllKeys = baseGetAllKeys;
  */
 function arrayFilter(array, predicate) {
   var index = -1,
-      length = array == null ? 0 : array.length,
-      resIndex = 0,
-      result = [];
+    length = array == null ? 0 : array.length,
+    resIndex = 0,
+    result = [];
 
   while (++index < length) {
     var value = array[index];
@@ -2906,15 +3278,17 @@ var nativeGetSymbols = Object.getOwnPropertySymbols;
  * @param {Object} object The object to query.
  * @returns {Array} Returns the array of symbols.
  */
-var getSymbols = !nativeGetSymbols ? stubArray_1 : function(object) {
-  if (object == null) {
-    return [];
-  }
-  object = Object(object);
-  return _arrayFilter(nativeGetSymbols(object), function(symbol) {
-    return propertyIsEnumerable.call(object, symbol);
-  });
-};
+var getSymbols = !nativeGetSymbols
+  ? stubArray_1
+  : function (object) {
+      if (object == null) {
+        return [];
+      }
+      object = Object(object);
+      return _arrayFilter(nativeGetSymbols(object), function (symbol) {
+        return propertyIsEnumerable.call(object, symbol);
+      });
+    };
 
 var _getSymbols = getSymbols;
 
@@ -2929,7 +3303,7 @@ var _getSymbols = getSymbols;
  */
 function baseTimes(n, iteratee) {
   var index = -1,
-      result = Array(n);
+    result = Array(n);
 
   while (++index < n) {
     result[index] = iteratee(index);
@@ -2940,7 +3314,7 @@ function baseTimes(n, iteratee) {
 var _baseTimes = baseTimes;
 
 /** `Object#toString` result references. */
-var argsTag = '[object Arguments]';
+var argsTag = "[object Arguments]";
 
 /**
  * The base implementation of `_.isArguments`.
@@ -2982,10 +3356,19 @@ var propertyIsEnumerable$1 = objectProto$6.propertyIsEnumerable;
  * _.isArguments([1, 2, 3]);
  * // => false
  */
-var isArguments = _baseIsArguments(function() { return arguments; }()) ? _baseIsArguments : function(value) {
-  return isObjectLike_1(value) && hasOwnProperty$4.call(value, 'callee') &&
-    !propertyIsEnumerable$1.call(value, 'callee');
-};
+var isArguments = _baseIsArguments(
+  (function () {
+    return arguments;
+  })()
+)
+  ? _baseIsArguments
+  : function (value) {
+      return (
+        isObjectLike_1(value) &&
+        hasOwnProperty$4.call(value, "callee") &&
+        !propertyIsEnumerable$1.call(value, "callee")
+      );
+    };
 
 var isArguments_1 = isArguments;
 
@@ -3009,41 +3392,42 @@ function stubFalse() {
 var stubFalse_1 = stubFalse;
 
 var isBuffer_1 = createCommonjsModule(function (module, exports) {
-/** Detect free variable `exports`. */
-var freeExports = exports && !exports.nodeType && exports;
-
-/** Detect free variable `module`. */
-var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;
-
-/** Detect the popular CommonJS extension `module.exports`. */
-var moduleExports = freeModule && freeModule.exports === freeExports;
-
-/** Built-in value references. */
-var Buffer = moduleExports ? _root.Buffer : undefined;
-
-/* Built-in method references for those with the same name as other `lodash` methods. */
-var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;
-
-/**
- * Checks if `value` is a buffer.
- *
- * @static
- * @memberOf _
- * @since 4.3.0
- * @category Lang
- * @param {*} value The value to check.
- * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
- * @example
- *
- * _.isBuffer(new Buffer(2));
- * // => true
- *
- * _.isBuffer(new Uint8Array(2));
- * // => false
- */
-var isBuffer = nativeIsBuffer || stubFalse_1;
+  /** Detect free variable `exports`. */
+  var freeExports = exports && !exports.nodeType && exports;
+
+  /** Detect free variable `module`. */
+  var freeModule =
+    freeExports && "object" == "object" && module && !module.nodeType && module;
+
+  /** Detect the popular CommonJS extension `module.exports`. */
+  var moduleExports = freeModule && freeModule.exports === freeExports;
+
+  /** Built-in value references. */
+  var Buffer = moduleExports ? _root.Buffer : undefined;
+
+  /* Built-in method references for those with the same name as other `lodash` methods. */
+  var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;
+
+  /**
+   * Checks if `value` is a buffer.
+   *
+   * @static
+   * @memberOf _
+   * @since 4.3.0
+   * @category Lang
+   * @param {*} value The value to check.
+   * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
+   * @example
+   *
+   * _.isBuffer(new Buffer(2));
+   * // => true
+   *
+   * _.isBuffer(new Uint8Array(2));
+   * // => false
+   */
+  var isBuffer = nativeIsBuffer || stubFalse_1;
 
-module.exports = isBuffer;
+  module.exports = isBuffer;
 });
 
 /** Used as references for various `Number` constants. */
@@ -3064,10 +3448,13 @@ function isIndex(value, length) {
   var type = typeof value;
   length = length == null ? MAX_SAFE_INTEGER : length;
 
-  return !!length &&
-    (type == 'number' ||
-      (type != 'symbol' && reIsUint.test(value))) &&
-        (value > -1 && value % 1 == 0 && value < length);
+  return (
+    !!length &&
+    (type == "number" || (type != "symbol" && reIsUint.test(value))) &&
+    value > -1 &&
+    value % 1 == 0 &&
+    value < length
+  );
 }
 
 var _isIndex = isIndex;
@@ -3102,54 +3489,71 @@ var MAX_SAFE_INTEGER$1 = 9007199254740991;
  * // => false
  */
 function isLength(value) {
-  return typeof value == 'number' &&
-    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;
+  return (
+    typeof value == "number" &&
+    value > -1 &&
+    value % 1 == 0 &&
+    value <= MAX_SAFE_INTEGER$1
+  );
 }
 
 var isLength_1 = isLength;
 
 /** `Object#toString` result references. */
-var argsTag$1 = '[object Arguments]',
-    arrayTag = '[object Array]',
-    boolTag$1 = '[object Boolean]',
-    dateTag$1 = '[object Date]',
-    errorTag$1 = '[object Error]',
-    funcTag$1 = '[object Function]',
-    mapTag$1 = '[object Map]',
-    numberTag$1 = '[object Number]',
-    objectTag = '[object Object]',
-    regexpTag$1 = '[object RegExp]',
-    setTag$1 = '[object Set]',
-    stringTag$1 = '[object String]',
-    weakMapTag = '[object WeakMap]';
-
-var arrayBufferTag$1 = '[object ArrayBuffer]',
-    dataViewTag$1 = '[object DataView]',
-    float32Tag = '[object Float32Array]',
-    float64Tag = '[object Float64Array]',
-    int8Tag = '[object Int8Array]',
-    int16Tag = '[object Int16Array]',
-    int32Tag = '[object Int32Array]',
-    uint8Tag = '[object Uint8Array]',
-    uint8ClampedTag = '[object Uint8ClampedArray]',
-    uint16Tag = '[object Uint16Array]',
-    uint32Tag = '[object Uint32Array]';
+var argsTag$1 = "[object Arguments]",
+  arrayTag = "[object Array]",
+  boolTag$1 = "[object Boolean]",
+  dateTag$1 = "[object Date]",
+  errorTag$1 = "[object Error]",
+  funcTag$1 = "[object Function]",
+  mapTag$1 = "[object Map]",
+  numberTag$1 = "[object Number]",
+  objectTag = "[object Object]",
+  regexpTag$1 = "[object RegExp]",
+  setTag$1 = "[object Set]",
+  stringTag$1 = "[object String]",
+  weakMapTag = "[object WeakMap]";
+
+var arrayBufferTag$1 = "[object ArrayBuffer]",
+  dataViewTag$1 = "[object DataView]",
+  float32Tag = "[object Float32Array]",
+  float64Tag = "[object Float64Array]",
+  int8Tag = "[object Int8Array]",
+  int16Tag = "[object Int16Array]",
+  int32Tag = "[object Int32Array]",
+  uint8Tag = "[object Uint8Array]",
+  uint8ClampedTag = "[object Uint8ClampedArray]",
+  uint16Tag = "[object Uint16Array]",
+  uint32Tag = "[object Uint32Array]";
 
 /** Used to identify `toStringTag` values of typed arrays. */
 var typedArrayTags = {};
-typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
-typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
-typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
-typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
-typedArrayTags[uint32Tag] = true;
-typedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =
-typedArrayTags[arrayBufferTag$1] = typedArrayTags[boolTag$1] =
-typedArrayTags[dataViewTag$1] = typedArrayTags[dateTag$1] =
-typedArrayTags[errorTag$1] = typedArrayTags[funcTag$1] =
-typedArrayTags[mapTag$1] = typedArrayTags[numberTag$1] =
-typedArrayTags[objectTag] = typedArrayTags[regexpTag$1] =
-typedArrayTags[setTag$1] = typedArrayTags[stringTag$1] =
-typedArrayTags[weakMapTag] = false;
+typedArrayTags[float32Tag] =
+  typedArrayTags[float64Tag] =
+  typedArrayTags[int8Tag] =
+  typedArrayTags[int16Tag] =
+  typedArrayTags[int32Tag] =
+  typedArrayTags[uint8Tag] =
+  typedArrayTags[uint8ClampedTag] =
+  typedArrayTags[uint16Tag] =
+  typedArrayTags[uint32Tag] =
+    true;
+typedArrayTags[argsTag$1] =
+  typedArrayTags[arrayTag] =
+  typedArrayTags[arrayBufferTag$1] =
+  typedArrayTags[boolTag$1] =
+  typedArrayTags[dataViewTag$1] =
+  typedArrayTags[dateTag$1] =
+  typedArrayTags[errorTag$1] =
+  typedArrayTags[funcTag$1] =
+  typedArrayTags[mapTag$1] =
+  typedArrayTags[numberTag$1] =
+  typedArrayTags[objectTag] =
+  typedArrayTags[regexpTag$1] =
+  typedArrayTags[setTag$1] =
+  typedArrayTags[stringTag$1] =
+  typedArrayTags[weakMapTag] =
+    false;
 
 /**
  * The base implementation of `_.isTypedArray` without Node.js optimizations.
@@ -3159,8 +3563,11 @@ typedArrayTags[weakMapTag] = false;
  * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
  */
 function baseIsTypedArray(value) {
-  return isObjectLike_1(value) &&
-    isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];
+  return (
+    isObjectLike_1(value) &&
+    isLength_1(value.length) &&
+    !!typedArrayTags[_baseGetTag(value)]
+  );
 }
 
 var _baseIsTypedArray = baseIsTypedArray;
@@ -3173,7 +3580,7 @@ var _baseIsTypedArray = baseIsTypedArray;
  * @returns {Function} Returns the new capped function.
  */
 function baseUnary(func) {
-  return function(value) {
+  return function (value) {
     return func(value);
   };
 }
@@ -3181,34 +3588,36 @@ function baseUnary(func) {
 var _baseUnary = baseUnary;
 
 var _nodeUtil = createCommonjsModule(function (module, exports) {
-/** Detect free variable `exports`. */
-var freeExports = exports && !exports.nodeType && exports;
+  /** Detect free variable `exports`. */
+  var freeExports = exports && !exports.nodeType && exports;
 
-/** Detect free variable `module`. */
-var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;
+  /** Detect free variable `module`. */
+  var freeModule =
+    freeExports && "object" == "object" && module && !module.nodeType && module;
 
-/** Detect the popular CommonJS extension `module.exports`. */
-var moduleExports = freeModule && freeModule.exports === freeExports;
+  /** Detect the popular CommonJS extension `module.exports`. */
+  var moduleExports = freeModule && freeModule.exports === freeExports;
 
-/** Detect free variable `process` from Node.js. */
-var freeProcess = moduleExports && _freeGlobal.process;
+  /** Detect free variable `process` from Node.js. */
+  var freeProcess = moduleExports && _freeGlobal.process;
 
-/** Used to access faster Node.js helpers. */
-var nodeUtil = (function() {
-  try {
-    // Use `util.types` for Node.js 10+.
-    var types = freeModule && freeModule.require && freeModule.require('util').types;
+  /** Used to access faster Node.js helpers. */
+  var nodeUtil = (function () {
+    try {
+      // Use `util.types` for Node.js 10+.
+      var types =
+        freeModule && freeModule.require && freeModule.require("util").types;
 
-    if (types) {
-      return types;
-    }
+      if (types) {
+        return types;
+      }
 
-    // Legacy `process.binding('util')` for Node.js < 10.
-    return freeProcess && freeProcess.binding && freeProcess.binding('util');
-  } catch (e) {}
-}());
+      // Legacy `process.binding('util')` for Node.js < 10.
+      return freeProcess && freeProcess.binding && freeProcess.binding("util");
+    } catch (e) {}
+  })();
 
-module.exports = nodeUtil;
+  module.exports = nodeUtil;
 });
 
 /* Node.js helper references. */
@@ -3231,7 +3640,9 @@ var nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;
  * _.isTypedArray([]);
  * // => false
  */
-var isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;
+var isTypedArray = nodeIsTypedArray
+  ? _baseUnary(nodeIsTypedArray)
+  : _baseIsTypedArray;
 
 var isTypedArray_1 = isTypedArray;
 
@@ -3251,25 +3662,29 @@ var hasOwnProperty$5 = objectProto$7.hasOwnProperty;
  */
 function arrayLikeKeys(value, inherited) {
   var isArr = isArray_1(value),
-      isArg = !isArr && isArguments_1(value),
-      isBuff = !isArr && !isArg && isBuffer_1(value),
-      isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),
-      skipIndexes = isArr || isArg || isBuff || isType,
-      result = skipIndexes ? _baseTimes(value.length, String) : [],
-      length = result.length;
+    isArg = !isArr && isArguments_1(value),
+    isBuff = !isArr && !isArg && isBuffer_1(value),
+    isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),
+    skipIndexes = isArr || isArg || isBuff || isType,
+    result = skipIndexes ? _baseTimes(value.length, String) : [],
+    length = result.length;
 
   for (var key in value) {
-    if ((inherited || hasOwnProperty$5.call(value, key)) &&
-        !(skipIndexes && (
-           // Safari 9 has enumerable `arguments.length` in strict mode.
-           key == 'length' ||
-           // Node.js 0.10 has enumerable non-index properties on buffers.
-           (isBuff && (key == 'offset' || key == 'parent')) ||
-           // PhantomJS 2 has enumerable non-index properties on typed arrays.
-           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
-           // Skip index properties.
-           _isIndex(key, length)
-        ))) {
+    if (
+      (inherited || hasOwnProperty$5.call(value, key)) &&
+      !(
+        skipIndexes &&
+        // Safari 9 has enumerable `arguments.length` in strict mode.
+        (key == "length" ||
+          // Node.js 0.10 has enumerable non-index properties on buffers.
+          (isBuff && (key == "offset" || key == "parent")) ||
+          // PhantomJS 2 has enumerable non-index properties on typed arrays.
+          (isType &&
+            (key == "buffer" || key == "byteLength" || key == "byteOffset")) ||
+          // Skip index properties.
+          _isIndex(key, length))
+      )
+    ) {
       result.push(key);
     }
   }
@@ -3290,7 +3705,7 @@ var objectProto$8 = Object.prototype;
  */
 function isPrototype(value) {
   var Ctor = value && value.constructor,
-      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$8;
+    proto = (typeof Ctor == "function" && Ctor.prototype) || objectProto$8;
 
   return value === proto;
 }
@@ -3306,7 +3721,7 @@ var _isPrototype = isPrototype;
  * @returns {Function} Returns the new function.
  */
 function overArg(func, transform) {
-  return function(arg) {
+  return function (arg) {
     return func(transform(arg));
   };
 }
@@ -3337,7 +3752,7 @@ function baseKeys(object) {
   }
   var result = [];
   for (var key in Object(object)) {
-    if (hasOwnProperty$6.call(object, key) && key != 'constructor') {
+    if (hasOwnProperty$6.call(object, key) && key != "constructor") {
       result.push(key);
     }
   }
@@ -3448,10 +3863,10 @@ var hasOwnProperty$7 = objectProto$a.hasOwnProperty;
  */
 function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
   var isPartial = bitmask & COMPARE_PARTIAL_FLAG$2,
-      objProps = _getAllKeys(object),
-      objLength = objProps.length,
-      othProps = _getAllKeys(other),
-      othLength = othProps.length;
+    objProps = _getAllKeys(object),
+    objLength = objProps.length,
+    othProps = _getAllKeys(other),
+    othLength = othProps.length;
 
   if (objLength != othLength && !isPartial) {
     return false;
@@ -3477,7 +3892,7 @@ function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
   while (++index < objLength) {
     key = objProps[index];
     var objValue = object[key],
-        othValue = other[key];
+      othValue = other[key];
 
     if (customizer) {
       var compared = isPartial
@@ -3485,69 +3900,78 @@ function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
         : customizer(objValue, othValue, key, object, other, stack);
     }
     // Recursively compare objects (susceptible to call stack limits).
-    if (!(compared === undefined
-          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
-          : compared
-        )) {
+    if (
+      !(compared === undefined
+        ? objValue === othValue ||
+          equalFunc(objValue, othValue, bitmask, customizer, stack)
+        : compared)
+    ) {
       result = false;
       break;
     }
-    skipCtor || (skipCtor = key == 'constructor');
+    skipCtor || (skipCtor = key == "constructor");
   }
   if (result && !skipCtor) {
     var objCtor = object.constructor,
-        othCtor = other.constructor;
+      othCtor = other.constructor;
 
     // Non `Object` object instances with different constructors are not equal.
-    if (objCtor != othCtor &&
-        ('constructor' in object && 'constructor' in other) &&
-        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
-          typeof othCtor == 'function' && othCtor instanceof othCtor)) {
+    if (
+      objCtor != othCtor &&
+      "constructor" in object &&
+      "constructor" in other &&
+      !(
+        typeof objCtor == "function" &&
+        objCtor instanceof objCtor &&
+        typeof othCtor == "function" &&
+        othCtor instanceof othCtor
+      )
+    ) {
       result = false;
     }
   }
-  stack['delete'](object);
-  stack['delete'](other);
+  stack["delete"](object);
+  stack["delete"](other);
   return result;
 }
 
 var _equalObjects = equalObjects;
 
 /* Built-in method references that are verified to be native. */
-var DataView = _getNative(_root, 'DataView');
+var DataView = _getNative(_root, "DataView");
 
 var _DataView = DataView;
 
 /* Built-in method references that are verified to be native. */
-var Promise$1 = _getNative(_root, 'Promise');
+var Promise$1 = _getNative(_root, "Promise");
 
 var _Promise = Promise$1;
 
 /* Built-in method references that are verified to be native. */
-var Set = _getNative(_root, 'Set');
+var Set = _getNative(_root, "Set");
 
 var _Set = Set;
 
 /* Built-in method references that are verified to be native. */
-var WeakMap = _getNative(_root, 'WeakMap');
+var WeakMap = _getNative(_root, "WeakMap");
 
 var _WeakMap = WeakMap;
 
 /** `Object#toString` result references. */
-var mapTag$2 = '[object Map]',
-    objectTag$1 = '[object Object]',
-    promiseTag = '[object Promise]',
-    setTag$2 = '[object Set]',
-    weakMapTag$1 = '[object WeakMap]';
+var mapTag$2 = "[object Map]",
+  objectTag$1 = "[object Object]",
+  promiseTag = "[object Promise]",
+  setTag$2 = "[object Set]",
+  weakMapTag$1 = "[object WeakMap]";
 
-var dataViewTag$2 = '[object DataView]';
+var dataViewTag$2 = "[object DataView]";
 
 /** Used to detect maps, sets, and weakmaps. */
 var dataViewCtorString = _toSource(_DataView),
-    mapCtorString = _toSource(_Map),
-    promiseCtorString = _toSource(_Promise),
-    setCtorString = _toSource(_Set),
-    weakMapCtorString = _toSource(_WeakMap);
+  mapCtorString = _toSource(_Map),
+  promiseCtorString = _toSource(_Promise),
+  setCtorString = _toSource(_Set),
+  weakMapCtorString = _toSource(_WeakMap);
 
 /**
  * Gets the `toStringTag` of `value`.
@@ -3559,23 +3983,30 @@ var dataViewCtorString = _toSource(_DataView),
 var getTag = _baseGetTag;
 
 // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
-if ((_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2) ||
-    (_Map && getTag(new _Map) != mapTag$2) ||
-    (_Promise && getTag(_Promise.resolve()) != promiseTag) ||
-    (_Set && getTag(new _Set) != setTag$2) ||
-    (_WeakMap && getTag(new _WeakMap) != weakMapTag$1)) {
-  getTag = function(value) {
+if (
+  (_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$2) ||
+  (_Map && getTag(new _Map()) != mapTag$2) ||
+  (_Promise && getTag(_Promise.resolve()) != promiseTag) ||
+  (_Set && getTag(new _Set()) != setTag$2) ||
+  (_WeakMap && getTag(new _WeakMap()) != weakMapTag$1)
+) {
+  getTag = function (value) {
     var result = _baseGetTag(value),
-        Ctor = result == objectTag$1 ? value.constructor : undefined,
-        ctorString = Ctor ? _toSource(Ctor) : '';
+      Ctor = result == objectTag$1 ? value.constructor : undefined,
+      ctorString = Ctor ? _toSource(Ctor) : "";
 
     if (ctorString) {
       switch (ctorString) {
-        case dataViewCtorString: return dataViewTag$2;
-        case mapCtorString: return mapTag$2;
-        case promiseCtorString: return promiseTag;
-        case setCtorString: return setTag$2;
-        case weakMapCtorString: return weakMapTag$1;
+        case dataViewCtorString:
+          return dataViewTag$2;
+        case mapCtorString:
+          return mapTag$2;
+        case promiseCtorString:
+          return promiseTag;
+        case setCtorString:
+          return setTag$2;
+        case weakMapCtorString:
+          return weakMapTag$1;
       }
     }
     return result;
@@ -3588,9 +4019,9 @@ var _getTag = getTag;
 var COMPARE_PARTIAL_FLAG$3 = 1;
 
 /** `Object#toString` result references. */
-var argsTag$2 = '[object Arguments]',
-    arrayTag$1 = '[object Array]',
-    objectTag$2 = '[object Object]';
+var argsTag$2 = "[object Arguments]",
+  arrayTag$1 = "[object Array]",
+  objectTag$2 = "[object Object]";
 
 /** Used for built-in method references. */
 var objectProto$b = Object.prototype;
@@ -3614,16 +4045,16 @@ var hasOwnProperty$8 = objectProto$b.hasOwnProperty;
  */
 function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
   var objIsArr = isArray_1(object),
-      othIsArr = isArray_1(other),
-      objTag = objIsArr ? arrayTag$1 : _getTag(object),
-      othTag = othIsArr ? arrayTag$1 : _getTag(other);
+    othIsArr = isArray_1(other),
+    objTag = objIsArr ? arrayTag$1 : _getTag(object),
+    othTag = othIsArr ? arrayTag$1 : _getTag(other);
 
   objTag = objTag == argsTag$2 ? objectTag$2 : objTag;
   othTag = othTag == argsTag$2 ? objectTag$2 : othTag;
 
   var objIsObj = objTag == objectTag$2,
-      othIsObj = othTag == objectTag$2,
-      isSameTag = objTag == othTag;
+    othIsObj = othTag == objectTag$2,
+    isSameTag = objTag == othTag;
 
   if (isSameTag && isBuffer_1(object)) {
     if (!isBuffer_1(other)) {
@@ -3633,27 +4064,35 @@ function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
     objIsObj = false;
   }
   if (isSameTag && !objIsObj) {
-    stack || (stack = new _Stack);
-    return (objIsArr || isTypedArray_1(object))
+    stack || (stack = new _Stack());
+    return objIsArr || isTypedArray_1(object)
       ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack)
-      : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
+      : _equalByTag(
+          object,
+          other,
+          objTag,
+          bitmask,
+          customizer,
+          equalFunc,
+          stack
+        );
   }
   if (!(bitmask & COMPARE_PARTIAL_FLAG$3)) {
-    var objIsWrapped = objIsObj && hasOwnProperty$8.call(object, '__wrapped__'),
-        othIsWrapped = othIsObj && hasOwnProperty$8.call(other, '__wrapped__');
+    var objIsWrapped = objIsObj && hasOwnProperty$8.call(object, "__wrapped__"),
+      othIsWrapped = othIsObj && hasOwnProperty$8.call(other, "__wrapped__");
 
     if (objIsWrapped || othIsWrapped) {
       var objUnwrapped = objIsWrapped ? object.value() : object,
-          othUnwrapped = othIsWrapped ? other.value() : other;
+        othUnwrapped = othIsWrapped ? other.value() : other;
 
-      stack || (stack = new _Stack);
+      stack || (stack = new _Stack());
       return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
     }
   }
   if (!isSameTag) {
     return false;
   }
-  stack || (stack = new _Stack);
+  stack || (stack = new _Stack());
   return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);
 }
 
@@ -3677,17 +4116,28 @@ function baseIsEqual(value, other, bitmask, customizer, stack) {
   if (value === other) {
     return true;
   }
-  if (value == null || other == null || (!isObjectLike_1(value) && !isObjectLike_1(other))) {
+  if (
+    value == null ||
+    other == null ||
+    (!isObjectLike_1(value) && !isObjectLike_1(other))
+  ) {
     return value !== value && other !== other;
   }
-  return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
+  return _baseIsEqualDeep(
+    value,
+    other,
+    bitmask,
+    customizer,
+    baseIsEqual,
+    stack
+  );
 }
 
 var _baseIsEqual = baseIsEqual;
 
 /** Used to compose bitmasks for value comparisons. */
 var COMPARE_PARTIAL_FLAG$4 = 1,
-    COMPARE_UNORDERED_FLAG$2 = 2;
+  COMPARE_UNORDERED_FLAG$2 = 2;
 
 /**
  * The base implementation of `_.isMatch` without support for iteratee shorthands.
@@ -3701,8 +4151,8 @@ var COMPARE_PARTIAL_FLAG$4 = 1,
  */
 function baseIsMatch(object, source, matchData, customizer) {
   var index = matchData.length,
-      length = index,
-      noCustomizer = !customizer;
+    length = index,
+    noCustomizer = !customizer;
 
   if (object == null) {
     return !length;
@@ -3710,32 +4160,40 @@ function baseIsMatch(object, source, matchData, customizer) {
   object = Object(object);
   while (index--) {
     var data = matchData[index];
-    if ((noCustomizer && data[2])
-          ? data[1] !== object[data[0]]
-          : !(data[0] in object)
-        ) {
+    if (
+      noCustomizer && data[2]
+        ? data[1] !== object[data[0]]
+        : !(data[0] in object)
+    ) {
       return false;
     }
   }
   while (++index < length) {
     data = matchData[index];
     var key = data[0],
-        objValue = object[key],
-        srcValue = data[1];
+      objValue = object[key],
+      srcValue = data[1];
 
     if (noCustomizer && data[2]) {
       if (objValue === undefined && !(key in object)) {
         return false;
       }
     } else {
-      var stack = new _Stack;
+      var stack = new _Stack();
       if (customizer) {
         var result = customizer(objValue, srcValue, key, object, source, stack);
       }
-      if (!(result === undefined
-            ? _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2, customizer, stack)
-            : result
-          )) {
+      if (
+        !(result === undefined
+          ? _baseIsEqual(
+              srcValue,
+              objValue,
+              COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2,
+              customizer,
+              stack
+            )
+          : result)
+      ) {
         return false;
       }
     }
@@ -3768,11 +4226,11 @@ var _isStrictComparable = isStrictComparable;
  */
 function getMatchData(object) {
   var result = keys_1(object),
-      length = result.length;
+    length = result.length;
 
   while (length--) {
     var key = result[length],
-        value = object[key];
+      value = object[key];
 
     result[length] = [key, value, _isStrictComparable(value)];
   }
@@ -3791,12 +4249,14 @@ var _getMatchData = getMatchData;
  * @returns {Function} Returns the new spec function.
  */
 function matchesStrictComparable(key, srcValue) {
-  return function(object) {
+  return function (object) {
     if (object == null) {
       return false;
     }
-    return object[key] === srcValue &&
-      (srcValue !== undefined || (key in Object(object)));
+    return (
+      object[key] === srcValue &&
+      (srcValue !== undefined || key in Object(object))
+    );
   };
 }
 
@@ -3814,7 +4274,7 @@ function baseMatches(source) {
   if (matchData.length == 1 && matchData[0][2]) {
     return _matchesStrictComparable(matchData[0][0], matchData[0][1]);
   }
-  return function(object) {
+  return function (object) {
     return object === source || _baseIsMatch(object, source, matchData);
   };
 }
@@ -3880,8 +4340,8 @@ function hasPath(object, path, hasFunc) {
   path = _castPath(path, object);
 
   var index = -1,
-      length = path.length,
-      result = false;
+    length = path.length,
+    result = false;
 
   while (++index < length) {
     var key = _toKey(path[index]);
@@ -3894,8 +4354,12 @@ function hasPath(object, path, hasFunc) {
     return result;
   }
   length = object == null ? 0 : object.length;
-  return !!length && isLength_1(length) && _isIndex(key, length) &&
-    (isArray_1(object) || isArguments_1(object));
+  return (
+    !!length &&
+    isLength_1(length) &&
+    _isIndex(key, length) &&
+    (isArray_1(object) || isArguments_1(object))
+  );
 }
 
 var _hasPath = hasPath;
@@ -3934,7 +4398,7 @@ var hasIn_1 = hasIn;
 
 /** Used to compose bitmasks for value comparisons. */
 var COMPARE_PARTIAL_FLAG$5 = 1,
-    COMPARE_UNORDERED_FLAG$3 = 2;
+  COMPARE_UNORDERED_FLAG$3 = 2;
 
 /**
  * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
@@ -3948,11 +4412,15 @@ function baseMatchesProperty(path, srcValue) {
   if (_isKey(path) && _isStrictComparable(srcValue)) {
     return _matchesStrictComparable(_toKey(path), srcValue);
   }
-  return function(object) {
+  return function (object) {
     var objValue = get_1(object, path);
-    return (objValue === undefined && objValue === srcValue)
+    return objValue === undefined && objValue === srcValue
       ? hasIn_1(object, path)
-      : _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3);
+      : _baseIsEqual(
+          srcValue,
+          objValue,
+          COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3
+        );
   };
 }
 
@@ -3988,7 +4456,7 @@ var identity_1 = identity;
  * @returns {Function} Returns the new accessor function.
  */
 function baseProperty(key) {
-  return function(object) {
+  return function (object) {
     return object == null ? undefined : object[key];
   };
 }
@@ -4003,7 +4471,7 @@ var _baseProperty = baseProperty;
  * @returns {Function} Returns the new accessor function.
  */
 function basePropertyDeep(path) {
-  return function(object) {
+  return function (object) {
     return _baseGet(object, path);
   };
 }
@@ -4048,13 +4516,13 @@ var property_1 = property;
 function baseIteratee(value) {
   // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
   // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
-  if (typeof value == 'function') {
+  if (typeof value == "function") {
     return value;
   }
   if (value == null) {
     return identity_1;
   }
-  if (typeof value == 'object') {
+  if (typeof value == "object") {
     return isArray_1(value)
       ? _baseMatchesProperty(value[0], value[1])
       : _baseMatches(value);
@@ -4072,11 +4540,11 @@ var _baseIteratee = baseIteratee;
  * @returns {Function} Returns the new base function.
  */
 function createBaseFor(fromRight) {
-  return function(object, iteratee, keysFunc) {
+  return function (object, iteratee, keysFunc) {
     var index = -1,
-        iterable = Object(object),
-        props = keysFunc(object),
-        length = props.length;
+      iterable = Object(object),
+      props = keysFunc(object),
+      length = props.length;
 
     while (length--) {
       var key = props[fromRight ? length : ++index];
@@ -4128,7 +4596,7 @@ var _baseForOwn = baseForOwn;
  * @returns {Function} Returns the new base function.
  */
 function createBaseEach(eachFunc, fromRight) {
-  return function(collection, iteratee) {
+  return function (collection, iteratee) {
     if (collection == null) {
       return collection;
     }
@@ -4136,10 +4604,10 @@ function createBaseEach(eachFunc, fromRight) {
       return eachFunc(collection, iteratee);
     }
     var length = collection.length,
-        index = fromRight ? length : -1,
-        iterable = Object(collection);
+      index = fromRight ? length : -1,
+      iterable = Object(collection);
 
-    while ((fromRight ? index-- : ++index < length)) {
+    while (fromRight ? index-- : ++index < length) {
       if (iteratee(iterable[index], index, iterable) === false) {
         break;
       }
@@ -4172,9 +4640,9 @@ var _baseEach = baseEach;
  */
 function baseMap(collection, iteratee) {
   var index = -1,
-      result = isArrayLike_1(collection) ? Array(collection.length) : [];
+    result = isArrayLike_1(collection) ? Array(collection.length) : [];
 
-  _baseEach(collection, function(value, key, collection) {
+  _baseEach(collection, function (value, key, collection) {
     result[++index] = iteratee(value, key, collection);
   });
   return result;
@@ -4215,27 +4683,39 @@ var _baseSortBy = baseSortBy;
 function compareAscending(value, other) {
   if (value !== other) {
     var valIsDefined = value !== undefined,
-        valIsNull = value === null,
-        valIsReflexive = value === value,
-        valIsSymbol = isSymbol_1(value);
+      valIsNull = value === null,
+      valIsReflexive = value === value,
+      valIsSymbol = isSymbol_1(value);
 
     var othIsDefined = other !== undefined,
-        othIsNull = other === null,
-        othIsReflexive = other === other,
-        othIsSymbol = isSymbol_1(other);
-
-    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
-        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||
-        (valIsNull && othIsDefined && othIsReflexive) ||
-        (!valIsDefined && othIsReflexive) ||
-        !valIsReflexive) {
+      othIsNull = other === null,
+      othIsReflexive = other === other,
+      othIsSymbol = isSymbol_1(other);
+
+    if (
+      (!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
+      (valIsSymbol &&
+        othIsDefined &&
+        othIsReflexive &&
+        !othIsNull &&
+        !othIsSymbol) ||
+      (valIsNull && othIsDefined && othIsReflexive) ||
+      (!valIsDefined && othIsReflexive) ||
+      !valIsReflexive
+    ) {
       return 1;
     }
-    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
-        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||
-        (othIsNull && valIsDefined && valIsReflexive) ||
-        (!othIsDefined && valIsReflexive) ||
-        !othIsReflexive) {
+    if (
+      (!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
+      (othIsSymbol &&
+        valIsDefined &&
+        valIsReflexive &&
+        !valIsNull &&
+        !valIsSymbol) ||
+      (othIsNull && valIsDefined && valIsReflexive) ||
+      (!othIsDefined && valIsReflexive) ||
+      !othIsReflexive
+    ) {
       return -1;
     }
   }
@@ -4260,10 +4740,10 @@ var _compareAscending = compareAscending;
  */
 function compareMultiple(object, other, orders) {
   var index = -1,
-      objCriteria = object.criteria,
-      othCriteria = other.criteria,
-      length = objCriteria.length,
-      ordersLength = orders.length;
+    objCriteria = object.criteria,
+    othCriteria = other.criteria,
+    length = objCriteria.length,
+    ordersLength = orders.length;
 
   while (++index < length) {
     var result = _compareAscending(objCriteria[index], othCriteria[index]);
@@ -4272,7 +4752,7 @@ function compareMultiple(object, other, orders) {
         return result;
       }
       var order = orders[index];
-      return result * (order == 'desc' ? -1 : 1);
+      return result * (order == "desc" ? -1 : 1);
     }
   }
   // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
@@ -4298,11 +4778,14 @@ var _compareMultiple = compareMultiple;
  */
 function baseOrderBy(collection, iteratees, orders) {
   if (iteratees.length) {
-    iteratees = _arrayMap(iteratees, function(iteratee) {
+    iteratees = _arrayMap(iteratees, function (iteratee) {
       if (isArray_1(iteratee)) {
-        return function(value) {
-          return _baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);
-        }
+        return function (value) {
+          return _baseGet(
+            value,
+            iteratee.length === 1 ? iteratee[0] : iteratee
+          );
+        };
       }
       return iteratee;
     });
@@ -4313,14 +4796,14 @@ function baseOrderBy(collection, iteratees, orders) {
   var index = -1;
   iteratees = _arrayMap(iteratees, _baseUnary(_baseIteratee));
 
-  var result = _baseMap(collection, function(value, key, collection) {
-    var criteria = _arrayMap(iteratees, function(iteratee) {
+  var result = _baseMap(collection, function (value, key, collection) {
+    var criteria = _arrayMap(iteratees, function (iteratee) {
       return iteratee(value);
     });
-    return { 'criteria': criteria, 'index': ++index, 'value': value };
+    return { criteria: criteria, index: ++index, value: value };
   });
 
-  return _baseSortBy(result, function(object, other) {
+  return _baseSortBy(result, function (object, other) {
     return _compareMultiple(object, other, orders);
   });
 }
@@ -4372,24 +4855,24 @@ function orderBy(collection, iteratees, orders, guard) {
 
 var orderBy_1 = orderBy;
 
-var STAGE_ID = '__node_editor_stage__';
-var DRAG_CONNECTION_ID = '__node_editor_drag_connection__';
-var CONNECTIONS_ID = '__node_editor_connections__';
+var STAGE_ID = "__node_editor_stage__";
+var DRAG_CONNECTION_ID = "__node_editor_drag_connection__";
+var CONNECTIONS_ID = "__node_editor_connections__";
 
 var Stage = function Stage(_ref) {
   var scale = _ref.scale,
-      translate = _ref.translate,
-      editorId = _ref.editorId,
-      dispatchStageState = _ref.dispatchStageState,
-      children = _ref.children,
-      outerStageChildren = _ref.outerStageChildren,
-      numNodes = _ref.numNodes,
-      stageRef = _ref.stageRef,
-      spaceToPan = _ref.spaceToPan,
-      dispatchComments = _ref.dispatchComments,
-      disableComments = _ref.disableComments,
-      disablePan = _ref.disablePan,
-      disableZoom = _ref.disableZoom;
+    translate = _ref.translate,
+    editorId = _ref.editorId,
+    dispatchStageState = _ref.dispatchStageState,
+    children = _ref.children,
+    outerStageChildren = _ref.outerStageChildren,
+    numNodes = _ref.numNodes,
+    stageRef = _ref.stageRef,
+    spaceToPan = _ref.spaceToPan,
+    dispatchComments = _ref.dispatchComments,
+    disableComments = _ref.disableComments,
+    disablePan = _ref.disablePan,
+    disableZoom = _ref.disableZoom;
 
   var nodeTypes = React__default.useContext(NodeTypesContext);
   var dispatchNodes = React__default.useContext(NodeDispatchContext);
@@ -4397,75 +4880,99 @@ var Stage = function Stage(_ref) {
   var translateWrapper = React__default.useRef();
 
   var _React$useState = React__default.useState(false),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      menuOpen = _React$useState2[0],
-      setMenuOpen = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    menuOpen = _React$useState2[0],
+    setMenuOpen = _React$useState2[1];
 
   var _React$useState3 = React__default.useState({ x: 0, y: 0 }),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      menuCoordinates = _React$useState4[0],
-      setMenuCoordinates = _React$useState4[1];
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    menuCoordinates = _React$useState4[0],
+    setMenuCoordinates = _React$useState4[1];
 
   var dragData = React__default.useRef({ x: 0, y: 0 });
 
   var _React$useState5 = React__default.useState(false),
-      _React$useState6 = slicedToArray(_React$useState5, 2),
-      spaceIsPressed = _React$useState6[0],
-      setSpaceIsPressed = _React$useState6[1];
+    _React$useState6 = slicedToArray(_React$useState5, 2),
+    spaceIsPressed = _React$useState6[0],
+    setSpaceIsPressed = _React$useState6[1];
 
   var setStageRect = React__default.useCallback(function () {
     stageRef.current = wrapper.current.getBoundingClientRect();
   }, []);
 
-  React__default.useEffect(function () {
-    stageRef.current = wrapper.current.getBoundingClientRect();
-    window.addEventListener("resize", setStageRect);
-    return function () {
-      window.removeEventListener("resize", setStageRect);
-    };
-  }, [stageRef, setStageRect]);
+  React__default.useEffect(
+    function () {
+      stageRef.current = wrapper.current.getBoundingClientRect();
+      window.addEventListener("resize", setStageRect);
+      return function () {
+        window.removeEventListener("resize", setStageRect);
+      };
+    },
+    [stageRef, setStageRect]
+  );
 
-  var handleWheel = React__default.useCallback(function (e) {
-    if (e.target.nodeName === "TEXTAREA" || e.target.dataset.comment) {
-      if (e.target.clientHeight < e.target.scrollHeight) return;
-    }
-    e.preventDefault();
-    if (numNodes === 0) return;
-    dispatchStageState(function (_ref2) {
-      var currentScale = _ref2.scale,
+  var handleWheel = React__default.useCallback(
+    function (e) {
+      if (e.target.nodeName === "TEXTAREA" || e.target.dataset.comment) {
+        if (e.target.clientHeight < e.target.scrollHeight) return;
+      }
+      e.preventDefault();
+      if (numNodes === 0) return;
+      dispatchStageState(function (_ref2) {
+        var currentScale = _ref2.scale,
           currentTranslate = _ref2.translate;
 
-      var delta = e.deltaY;
-      var newScale = clamp_1(currentScale - clamp_1(delta, -10, 10) * 0.005, 0.1, 7);
+        var delta = e.deltaY;
+        var newScale = clamp_1(
+          currentScale - clamp_1(delta, -10, 10) * 0.005,
+          0.1,
+          7
+        );
 
-      var byOldScale = function byOldScale(no) {
-        return no * (1 / currentScale);
-      };
-      var byNewScale = function byNewScale(no) {
-        return no * (1 / newScale);
-      };
+        var byOldScale = function byOldScale(no) {
+          return no * (1 / currentScale);
+        };
+        var byNewScale = function byNewScale(no) {
+          return no * (1 / newScale);
+        };
 
-      var wrapperRect = wrapper.current.getBoundingClientRect();
+        var wrapperRect = wrapper.current.getBoundingClientRect();
 
-      var xOld = byOldScale(e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x);
-      var yOld = byOldScale(e.clientY - wrapperRect.y - wrapperRect.height / 2 + currentTranslate.y);
+        var xOld = byOldScale(
+          e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x
+        );
+        var yOld = byOldScale(
+          e.clientY -
+            wrapperRect.y -
+            wrapperRect.height / 2 +
+            currentTranslate.y
+        );
 
-      var xNew = byNewScale(e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x);
-      var yNew = byNewScale(e.clientY - wrapperRect.y - wrapperRect.height / 2 + currentTranslate.y);
+        var xNew = byNewScale(
+          e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x
+        );
+        var yNew = byNewScale(
+          e.clientY -
+            wrapperRect.y -
+            wrapperRect.height / 2 +
+            currentTranslate.y
+        );
 
-      var xDistance = xOld - xNew;
-      var yDistance = yOld - yNew;
+        var xDistance = xOld - xNew;
+        var yDistance = yOld - yNew;
 
-      return {
-        type: "SET_TRANSLATE_SCALE",
-        scale: newScale,
-        translate: {
-          x: currentTranslate.x + xDistance * newScale,
-          y: currentTranslate.y + yDistance * newScale
-        }
-      };
-    });
-  }, [dispatchStageState, numNodes]);
+        return {
+          type: "SET_TRANSLATE_SCALE",
+          scale: newScale,
+          translate: {
+            x: currentTranslate.x + xDistance * newScale,
+            y: currentTranslate.y + yDistance * newScale,
+          },
+        };
+      });
+    },
+    [dispatchStageState, numNodes]
+  );
 
   var handleDragDelayStart = function handleDragDelayStart(e) {
     wrapper.current.focus();
@@ -4475,7 +4982,7 @@ var Stage = function Stage(_ref) {
     e.preventDefault();
     dragData.current = {
       x: e.clientX,
-      y: e.clientY
+      y: e.clientY,
     };
   };
 
@@ -4485,7 +4992,12 @@ var Stage = function Stage(_ref) {
     var xDelta = translate.x + xDistance;
     var yDelta = translate.y + yDistance;
     wrapper.current.style.backgroundPosition = -xDelta + "px " + -yDelta + "px";
-    translateWrapper.current.style.transform = "translate(" + -(translate.x + xDistance) + "px, " + -(translate.y + yDistance) + "px)";
+    translateWrapper.current.style.transform =
+      "translate(" +
+      -(translate.x + xDistance) +
+      "px, " +
+      -(translate.y + yDistance) +
+      "px)";
   };
 
   var handleDragEnd = function handleDragEnd(e) {
@@ -4499,8 +5011,8 @@ var Stage = function Stage(_ref) {
         type: "SET_TRANSLATE",
         translate: {
           x: tran.x + xDistance,
-          y: tran.y + yDistance
-        }
+          y: tran.y + yDistance,
+        },
       };
     });
   };
@@ -4517,28 +5029,32 @@ var Stage = function Stage(_ref) {
   };
 
   var byScale = function byScale(value) {
-    return 1 / scale * value;
+    return (1 / scale) * value;
   };
 
   var addNode = function addNode(_ref4) {
     var node = _ref4.node,
-        internalType = _ref4.internalType;
+      internalType = _ref4.internalType;
 
     var wrapperRect = wrapper.current.getBoundingClientRect();
-    var x = byScale(menuCoordinates.x - wrapperRect.x - wrapperRect.width / 2) + byScale(translate.x);
-    var y = byScale(menuCoordinates.y - wrapperRect.y - wrapperRect.height / 2) + byScale(translate.y);
+    var x =
+      byScale(menuCoordinates.x - wrapperRect.x - wrapperRect.width / 2) +
+      byScale(translate.x);
+    var y =
+      byScale(menuCoordinates.y - wrapperRect.y - wrapperRect.height / 2) +
+      byScale(translate.y);
     if (internalType === "comment") {
       dispatchComments({
         type: "ADD_COMMENT",
         x: x,
-        y: y
+        y: y,
       });
     } else {
       dispatchNodes({
         type: "ADD_NODE",
         x: x,
         y: y,
-        nodeType: node.type
+        nodeType: node.type,
       });
     }
   };
@@ -4565,33 +5081,49 @@ var Stage = function Stage(_ref) {
     }
   };
 
-  React__default.useEffect(function () {
-    if (!disableZoom) {
-      var stageWrapper = wrapper.current;
-      stageWrapper.addEventListener("wheel", handleWheel);
-      return function () {
-        stageWrapper.removeEventListener("wheel", handleWheel);
-      };
-    }
-  }, [handleWheel, disableZoom]);
+  React__default.useEffect(
+    function () {
+      if (!disableZoom) {
+        var stageWrapper = wrapper.current;
+        stageWrapper.addEventListener("wheel", handleWheel);
+        return function () {
+          stageWrapper.removeEventListener("wheel", handleWheel);
+        };
+      }
+    },
+    [handleWheel, disableZoom]
+  );
 
-  var menuOptions = React__default.useMemo(function () {
-    var options = orderBy_1(Object.values(nodeTypes).filter(function (node) {
-      return node.addable !== false;
-    }).map(function (node) {
-      return {
-        value: node.type,
-        label: node.label,
-        description: node.description,
-        sortIndex: node.sortIndex,
-        node: node
-      };
-    }), ["sortIndex", "label"]);
-    if (!disableComments) {
-      options.push({ value: "comment", label: "Comment", description: "A comment for documenting nodes", internalType: "comment" });
-    }
-    return options;
-  }, [nodeTypes, disableComments]);
+  var menuOptions = React__default.useMemo(
+    function () {
+      var options = orderBy_1(
+        Object.values(nodeTypes)
+          .filter(function (node) {
+            return node.addable !== false;
+          })
+          .map(function (node) {
+            return {
+              value: node.type,
+              label: node.label,
+              description: node.description,
+              sortIndex: node.sortIndex,
+              node: node,
+            };
+          }),
+        ["sortIndex", "label"]
+      );
+      if (!disableComments) {
+        options.push({
+          value: "comment",
+          label: "Comment",
+          description: "A comment for documenting nodes",
+          internalType: "comment",
+        });
+      }
+      return options;
+    },
+    [nodeTypes, disableComments]
+  );
 
   return React__default.createElement(
     Draggable,
@@ -4610,33 +5142,38 @@ var Stage = function Stage(_ref) {
       tabIndex: -1,
       stageState: { scale: scale, translate: translate },
       style: { cursor: spaceIsPressed && spaceToPan ? "grab" : "" },
-      disabled: disablePan || spaceToPan && !spaceIsPressed,
-      "data-flume-stage": true
+      disabled: disablePan || (spaceToPan && !spaceIsPressed),
+      "data-flume-stage": true,
     },
-    menuOpen ? React__default.createElement(
-      Portal$3,
-      null,
-      React__default.createElement(ContextMenu, {
-        x: menuCoordinates.x,
-        y: menuCoordinates.y,
-        options: menuOptions,
-        onRequestClose: closeContextMenu,
-        onOptionSelected: addNode,
-        label: "Add Node"
-      })
-    ) : null,
+    menuOpen
+      ? React__default.createElement(
+          Portal$3,
+          null,
+          React__default.createElement(ContextMenu, {
+            x: menuCoordinates.x,
+            y: menuCoordinates.y,
+            options: menuOptions,
+            onRequestClose: closeContextMenu,
+            onOptionSelected: addNode,
+            label: "Add Node",
+          })
+        )
+      : null,
     React__default.createElement(
       "div",
       {
         ref: translateWrapper,
         className: styles.transformWrapper,
-        style: { transform: "translate(" + -translate.x + "px, " + -translate.y + "px)" }
+        style: {
+          transform:
+            "translate(" + -translate.x + "px, " + -translate.y + "px)",
+        },
       },
       React__default.createElement(
         "div",
         {
           className: styles.scaleWrapper,
-          style: { transform: "scale(" + scale + ")" }
+          style: { transform: "scale(" + scale + ")" },
         },
         children
       )
@@ -4645,58 +5182,77 @@ var Stage = function Stage(_ref) {
   );
 };
 
-var css$2 = ".Node_wrapper__3SmT7{\n  background: rgba(91, 96, 99, 0.9);\n  border-radius: 5px;\n  box-shadow: 0px 4px 8px rgba(0,0,0,.4);\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  cursor: default;\n}\n.Node_label__3MmhF{\n  font-size: 13px;\n  text-transform: uppercase;\n  padding: 5px;\n  background: #464b4e;\n  border-radius: 5px 5px 0px 0px;\n  margin: 0px;\n  margin-bottom: 3px;\n  border-bottom: 1px solid rgba(0,0,0,.15);\n}\n";
-var styles$2 = { "wrapper": "Node_wrapper__3SmT7", "label": "Node_label__3MmhF" };
+var css$2 =
+  ".Node_wrapper__3SmT7{\n  background: rgba(91, 96, 99, 0.9);\n  border-radius: 5px;\n  box-shadow: 0px 4px 8px rgba(0,0,0,.4);\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  cursor: default;\n}\n.Node_label__3MmhF{\n  font-size: 13px;\n  text-transform: uppercase;\n  padding: 5px;\n  background: #464b4e;\n  border-radius: 5px 5px 0px 0px;\n  margin: 0px;\n  margin-bottom: 3px;\n  border-bottom: 1px solid rgba(0,0,0,.15);\n}\n";
+var styles$2 = { wrapper: "Node_wrapper__3SmT7", label: "Node_label__3MmhF" };
 styleInject(css$2);
 
-var css$3 = ".Connection_svg__-fKLY{\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  pointer-events: none;\n  z-index: 0;\n  overflow: visible !important;\n}\n";
-var styles$3 = { "svg": "Connection_svg__-fKLY" };
+var css$3 =
+  ".Connection_svg__-fKLY{\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  pointer-events: none;\n  z-index: 0;\n  overflow: visible !important;\n}\n";
+var styles$3 = { svg: "Connection_svg__-fKLY" };
 styleInject(css$3);
 
 var pi = Math.PI,
-    tau = 2 * pi,
-    epsilon = 1e-6,
-    tauEpsilon = tau - epsilon;
+  tau = 2 * pi,
+  epsilon = 1e-6,
+  tauEpsilon = tau - epsilon;
 
 function Path() {
-  this._x0 = this._y0 = // start of current subpath
-  this._x1 = this._y1 = null; // end of current subpath
+  this._x0 =
+    this._y0 = // start of current subpath
+    this._x1 =
+    this._y1 =
+      null; // end of current subpath
   this._ = "";
 }
 
 function path() {
-  return new Path;
+  return new Path();
 }
 
 Path.prototype = path.prototype = {
   constructor: Path,
-  moveTo: function(x, y) {
-    this._ += "M" + (this._x0 = this._x1 = +x) + "," + (this._y0 = this._y1 = +y);
+  moveTo: function (x, y) {
+    this._ +=
+      "M" + (this._x0 = this._x1 = +x) + "," + (this._y0 = this._y1 = +y);
   },
-  closePath: function() {
+  closePath: function () {
     if (this._x1 !== null) {
-      this._x1 = this._x0, this._y1 = this._y0;
+      (this._x1 = this._x0), (this._y1 = this._y0);
       this._ += "Z";
     }
   },
-  lineTo: function(x, y) {
+  lineTo: function (x, y) {
     this._ += "L" + (this._x1 = +x) + "," + (this._y1 = +y);
   },
-  quadraticCurveTo: function(x1, y1, x, y) {
-    this._ += "Q" + (+x1) + "," + (+y1) + "," + (this._x1 = +x) + "," + (this._y1 = +y);
+  quadraticCurveTo: function (x1, y1, x, y) {
+    this._ +=
+      "Q" + +x1 + "," + +y1 + "," + (this._x1 = +x) + "," + (this._y1 = +y);
   },
-  bezierCurveTo: function(x1, y1, x2, y2, x, y) {
-    this._ += "C" + (+x1) + "," + (+y1) + "," + (+x2) + "," + (+y2) + "," + (this._x1 = +x) + "," + (this._y1 = +y);
+  bezierCurveTo: function (x1, y1, x2, y2, x, y) {
+    this._ +=
+      "C" +
+      +x1 +
+      "," +
+      +y1 +
+      "," +
+      +x2 +
+      "," +
+      +y2 +
+      "," +
+      (this._x1 = +x) +
+      "," +
+      (this._y1 = +y);
   },
-  arcTo: function(x1, y1, x2, y2, r) {
-    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;
+  arcTo: function (x1, y1, x2, y2, r) {
+    (x1 = +x1), (y1 = +y1), (x2 = +x2), (y2 = +y2), (r = +r);
     var x0 = this._x1,
-        y0 = this._y1,
-        x21 = x2 - x1,
-        y21 = y2 - y1,
-        x01 = x0 - x1,
-        y01 = y0 - y1,
-        l01_2 = x01 * x01 + y01 * y01;
+      y0 = this._y1,
+      x21 = x2 - x1,
+      y21 = y2 - y1,
+      x01 = x0 - x1,
+      y01 = y0 - y1,
+      l01_2 = x01 * x01 + y01 * y01;
 
     // Is the radius negative? Error.
     if (r < 0) throw new Error("negative radius: " + r);
@@ -4708,42 +5264,55 @@ Path.prototype = path.prototype = {
 
     // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.
     else if (!(l01_2 > epsilon));
-
-    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?
-    // Equivalently, is (x1,y1) coincident with (x2,y2)?
-    // Or, is the radius zero? Line to (x1,y1).
     else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {
+      // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?
+      // Equivalently, is (x1,y1) coincident with (x2,y2)?
+      // Or, is the radius zero? Line to (x1,y1).
       this._ += "L" + (this._x1 = x1) + "," + (this._y1 = y1);
     }
 
     // Otherwise, draw an arc!
     else {
       var x20 = x2 - x0,
-          y20 = y2 - y0,
-          l21_2 = x21 * x21 + y21 * y21,
-          l20_2 = x20 * x20 + y20 * y20,
-          l21 = Math.sqrt(l21_2),
-          l01 = Math.sqrt(l01_2),
-          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),
-          t01 = l / l01,
-          t21 = l / l21;
+        y20 = y2 - y0,
+        l21_2 = x21 * x21 + y21 * y21,
+        l20_2 = x20 * x20 + y20 * y20,
+        l21 = Math.sqrt(l21_2),
+        l01 = Math.sqrt(l01_2),
+        l =
+          r *
+          Math.tan(
+            (pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2
+          ),
+        t01 = l / l01,
+        t21 = l / l21;
 
       // If the start tangent is not coincident with (x0,y0), line to.
       if (Math.abs(t01 - 1) > epsilon) {
         this._ += "L" + (x1 + t01 * x01) + "," + (y1 + t01 * y01);
       }
 
-      this._ += "A" + r + "," + r + ",0,0," + (+(y01 * x20 > x01 * y20)) + "," + (this._x1 = x1 + t21 * x21) + "," + (this._y1 = y1 + t21 * y21);
+      this._ +=
+        "A" +
+        r +
+        "," +
+        r +
+        ",0,0," +
+        +(y01 * x20 > x01 * y20) +
+        "," +
+        (this._x1 = x1 + t21 * x21) +
+        "," +
+        (this._y1 = y1 + t21 * y21);
     }
   },
-  arc: function(x, y, r, a0, a1, ccw) {
-    x = +x, y = +y, r = +r, ccw = !!ccw;
+  arc: function (x, y, r, a0, a1, ccw) {
+    (x = +x), (y = +y), (r = +r), (ccw = !!ccw);
     var dx = r * Math.cos(a0),
-        dy = r * Math.sin(a0),
-        x0 = x + dx,
-        y0 = y + dy,
-        cw = 1 ^ ccw,
-        da = ccw ? a0 - a1 : a1 - a0;
+      dy = r * Math.sin(a0),
+      x0 = x + dx,
+      y0 = y + dy,
+      cw = 1 ^ ccw,
+      da = ccw ? a0 - a1 : a1 - a0;
 
     // Is the radius negative? Error.
     if (r < 0) throw new Error("negative radius: " + r);
@@ -4754,7 +5323,10 @@ Path.prototype = path.prototype = {
     }
 
     // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).
-    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {
+    else if (
+      Math.abs(this._x1 - x0) > epsilon ||
+      Math.abs(this._y1 - y0) > epsilon
+    ) {
       this._ += "L" + x0 + "," + y0;
     }
 
@@ -4762,24 +5334,67 @@ Path.prototype = path.prototype = {
     if (!r) return;
 
     // Does the angle go the wrong way? Flip the direction.
-    if (da < 0) da = da % tau + tau;
+    if (da < 0) da = (da % tau) + tau;
 
     // Is this a complete circle? Draw two arcs to complete the circle.
     if (da > tauEpsilon) {
-      this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x - dx) + "," + (y - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x0) + "," + (this._y1 = y0);
+      this._ +=
+        "A" +
+        r +
+        "," +
+        r +
+        ",0,1," +
+        cw +
+        "," +
+        (x - dx) +
+        "," +
+        (y - dy) +
+        "A" +
+        r +
+        "," +
+        r +
+        ",0,1," +
+        cw +
+        "," +
+        (this._x1 = x0) +
+        "," +
+        (this._y1 = y0);
     }
 
     // Is this arc non-empty? Draw an arc!
     else if (da > epsilon) {
-      this._ += "A" + r + "," + r + ",0," + (+(da >= pi)) + "," + cw + "," + (this._x1 = x + r * Math.cos(a1)) + "," + (this._y1 = y + r * Math.sin(a1));
+      this._ +=
+        "A" +
+        r +
+        "," +
+        r +
+        ",0," +
+        +(da >= pi) +
+        "," +
+        cw +
+        "," +
+        (this._x1 = x + r * Math.cos(a1)) +
+        "," +
+        (this._y1 = y + r * Math.sin(a1));
     }
   },
-  rect: function(x, y, w, h) {
-    this._ += "M" + (this._x0 = this._x1 = +x) + "," + (this._y0 = this._y1 = +y) + "h" + (+w) + "v" + (+h) + "h" + (-w) + "Z";
+  rect: function (x, y, w, h) {
+    this._ +=
+      "M" +
+      (this._x0 = this._x1 = +x) +
+      "," +
+      (this._y0 = this._y1 = +y) +
+      "h" +
+      +w +
+      "v" +
+      +h +
+      "h" +
+      -w +
+      "Z";
   },
-  toString: function() {
+  toString: function () {
     return this._;
-  }
+  },
 };
 
 function constant(x) {
@@ -4795,27 +5410,34 @@ function Linear(context) {
 }
 
 Linear.prototype = {
-  areaStart: function() {
+  areaStart: function () {
     this._line = 0;
   },
-  areaEnd: function() {
+  areaEnd: function () {
     this._line = NaN;
   },
-  lineStart: function() {
+  lineStart: function () {
     this._point = 0;
   },
-  lineEnd: function() {
-    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();
+  lineEnd: function () {
+    if (this._line || (this._line !== 0 && this._point === 1))
+      this._context.closePath();
     this._line = 1 - this._line;
   },
-  point: function(x, y) {
-    x = +x, y = +y;
+  point: function (x, y) {
+    (x = +x), (y = +y);
     switch (this._point) {
-      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;
-      case 1: this._point = 2; // proceed
-      default: this._context.lineTo(x, y); break;
+      case 0:
+        this._point = 1;
+        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);
+        break;
+      case 1:
+        this._point = 2; // proceed
+      default:
+        this._context.lineTo(x, y);
+        break;
     }
-  }
+  },
 };
 
 function curveLinear(context) {
@@ -4832,50 +5454,63 @@ function y(p) {
 
 function line() {
   var x$$1 = x,
-      y$$1 = y,
-      defined = constant(true),
-      context = null,
-      curve = curveLinear,
-      output = null;
+    y$$1 = y,
+    defined = constant(true),
+    context = null,
+    curve = curveLinear,
+    output = null;
 
   function line(data) {
     var i,
-        n = data.length,
-        d,
-        defined0 = false,
-        buffer;
+      n = data.length,
+      d,
+      defined0 = false,
+      buffer;
 
-    if (context == null) output = curve(buffer = path());
+    if (context == null) output = curve((buffer = path()));
 
     for (i = 0; i <= n; ++i) {
-      if (!(i < n && defined(d = data[i], i, data)) === defined0) {
-        if (defined0 = !defined0) output.lineStart();
+      if (!(i < n && defined((d = data[i]), i, data)) === defined0) {
+        if ((defined0 = !defined0)) output.lineStart();
         else output.lineEnd();
       }
       if (defined0) output.point(+x$$1(d, i, data), +y$$1(d, i, data));
     }
 
-    if (buffer) return output = null, buffer + "" || null;
+    if (buffer) return (output = null), buffer + "" || null;
   }
 
-  line.x = function(_) {
-    return arguments.length ? (x$$1 = typeof _ === "function" ? _ : constant(+_), line) : x$$1;
+  line.x = function (_) {
+    return arguments.length
+      ? ((x$$1 = typeof _ === "function" ? _ : constant(+_)), line)
+      : x$$1;
   };
 
-  line.y = function(_) {
-    return arguments.length ? (y$$1 = typeof _ === "function" ? _ : constant(+_), line) : y$$1;
+  line.y = function (_) {
+    return arguments.length
+      ? ((y$$1 = typeof _ === "function" ? _ : constant(+_)), line)
+      : y$$1;
   };
 
-  line.defined = function(_) {
-    return arguments.length ? (defined = typeof _ === "function" ? _ : constant(!!_), line) : defined;
+  line.defined = function (_) {
+    return arguments.length
+      ? ((defined = typeof _ === "function" ? _ : constant(!!_)), line)
+      : defined;
   };
 
-  line.curve = function(_) {
-    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;
+  line.curve = function (_) {
+    return arguments.length
+      ? ((curve = _), context != null && (output = curve(context)), line)
+      : curve;
   };
 
-  line.context = function(_) {
-    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;
+  line.context = function (_) {
+    return arguments.length
+      ? (_ == null
+          ? (context = output = null)
+          : (output = curve((context = _))),
+        line)
+      : context;
   };
 
   return line;
@@ -4897,36 +5532,51 @@ function Basis(context) {
 }
 
 Basis.prototype = {
-  areaStart: function() {
+  areaStart: function () {
     this._line = 0;
   },
-  areaEnd: function() {
+  areaEnd: function () {
     this._line = NaN;
   },
-  lineStart: function() {
-    this._x0 = this._x1 =
-    this._y0 = this._y1 = NaN;
+  lineStart: function () {
+    this._x0 = this._x1 = this._y0 = this._y1 = NaN;
     this._point = 0;
   },
-  lineEnd: function() {
+  lineEnd: function () {
     switch (this._point) {
-      case 3: point(this, this._x1, this._y1); // proceed
-      case 2: this._context.lineTo(this._x1, this._y1); break;
+      case 3:
+        point(this, this._x1, this._y1); // proceed
+      case 2:
+        this._context.lineTo(this._x1, this._y1);
+        break;
     }
-    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();
+    if (this._line || (this._line !== 0 && this._point === 1))
+      this._context.closePath();
     this._line = 1 - this._line;
   },
-  point: function(x, y) {
-    x = +x, y = +y;
+  point: function (x, y) {
+    (x = +x), (y = +y);
     switch (this._point) {
-      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;
-      case 1: this._point = 2; break;
-      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed
-      default: point(this, x, y); break;
+      case 0:
+        this._point = 1;
+        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);
+        break;
+      case 1:
+        this._point = 2;
+        break;
+      case 2:
+        this._point = 3;
+        this._context.lineTo(
+          (5 * this._x0 + this._x1) / 6,
+          (5 * this._y0 + this._y1) / 6
+        ); // proceed
+      default:
+        point(this, x, y);
+        break;
     }
-    this._x0 = this._x1, this._x1 = x;
-    this._y0 = this._y1, this._y1 = y;
-  }
+    (this._x0 = this._x1), (this._x1 = x);
+    (this._y0 = this._y1), (this._y1 = y);
+  },
 };
 
 function curveBasis(context) {
@@ -4943,17 +5593,20 @@ function sign(x) {
 // NOV(II), P. 443, 1990.
 function slope3(that, x2, y2) {
   var h0 = that._x1 - that._x0,
-      h1 = x2 - that._x1,
-      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),
-      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),
-      p = (s0 * h1 + s1 * h0) / (h0 + h1);
-  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;
+    h1 = x2 - that._x1,
+    s0 = (that._y1 - that._y0) / (h0 || (h1 < 0 && -0)),
+    s1 = (y2 - that._y1) / (h1 || (h0 < 0 && -0)),
+    p = (s0 * h1 + s1 * h0) / (h0 + h1);
+  return (
+    (sign(s0) + sign(s1)) *
+      Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0
+  );
 }
 
 // Calculate a one-sided slope.
 function slope2(that, t) {
   var h = that._x1 - that._x0;
-  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;
+  return h ? ((3 * (that._y1 - that._y0)) / h - t) / 2 : t;
 }
 
 // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations
@@ -4961,11 +5614,18 @@ function slope2(that, t) {
 // with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1".
 function point$3(that, t0, t1) {
   var x0 = that._x0,
-      y0 = that._y0,
-      x1 = that._x1,
-      y1 = that._y1,
-      dx = (x1 - x0) / 3;
-  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);
+    y0 = that._y0,
+    x1 = that._x1,
+    y1 = that._y1,
+    dx = (x1 - x0) / 3;
+  that._context.bezierCurveTo(
+    x0 + dx,
+    y0 + dx * t0,
+    x1 - dx,
+    y1 - dx * t1,
+    x1,
+    y1
+  );
 }
 
 function MonotoneX(context) {
@@ -4973,49 +5633,65 @@ function MonotoneX(context) {
 }
 
 MonotoneX.prototype = {
-  areaStart: function() {
+  areaStart: function () {
     this._line = 0;
   },
-  areaEnd: function() {
+  areaEnd: function () {
     this._line = NaN;
   },
-  lineStart: function() {
-    this._x0 = this._x1 =
-    this._y0 = this._y1 =
-    this._t0 = NaN;
+  lineStart: function () {
+    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;
     this._point = 0;
   },
-  lineEnd: function() {
+  lineEnd: function () {
     switch (this._point) {
-      case 2: this._context.lineTo(this._x1, this._y1); break;
-      case 3: point$3(this, this._t0, slope2(this, this._t0)); break;
+      case 2:
+        this._context.lineTo(this._x1, this._y1);
+        break;
+      case 3:
+        point$3(this, this._t0, slope2(this, this._t0));
+        break;
     }
-    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();
+    if (this._line || (this._line !== 0 && this._point === 1))
+      this._context.closePath();
     this._line = 1 - this._line;
   },
-  point: function(x, y) {
+  point: function (x, y) {
     var t1 = NaN;
 
-    x = +x, y = +y;
+    (x = +x), (y = +y);
     if (x === this._x1 && y === this._y1) return; // Ignore coincident points.
     switch (this._point) {
-      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;
-      case 1: this._point = 2; break;
-      case 2: this._point = 3; point$3(this, slope2(this, t1 = slope3(this, x, y)), t1); break;
-      default: point$3(this, this._t0, t1 = slope3(this, x, y)); break;
+      case 0:
+        this._point = 1;
+        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);
+        break;
+      case 1:
+        this._point = 2;
+        break;
+      case 2:
+        this._point = 3;
+        point$3(this, slope2(this, (t1 = slope3(this, x, y))), t1);
+        break;
+      default:
+        point$3(this, this._t0, (t1 = slope3(this, x, y)));
+        break;
     }
 
-    this._x0 = this._x1, this._x1 = x;
-    this._y0 = this._y1, this._y1 = y;
+    (this._x0 = this._x1), (this._x1 = x);
+    (this._y0 = this._y1), (this._y1 = y);
     this._t0 = t1;
-  }
+  },
 };
 
 function MonotoneY(context) {
   this._context = new ReflectContext(context);
 }
 
-(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {
+(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (
+  x,
+  y
+) {
   MonotoneX.prototype.point.call(this, y, x);
 };
 
@@ -5024,19 +5700,37 @@ function ReflectContext(context) {
 }
 
 ReflectContext.prototype = {
-  moveTo: function(x, y) { this._context.moveTo(y, x); },
-  closePath: function() { this._context.closePath(); },
-  lineTo: function(x, y) { this._context.lineTo(y, x); },
-  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }
+  moveTo: function (x, y) {
+    this._context.moveTo(y, x);
+  },
+  closePath: function () {
+    this._context.closePath();
+  },
+  lineTo: function (x, y) {
+    this._context.lineTo(y, x);
+  },
+  bezierCurveTo: function (x1, y1, x2, y2, x, y) {
+    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);
+  },
 };
 
 var getPort = function getPort(nodeId, portName) {
-  var transputType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "input";
-  return document.querySelector('[data-node-id="' + nodeId + '"] [data-port-name="' + portName + '"][data-port-transput-type="' + transputType + '"]');
+  var transputType =
+    arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "input";
+  return document.querySelector(
+    '[data-node-id="' +
+      nodeId +
+      '"] [data-port-name="' +
+      portName +
+      '"][data-port-transput-type="' +
+      transputType +
+      '"]'
+  );
 };
 
 var getPortRect = function getPortRect(nodeId, portName) {
-  var transputType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "input";
+  var transputType =
+    arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "input";
   var cache = arguments[3];
 
   if (cache) {
@@ -5058,7 +5752,12 @@ var getPortRect = function getPortRect(nodeId, portName) {
 var calculateCurve = function calculateCurve(from, to) {
   var length = to.x - from.x;
   var thirdLength = length / 3;
-  var curve = line().curve(curveBasis)([[from.x, from.y], [from.x + thirdLength, from.y], [from.x + thirdLength * 2, to.y], [to.x, to.y]]);
+  var curve = line().curve(curveBasis)([
+    [from.x, from.y],
+    [from.x + thirdLength, from.y],
+    [from.x + thirdLength * 2, to.y],
+    [to.x, to.y],
+  ]);
   return curve;
 };
 
@@ -5070,13 +5769,23 @@ var deleteConnection = function deleteConnection(_ref3) {
 };
 
 var deleteConnectionsByNodeId = function deleteConnectionsByNodeId(nodeId) {
-  var lines = document.querySelectorAll('[data-output-node-id="' + nodeId + '"], [data-input-node-id="' + nodeId + '"]');
+  var lines = document.querySelectorAll(
+    '[data-output-node-id="' +
+      nodeId +
+      '"], [data-input-node-id="' +
+      nodeId +
+      '"]'
+  );
   var _iteratorNormalCompletion = true;
   var _didIteratorError = false;
   var _iteratorError = undefined;
 
   try {
-    for (var _iterator = lines[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
+    for (
+      var _iterator = lines[Symbol.iterator](), _step;
+      !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
+      _iteratorNormalCompletion = true
+    ) {
       var _line = _step.value;
 
       _line.parentNode.remove();
@@ -5099,21 +5808,21 @@ var deleteConnectionsByNodeId = function deleteConnectionsByNodeId(nodeId) {
 
 var updateConnection = function updateConnection(_ref4) {
   var line$$1 = _ref4.line,
-      from = _ref4.from,
-      to = _ref4.to;
+    from = _ref4.from,
+    to = _ref4.to;
 
   line$$1.setAttribute("d", calculateCurve(from, to));
 };
 
 var createSVG = function createSVG(_ref5) {
   var from = _ref5.from,
-      to = _ref5.to,
-      stage = _ref5.stage,
-      id = _ref5.id,
-      outputNodeId = _ref5.outputNodeId,
-      outputPortName = _ref5.outputPortName,
-      inputNodeId = _ref5.inputNodeId,
-      inputPortName = _ref5.inputPortName;
+    to = _ref5.to,
+    stage = _ref5.stage,
+    id = _ref5.id,
+    outputNodeId = _ref5.outputNodeId,
+    outputPortName = _ref5.outputPortName,
+    inputNodeId = _ref5.inputNodeId,
+    inputPortName = _ref5.inputPortName;
 
   var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
   svg.setAttribute("class", styles$3.svg);
@@ -5135,12 +5844,12 @@ var createSVG = function createSVG(_ref5) {
 };
 
 var getStageRef = function getStageRef(editorId) {
-  return document.getElementById('' + CONNECTIONS_ID + editorId);
+  return document.getElementById("" + CONNECTIONS_ID + editorId);
 };
 
 var createConnections = function createConnections(nodes, _ref6, editorId) {
   var scale = _ref6.scale,
-      stageId = _ref6.stageId;
+    stageId = _ref6.stageId;
 
   var stageRef = getStageRef(editorId);
   if (stageRef) {
@@ -5149,34 +5858,44 @@ var createConnections = function createConnections(nodes, _ref6, editorId) {
     var stageHalfHeight = stage.height / 2;
 
     var byScale = function byScale(value) {
-      return 1 / scale * value;
+      return (1 / scale) * value;
     };
 
     Object.values(nodes).forEach(function (node) {
       if (node.connections && node.connections.inputs) {
         Object.entries(node.connections.inputs).forEach(function (_ref7, k) {
           var _ref8 = slicedToArray(_ref7, 2),
-              inputName = _ref8[0],
-              outputs = _ref8[1];
+            inputName = _ref8[0],
+            outputs = _ref8[1];
 
           outputs.forEach(function (output) {
-            var fromPort = getPortRect(output.nodeId, output.portName, "output");
+            var fromPort = getPortRect(
+              output.nodeId,
+              output.portName,
+              "output"
+            );
             var toPort = getPortRect(node.id, inputName, "input");
             var portHalf = fromPort ? fromPort.width / 2 : 0;
             if (fromPort && toPort) {
               var id = output.nodeId + output.portName + node.id + inputName;
-              var existingLine = document.querySelector('[data-connection-id="' + id + '"]');
+              var existingLine = document.querySelector(
+                '[data-connection-id="' + id + '"]'
+              );
               if (existingLine) {
                 updateConnection({
                   line: existingLine,
                   from: {
-                    x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),
-                    y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)
+                    x: byScale(
+                      fromPort.x - stage.x + portHalf - stageHalfWidth
+                    ),
+                    y: byScale(
+                      fromPort.y - stage.y + portHalf - stageHalfHeight
+                    ),
                   },
                   to: {
                     x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),
-                    y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)
-                  }
+                    y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight),
+                  },
                 });
               } else {
                 createSVG({
@@ -5186,14 +5905,18 @@ var createConnections = function createConnections(nodes, _ref6, editorId) {
                   inputNodeId: node.id,
                   inputPortName: inputName,
                   from: {
-                    x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),
-                    y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)
+                    x: byScale(
+                      fromPort.x - stage.x + portHalf - stageHalfWidth
+                    ),
+                    y: byScale(
+                      fromPort.y - stage.y + portHalf - stageHalfHeight
+                    ),
                   },
                   to: {
                     x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),
-                    y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)
+                    y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight),
                   },
-                  stage: stageRef
+                  stage: stageRef,
                 });
               }
             }
@@ -5204,22 +5927,41 @@ var createConnections = function createConnections(nodes, _ref6, editorId) {
   }
 };
 
-var css$4 = ".IoPorts_wrapper__3d2hh{\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  width: 100%;\n  padding: 5px;\n}\n.IoPorts_inputs__2etkb{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.IoPorts_inputs__2etkb:last-child{\n    margin-bottom: 0px;\n  }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\n        margin-top: 5px;\n      }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-{\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 100%;\n}\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-:first-child{\n    margin-top: 5px;\n  }\n.IoPorts_transput__1wbHA{\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n.IoPorts_transput__1wbHA:first-child{\n    margin-top: 0px;\n  }\n.IoPorts_transput__1wbHA[data-controlless=\"true\"]{\n    margin-top: 6px;\n    margin-bottom: 6px;\n  }\n.IoPorts_transput__1wbHA[data-controlless=\"true\"]:first-child{\n      margin-top: 0px;\n    }\n.IoPorts_transput__1wbHA[data-controlless=\"false\"]{\n    margin-top: 2px;\n    margin-bottom: 2px;\n  }\n.IoPorts_controls__1dKFt{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.IoPorts_portLabel__qOE7y{\n  font-size: 13px;\n  font-weight: 400;\n}\n.IoPorts_port__1_a6J{\n  width: 12px;\n  height: 12px;\n  background: linear-gradient(to bottom, #acb1b4, #919699);\n  border-radius: 100%;\n  margin-right: 5px;\n  margin-left: -11px;\n  flex: 0 0 auto;\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\n}\n.IoPorts_port__1_a6J:last-child{\n    margin-right: -11px;\n    margin-left: 5px;\n  }\n.IoPorts_port__1_a6J[data-port-color=\"red\"]{\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\n  }\n.IoPorts_port__1_a6J[data-port-color=\"purple\"]{\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\n  }\n.IoPorts_port__1_a6J[data-port-color=\"blue\"]{\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\n  }\n.IoPorts_port__1_a6J[data-port-color=\"green\"]{\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\n  }\n.IoPorts_port__1_a6J[data-port-color=\"yellow\"]{\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\n  }\n.IoPorts_port__1_a6J[data-port-color=\"orange\"]{\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\n  }\n.IoPorts_port__1_a6J[data-port-color=\"pink\"]{\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\n  }\n";
-var styles$4 = { "wrapper": "IoPorts_wrapper__3d2hh", "inputs": "IoPorts_inputs__2etkb", "transput": "IoPorts_transput__1wbHA", "portLabel": "IoPorts_portLabel__qOE7y", "port": "IoPorts_port__1_a6J", "outputs": "IoPorts_outputs__3JGh-", "controls": "IoPorts_controls__1dKFt" };
+var css$4 =
+  '.IoPorts_wrapper__3d2hh{\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  width: 100%;\n  padding: 5px;\n}\n.IoPorts_inputs__2etkb{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.IoPorts_inputs__2etkb:last-child{\n    margin-bottom: 0px;\n  }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\n        margin-top: 5px;\n      }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-{\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 100%;\n}\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-:first-child{\n    margin-top: 5px;\n  }\n.IoPorts_transput__1wbHA{\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n.IoPorts_transput__1wbHA:first-child{\n    margin-top: 0px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]{\n    margin-top: 6px;\n    margin-bottom: 6px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]:first-child{\n      margin-top: 0px;\n    }\n.IoPorts_transput__1wbHA[data-controlless="false"]{\n    margin-top: 2px;\n    margin-bottom: 2px;\n  }\n.IoPorts_controls__1dKFt{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.IoPorts_portLabel__qOE7y{\n  font-size: 13px;\n  font-weight: 400;\n}\n.IoPorts_port__1_a6J{\n  width: 12px;\n  height: 12px;\n  background: linear-gradient(to bottom, #acb1b4, #919699);\n  border-radius: 100%;\n  margin-right: 5px;\n  margin-left: -11px;\n  flex: 0 0 auto;\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\n}\n.IoPorts_port__1_a6J:last-child{\n    margin-right: -11px;\n    margin-left: 5px;\n  }\n.IoPorts_port__1_a6J[data-port-color="red"]{\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\n  }\n.IoPorts_port__1_a6J[data-port-color="purple"]{\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\n  }\n.IoPorts_port__1_a6J[data-port-color="blue"]{\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\n  }\n.IoPorts_port__1_a6J[data-port-color="green"]{\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\n  }\n.IoPorts_port__1_a6J[data-port-color="yellow"]{\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\n  }\n.IoPorts_port__1_a6J[data-port-color="orange"]{\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\n  }\n.IoPorts_port__1_a6J[data-port-color="pink"]{\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\n  }\n';
+var styles$4 = {
+  wrapper: "IoPorts_wrapper__3d2hh",
+  inputs: "IoPorts_inputs__2etkb",
+  transput: "IoPorts_transput__1wbHA",
+  portLabel: "IoPorts_portLabel__qOE7y",
+  port: "IoPorts_port__1_a6J",
+  outputs: "IoPorts_outputs__3JGh-",
+  controls: "IoPorts_controls__1dKFt",
+};
 styleInject(css$4);
 
-var css$5 = ".Control_wrapper__VZIiC {\n  width: 100%;\n  padding-right: 3px;\n  padding-top: 3px;\n  padding-bottom: 5px;\n}\n.Control_label__1OX-Q {\n  font-size: 14px;\n}\n.Control_controlLabel__3ga2- {\n  font-size: 13px;\n  display: inline-block;\n  margin-left: 2px;\n}\n";
-var styles$5 = { "wrapper": "Control_wrapper__VZIiC", "label": "Control_label__1OX-Q", "controlLabel": "Control_controlLabel__3ga2-" };
+var css$5 =
+  ".Control_wrapper__VZIiC {\n  width: 100%;\n  padding-right: 3px;\n  padding-top: 3px;\n  padding-bottom: 5px;\n}\n.Control_label__1OX-Q {\n  font-size: 14px;\n}\n.Control_controlLabel__3ga2- {\n  font-size: 13px;\n  display: inline-block;\n  margin-left: 2px;\n}\n";
+var styles$5 = {
+  wrapper: "Control_wrapper__VZIiC",
+  label: "Control_label__1OX-Q",
+  controlLabel: "Control_controlLabel__3ga2-",
+};
 styleInject(css$5);
 
-var css$6 = ".Checkbox_wrapper__aSqyY{\n  display: flex;\n  align-items: center;\n}\n.Checkbox_checkbox__Qv5gn{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  margin-right: 8px;\n}\n.Checkbox_label__2RxP-{\n  padding-top: 2px;\n  font-size: 13px;\n}\n";
-var styles$6 = { "wrapper": "Checkbox_wrapper__aSqyY", "checkbox": "Checkbox_checkbox__Qv5gn", "label": "Checkbox_label__2RxP-" };
+var css$6 =
+  ".Checkbox_wrapper__aSqyY{\n  display: flex;\n  align-items: center;\n}\n.Checkbox_checkbox__Qv5gn{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  margin-right: 8px;\n}\n.Checkbox_label__2RxP-{\n  padding-top: 2px;\n  font-size: 13px;\n}\n";
+var styles$6 = {
+  wrapper: "Checkbox_wrapper__aSqyY",
+  checkbox: "Checkbox_checkbox__Qv5gn",
+  label: "Checkbox_label__2RxP-",
+};
 styleInject(css$6);
 
 var Checkbox = function Checkbox(_ref) {
   var label = _ref.label,
-      data = _ref.data,
-      _onChange = _ref.onChange;
+    data = _ref.data,
+    _onChange = _ref.onChange;
 
   var id = React__default.useRef(nanoid(10));
 
@@ -5235,30 +5977,40 @@ var Checkbox = function Checkbox(_ref) {
       checked: data,
       onChange: function onChange(e) {
         return _onChange(e.target.checked);
-      }
+      },
     }),
     React__default.createElement(
       "label",
-      { "data-flume-component": "checkbox-label", className: styles$6.label, htmlFor: id },
+      {
+        "data-flume-component": "checkbox-label",
+        className: styles$6.label,
+        htmlFor: id,
+      },
       label
     )
   );
 };
 
-var css$7 = ".TextInput_wrapper__tefOZ{\n  background: none;\n  border: none;\n}\n.TextInput_input__1QHwS{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  font-size: 13px;\n  padding: 5px;\n  resize: vertical;\n  outline: none;\n}\n.TextInput_input__1QHwS::placeholder{\n    color: rgb(47, 49, 50);\n  }\n.TextInput_input__1QHwS:focus{\n    background: linear-gradient(to bottom, #676b6e, #75797c);\n  }\n";
-var styles$7 = { "wrapper": "TextInput_wrapper__tefOZ", "input": "TextInput_input__1QHwS" };
+var css$7 =
+  ".TextInput_wrapper__tefOZ{\n  background: none;\n  border: none;\n}\n.TextInput_input__1QHwS{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  font-size: 13px;\n  padding: 5px;\n  resize: vertical;\n  outline: none;\n}\n.TextInput_input__1QHwS::placeholder{\n    color: rgb(47, 49, 50);\n  }\n.TextInput_input__1QHwS:focus{\n    background: linear-gradient(to bottom, #676b6e, #75797c);\n  }\n";
+var styles$7 = {
+  wrapper: "TextInput_wrapper__tefOZ",
+  input: "TextInput_input__1QHwS",
+};
 styleInject(css$7);
 
 var TextInput = function TextInput(_ref) {
   var placeholder = _ref.placeholder,
-      updateNodeConnections = _ref.updateNodeConnections,
-      _onChange = _ref.onChange,
-      data = _ref.data,
-      step = _ref.step,
-      type = _ref.type;
+    updateNodeConnections = _ref.updateNodeConnections,
+    _onChange = _ref.onChange,
+    data = _ref.data,
+    step = _ref.step,
+    type = _ref.type;
 
   var numberInput = React__default.useRef();
-  var recalculateStageRect = React__default.useContext(RecalculateStageRectContext);
+  var recalculateStageRect = React__default.useContext(
+    RecalculateStageRectContext
+  );
 
   var handleDragEnd = function handleDragEnd() {
     document.removeEventListener("mousemove", handleMouseMove);
@@ -5280,86 +6032,96 @@ var TextInput = function TextInput(_ref) {
   return React__default.createElement(
     "div",
     { className: styles$7.wrapper, "data-flume-component": "text-input" },
-    type === "number" ? React__default.createElement("input", {
-      "data-flume-component": "text-input-number",
-      onKeyDown: function onKeyDown(e) {
-        if (e.keyCode === 69) {
-          e.preventDefault();
-          return false;
-        }
-      },
-      onChange: function onChange(e) {
-        var inputValue = e.target.value.replace(/[^0-9.]+/g, '');
-        if (!!inputValue) {
-          var value = parseFloat(inputValue, 10);
-          if (Number.isNaN(value)) {
-            _onChange(0);
-          } else {
-            _onChange(value);
-            numberInput.current.value = value;
-          }
-        }
-      },
-      onBlur: function onBlur(e) {
-        if (!e.target.value) {
-          _onChange(0);
-          numberInput.current.value = 0;
-        }
-      },
-      step: step || "1",
-      onMouseDown: handlePossibleResize,
-      type: type || "text",
-      placeholder: placeholder,
-      className: styles$7.input,
-      defaultValue: data,
-      onDragStart: function onDragStart(e) {
-        return e.stopPropagation();
-      },
-      ref: numberInput
-    }) : React__default.createElement("textarea", {
-      "data-flume-component": "text-input-textarea",
-      onChange: function onChange(e) {
-        return _onChange(e.target.value);
-      },
-      onMouseDown: handlePossibleResize,
-      type: "text",
-      placeholder: placeholder,
-      className: styles$7.input,
-      value: data,
-      onDragStart: function onDragStart(e) {
-        return e.stopPropagation();
-      }
-    })
-  );
-};
-
-var css$8 = ".Select_wrapper__eAPoQ{\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  padding-right: 15px;\n  position: relative;\n}\n  .Select_wrapper__eAPoQ::after{\n    content: \"\";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: 8px;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n  .Select_wrapper__eAPoQ:hover{\n    background: linear-gradient(to top, #63676a, #777b7e);\n  }\n.Select_chipWrapper__3hK2u{\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  margin: 2px;\n  position: relative;\n}\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK{\n  opacity: 1;\n}\n.Select_chipsWrapper__4Alw8{\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 6px;\n}\n.Select_deleteButton__1FnLK{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n  width: 22px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border-radius: 3px;\n  border: none;\n  font-weight: bold;\n  opacity: 0;\n}\n.Select_deleteButton__1FnLK:focus{\n  opacity: 1;\n}\n.Select_deleteButton__1FnLK:hover{\n  background: linear-gradient(to top, #64696c, #797f82);\n}\n.Select_selectedWrapper__SUs4D{\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  font-size: 14px;\n  padding: 3px 6px;\n  padding-right: 15px;\n  position: relative;\n}\n.Select_selectedWrapper__SUs4D::after{\n    content: \"\";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: calc(50% - 4px);\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n.Select_selectedWrapper__SUs4D label{\n    margin: 0px;\n  }\n.Select_selectedWrapper__SUs4D p{\n    margin: 0px;\n    margin-top: 5px;\n    font-size: 12px;\n    font-style: italic;\n    color: rgb(50, 50, 50);\n  }\n";
-var styles$8 = { "wrapper": "Select_wrapper__eAPoQ", "chipWrapper": "Select_chipWrapper__3hK2u", "deleteButton": "Select_deleteButton__1FnLK", "chipsWrapper": "Select_chipsWrapper__4Alw8", "selectedWrapper": "Select_selectedWrapper__SUs4D" };
-styleInject(css$8);
-
-var MAX_LABEL_LENGTH = 50;
-
-var Select = function Select(_ref) {
+    type === "number"
+      ? React__default.createElement("input", {
+          "data-flume-component": "text-input-number",
+          onKeyDown: function onKeyDown(e) {
+            if (e.keyCode === 69) {
+              e.preventDefault();
+              return false;
+            }
+          },
+          onChange: function onChange(e) {
+            var inputValue = e.target.value.replace(/[^0-9.]+/g, "");
+            if (!!inputValue) {
+              var value = parseFloat(inputValue, 10);
+              if (Number.isNaN(value)) {
+                _onChange(0);
+              } else {
+                _onChange(value);
+                numberInput.current.value = value;
+              }
+            }
+          },
+          onBlur: function onBlur(e) {
+            if (!e.target.value) {
+              _onChange(0);
+              numberInput.current.value = 0;
+            }
+          },
+          step: step || "1",
+          onMouseDown: handlePossibleResize,
+          type: type || "text",
+          placeholder: placeholder,
+          className: styles$7.input,
+          defaultValue: data,
+          onDragStart: function onDragStart(e) {
+            return e.stopPropagation();
+          },
+          ref: numberInput,
+        })
+      : React__default.createElement("textarea", {
+          "data-flume-component": "text-input-textarea",
+          onChange: function onChange(e) {
+            return _onChange(e.target.value);
+          },
+          onMouseDown: handlePossibleResize,
+          type: "text",
+          placeholder: placeholder,
+          className: styles$7.input,
+          value: data,
+          onDragStart: function onDragStart(e) {
+            return e.stopPropagation();
+          },
+        })
+  );
+};
+
+var css$8 =
+  '.Select_wrapper__eAPoQ{\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  padding-right: 15px;\n  position: relative;\n}\n  .Select_wrapper__eAPoQ::after{\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: 8px;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n  .Select_wrapper__eAPoQ:hover{\n    background: linear-gradient(to top, #63676a, #777b7e);\n  }\n.Select_chipWrapper__3hK2u{\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  margin: 2px;\n  position: relative;\n}\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK{\n  opacity: 1;\n}\n.Select_chipsWrapper__4Alw8{\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 6px;\n}\n.Select_deleteButton__1FnLK{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n  width: 22px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border-radius: 3px;\n  border: none;\n  font-weight: bold;\n  opacity: 0;\n}\n.Select_deleteButton__1FnLK:focus{\n  opacity: 1;\n}\n.Select_deleteButton__1FnLK:hover{\n  background: linear-gradient(to top, #64696c, #797f82);\n}\n.Select_selectedWrapper__SUs4D{\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  font-size: 14px;\n  padding: 3px 6px;\n  padding-right: 15px;\n  position: relative;\n}\n.Select_selectedWrapper__SUs4D::after{\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: calc(50% - 4px);\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n.Select_selectedWrapper__SUs4D label{\n    margin: 0px;\n  }\n.Select_selectedWrapper__SUs4D p{\n    margin: 0px;\n    margin-top: 5px;\n    font-size: 12px;\n    font-style: italic;\n    color: rgb(50, 50, 50);\n  }\n';
+var styles$8 = {
+  wrapper: "Select_wrapper__eAPoQ",
+  chipWrapper: "Select_chipWrapper__3hK2u",
+  deleteButton: "Select_deleteButton__1FnLK",
+  chipsWrapper: "Select_chipsWrapper__4Alw8",
+  selectedWrapper: "Select_selectedWrapper__SUs4D",
+};
+styleInject(css$8);
+
+var MAX_LABEL_LENGTH = 50;
+
+var Select = function Select(_ref) {
   var _ref$options = _ref.options,
-      options = _ref$options === undefined ? [] : _ref$options,
-      _ref$placeholder = _ref.placeholder,
-      placeholder = _ref$placeholder === undefined ? "[Select an option]" : _ref$placeholder,
-      onChange = _ref.onChange,
-      data = _ref.data,
-      allowMultiple = _ref.allowMultiple;
+    options = _ref$options === undefined ? [] : _ref$options,
+    _ref$placeholder = _ref.placeholder,
+    placeholder =
+      _ref$placeholder === undefined ? "[Select an option]" : _ref$placeholder,
+    onChange = _ref.onChange,
+    data = _ref.data,
+    allowMultiple = _ref.allowMultiple;
 
   var _React$useState = React__default.useState(false),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      drawerOpen = _React$useState2[0],
-      setDrawerOpen = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    drawerOpen = _React$useState2[0],
+    setDrawerOpen = _React$useState2[1];
 
   var _React$useState3 = React__default.useState({
-    x: 0,
-    y: 0
-  }),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      drawerCoordinates = _React$useState4[0],
-      setDrawerCoordinates = _React$useState4[1];
+      x: 0,
+      y: 0,
+    }),
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    drawerCoordinates = _React$useState4[0],
+    setDrawerCoordinates = _React$useState4[1];
 
   var wrapper = React__default.useRef();
 
@@ -5372,7 +6134,7 @@ var Select = function Select(_ref) {
       var wrapperRect = wrapper.current.getBoundingClientRect();
       setDrawerCoordinates({
         x: wrapperRect.x,
-        y: wrapperRect.y + wrapperRect.height
+        y: wrapperRect.y + wrapperRect.height,
       });
       setDrawerOpen(true);
     }
@@ -5387,69 +6149,93 @@ var Select = function Select(_ref) {
   };
 
   var handleOptionDeleted = function handleOptionDeleted(optionIndex) {
-    onChange([].concat(toConsumableArray(data.slice(0, optionIndex)), toConsumableArray(data.slice(optionIndex + 1))));
+    onChange(
+      [].concat(
+        toConsumableArray(data.slice(0, optionIndex)),
+        toConsumableArray(data.slice(optionIndex + 1))
+      )
+    );
   };
 
   var getFilteredOptions = function getFilteredOptions() {
-    return allowMultiple ? options.filter(function (opt) {
-      return !data.includes(opt.value);
-    }) : options;
+    return allowMultiple
+      ? options.filter(function (opt) {
+          return !data.includes(opt.value);
+        })
+      : options;
   };
 
-  var selectedOption = React__default.useMemo(function () {
-    var option = options.find(function (o) {
-      return o.value === data;
-    });
-    if (option) {
-      return _extends({}, option, {
-        label: option.label.length > MAX_LABEL_LENGTH ? option.label.slice(0, MAX_LABEL_LENGTH) + "..." : option.label
+  var selectedOption = React__default.useMemo(
+    function () {
+      var option = options.find(function (o) {
+        return o.value === data;
       });
-    }
-  }, [options, data]);
+      if (option) {
+        return _extends({}, option, {
+          label:
+            option.label.length > MAX_LABEL_LENGTH
+              ? option.label.slice(0, MAX_LABEL_LENGTH) + "..."
+              : option.label,
+        });
+      }
+    },
+    [options, data]
+  );
 
   return React__default.createElement(
     React__default.Fragment,
     null,
-    allowMultiple ? data.length ? React__default.createElement(
-      "div",
-      { className: styles$8.chipsWrapper },
-      data.map(function (val, i) {
-        var optLabel = (options.find(function (opt) {
-          return opt.value === val;
-        }) || {}).label || "";
-        return React__default.createElement(
-          OptionChip,
-          {
-            onRequestDelete: function onRequestDelete() {
-              return handleOptionDeleted(i);
-            },
-            key: val
-          },
-          optLabel
-        );
-      })
-    ) : null : data ? React__default.createElement(SelectedOption, {
-      wrapperRef: wrapper,
-      option: selectedOption,
-      onClick: openDrawer
-    }) : null,
-    (allowMultiple || !data) && React__default.createElement(
-      "div",
-      { className: styles$8.wrapper, ref: wrapper, onClick: openDrawer },
-      placeholder
-    ),
-    drawerOpen && React__default.createElement(
-      Portal$3,
-      null,
-      React__default.createElement(ContextMenu, {
-        x: drawerCoordinates.x,
-        y: drawerCoordinates.y,
-        emptyText: "There are no options",
-        options: getFilteredOptions(),
-        onOptionSelected: handleOptionSelected,
-        onRequestClose: closeDrawer
-      })
-    )
+    allowMultiple
+      ? data.length
+        ? React__default.createElement(
+            "div",
+            { className: styles$8.chipsWrapper },
+            data.map(function (val, i) {
+              var optLabel =
+                (
+                  options.find(function (opt) {
+                    return opt.value === val;
+                  }) || {}
+                ).label || "";
+              return React__default.createElement(
+                OptionChip,
+                {
+                  onRequestDelete: function onRequestDelete() {
+                    return handleOptionDeleted(i);
+                  },
+                  key: val,
+                },
+                optLabel
+              );
+            })
+          )
+        : null
+      : data
+      ? React__default.createElement(SelectedOption, {
+          wrapperRef: wrapper,
+          option: selectedOption,
+          onClick: openDrawer,
+        })
+      : null,
+    (allowMultiple || !data) &&
+      React__default.createElement(
+        "div",
+        { className: styles$8.wrapper, ref: wrapper, onClick: openDrawer },
+        placeholder
+      ),
+    drawerOpen &&
+      React__default.createElement(
+        Portal$3,
+        null,
+        React__default.createElement(ContextMenu, {
+          x: drawerCoordinates.x,
+          y: drawerCoordinates.y,
+          emptyText: "There are no options",
+          options: getFilteredOptions(),
+          onOptionSelected: handleOptionSelected,
+          onRequestClose: closeDrawer,
+        })
+      )
   );
 };
 
@@ -5457,28 +6243,35 @@ var SelectedOption = function SelectedOption(_ref2) {
   var _ref2$option = _ref2.option;
   _ref2$option = _ref2$option === undefined ? {} : _ref2$option;
   var label = _ref2$option.label,
-      description = _ref2$option.description,
-      wrapperRef = _ref2.wrapperRef,
-      onClick = _ref2.onClick;
+    description = _ref2$option.description,
+    wrapperRef = _ref2.wrapperRef,
+    onClick = _ref2.onClick;
   return React__default.createElement(
     "div",
-    { className: styles$8.selectedWrapper, onClick: onClick, ref: wrapperRef, "data-flume-component": "select" },
+    {
+      className: styles$8.selectedWrapper,
+      onClick: onClick,
+      ref: wrapperRef,
+      "data-flume-component": "select",
+    },
     React__default.createElement(
       "label",
       { "data-flume-component": "select-label" },
       label
     ),
-    description ? React__default.createElement(
-      "p",
-      { "data-flume-component": "select-desc" },
-      description
-    ) : null
+    description
+      ? React__default.createElement(
+          "p",
+          { "data-flume-component": "select-desc" },
+          description
+        )
+      : null
   );
 };
 
 var OptionChip = function OptionChip(_ref3) {
   var children = _ref3.children,
-      onRequestDelete = _ref3.onRequestDelete;
+    onRequestDelete = _ref3.onRequestDelete;
   return React__default.createElement(
     "div",
     { className: styles$8.chipWrapper },
@@ -5490,7 +6283,7 @@ var OptionChip = function OptionChip(_ref3) {
         onMouseDown: function onMouseDown(e) {
           e.stopPropagation();
         },
-        onClick: onRequestDelete
+        onClick: onRequestDelete,
       },
       "\u2715"
     )
@@ -5499,25 +6292,25 @@ var OptionChip = function OptionChip(_ref3) {
 
 var Control = function Control(_ref) {
   var type = _ref.type,
-      name = _ref.name,
-      nodeId = _ref.nodeId,
-      portName = _ref.portName,
-      label = _ref.label,
-      inputLabel = _ref.inputLabel,
-      data = _ref.data,
-      allData = _ref.allData,
-      render = _ref.render,
-      step = _ref.step,
-      _ref$options = _ref.options,
-      options = _ref$options === undefined ? [] : _ref$options,
-      placeholder = _ref.placeholder,
-      inputData = _ref.inputData,
-      triggerRecalculation = _ref.triggerRecalculation,
-      updateNodeConnections = _ref.updateNodeConnections,
-      getOptions = _ref.getOptions,
-      setValue = _ref.setValue,
-      defaultValue = _ref.defaultValue,
-      isMonoControl = _ref.isMonoControl;
+    name = _ref.name,
+    nodeId = _ref.nodeId,
+    portName = _ref.portName,
+    label = _ref.label,
+    inputLabel = _ref.inputLabel,
+    data = _ref.data,
+    allData = _ref.allData,
+    render = _ref.render,
+    step = _ref.step,
+    _ref$options = _ref.options,
+    options = _ref$options === undefined ? [] : _ref$options,
+    placeholder = _ref.placeholder,
+    inputData = _ref.inputData,
+    triggerRecalculation = _ref.triggerRecalculation,
+    updateNodeConnections = _ref.updateNodeConnections,
+    getOptions = _ref.getOptions,
+    setValue = _ref.setValue,
+    defaultValue = _ref.defaultValue,
+    isMonoControl = _ref.isMonoControl;
 
   var nodesDispatch = React__default.useContext(NodeDispatchContext);
   var executionContext = React__default.useContext(ContextContext);
@@ -5531,7 +6324,7 @@ var Control = function Control(_ref) {
       nodeId: nodeId,
       portName: portName,
       controlName: name,
-      setValue: setValue
+      setValue: setValue,
     });
     triggerRecalculation();
   };
@@ -5541,66 +6334,102 @@ var Control = function Control(_ref) {
       triggerRecalculation: triggerRecalculation,
       updateNodeConnections: updateNodeConnections,
       onChange: onChange,
-      data: data
+      data: data,
     };
     switch (type) {
       case "select":
-        return React__default.createElement(Select, _extends({}, commonProps, {
-          options: getOptions ? getOptions(inputData, executionContext) : options,
-          placeholder: placeholder
-        }));
+        return React__default.createElement(
+          Select,
+          _extends({}, commonProps, {
+            options: getOptions
+              ? getOptions(inputData, executionContext)
+              : options,
+            placeholder: placeholder,
+          })
+        );
       case "text":
-        return React__default.createElement(TextInput, _extends({}, commonProps, { placeholder: placeholder }));
+        return React__default.createElement(
+          TextInput,
+          _extends({}, commonProps, { placeholder: placeholder })
+        );
       case "number":
-        return React__default.createElement(TextInput, _extends({}, commonProps, { step: step, type: "number", placeholder: placeholder }));
+        return React__default.createElement(
+          TextInput,
+          _extends({}, commonProps, {
+            step: step,
+            type: "number",
+            placeholder: placeholder,
+          })
+        );
       case "checkbox":
-        return React__default.createElement(Checkbox, _extends({}, commonProps, { label: calculatedLabel }));
+        return React__default.createElement(
+          Checkbox,
+          _extends({}, commonProps, { label: calculatedLabel })
+        );
       case "multiselect":
-        return React__default.createElement(Select, _extends({
-          allowMultiple: true
-        }, commonProps, {
-          options: getOptions ? getOptions(inputData, executionContext) : options,
-          placeholder: placeholder,
-          label: label
-        }));
-      case "custom":
-        return render(data, onChange, executionContext, triggerRecalculation, {
-          label: label,
-          name: name,
-          portName: portName,
-          inputLabel: inputLabel,
-          defaultValue: defaultValue
-        }, allData);
-      default:
         return React__default.createElement(
-          "div",
-          null,
-          "Control"
+          Select,
+          _extends(
+            {
+              allowMultiple: true,
+            },
+            commonProps,
+            {
+              options: getOptions
+                ? getOptions(inputData, executionContext)
+                : options,
+              placeholder: placeholder,
+              label: label,
+            }
+          )
+        );
+      case "custom":
+        return render(
+          data,
+          onChange,
+          executionContext,
+          triggerRecalculation,
+          {
+            label: label,
+            name: name,
+            portName: portName,
+            inputLabel: inputLabel,
+            defaultValue: defaultValue,
+          },
+          allData
         );
+      default:
+        return React__default.createElement("div", null, "Control");
     }
   };
 
   return React__default.createElement(
     "div",
     { className: styles$5.wrapper, "data-flume-component": "control" },
-    calculatedLabel && type !== "checkbox" && type !== "custom" && React__default.createElement(
-      "label",
-      { "data-flume-component": "control-label", className: styles$5.controlLabel },
-      calculatedLabel
-    ),
+    calculatedLabel &&
+      type !== "checkbox" &&
+      type !== "custom" &&
+      React__default.createElement(
+        "label",
+        {
+          "data-flume-component": "control-label",
+          className: styles$5.controlLabel,
+        },
+        calculatedLabel
+      ),
     getControlByType(type)
   );
 };
 
 var Connection = function Connection(_ref) {
   var from = _ref.from,
-      to = _ref.to,
-      id = _ref.id,
-      lineRef = _ref.lineRef,
-      outputNodeId = _ref.outputNodeId,
-      outputPortName = _ref.outputPortName,
-      inputNodeId = _ref.inputNodeId,
-      inputPortName = _ref.inputPortName;
+    to = _ref.to,
+    id = _ref.id,
+    lineRef = _ref.lineRef,
+    outputNodeId = _ref.outputNodeId,
+    outputPortName = _ref.outputPortName,
+    inputNodeId = _ref.inputNodeId,
+    inputPortName = _ref.inputPortName;
 
   var curve = calculateCurve(from, to);
   return React__default.createElement(
@@ -5618,156 +6447,207 @@ var Connection = function Connection(_ref) {
       strokeWidth: 3,
       strokeLinecap: "round",
       d: curve,
-      ref: lineRef
+      ref: lineRef,
     })
   );
 };
 
 var usePrevious$1 = function usePrevious(value) {
   var ref = React__default.useRef();
-  React__default.useEffect(function () {
-    ref.current = value;
-  }, [ref.current]);
+  React__default.useEffect(
+    function () {
+      ref.current = value;
+    },
+    [ref.current]
+  );
   return ref.current;
 };
 
-function useTransputs(transputsFn, transputType, nodeId, inputData, connections) {
+function useTransputs(
+  transputsFn,
+  transputType,
+  nodeId,
+  inputData,
+  connections
+) {
   var nodesDispatch = React__default.useContext(NodeDispatchContext);
   var executionContext = React__default.useContext(ContextContext);
 
-  var transputs = React__default.useMemo(function () {
-    if (Array.isArray(transputsFn)) return transputsFn;
-    return transputsFn(inputData, connections, executionContext);
-  }, [transputsFn, inputData, connections, executionContext]);
+  var transputs = React__default.useMemo(
+    function () {
+      if (Array.isArray(transputsFn)) return transputsFn;
+      return transputsFn(inputData, connections, executionContext);
+    },
+    [transputsFn, inputData, connections, executionContext]
+  );
   var prevTransputs = usePrevious$1(transputs);
 
-  React__default.useEffect(function () {
-    if (!prevTransputs || Array.isArray(transputsFn)) return;
+  React__default.useEffect(
+    function () {
+      if (!prevTransputs || Array.isArray(transputsFn)) return;
 
-    var _loop = function _loop(transput) {
-      var current = transputs.find(function (_ref) {
-        var name = _ref.name;
-        return transput.name === name;
-      });
-      if (!current) {
-        nodesDispatch({
-          type: 'DESTROY_TRANSPUT',
-          transputType: transputType,
-          transput: { nodeId: nodeId, portName: '' + transput.name }
+      var _loop = function _loop(transput) {
+        var current = transputs.find(function (_ref) {
+          var name = _ref.name;
+          return transput.name === name;
         });
-      }
-    };
-
-    var _iteratorNormalCompletion = true;
-    var _didIteratorError = false;
-    var _iteratorError = undefined;
+        if (!current) {
+          nodesDispatch({
+            type: "DESTROY_TRANSPUT",
+            transputType: transputType,
+            transput: { nodeId: nodeId, portName: "" + transput.name },
+          });
+        }
+      };
 
-    try {
-      for (var _iterator = prevTransputs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
-        var transput = _step.value;
+      var _iteratorNormalCompletion = true;
+      var _didIteratorError = false;
+      var _iteratorError = undefined;
 
-        _loop(transput);
-      }
-    } catch (err) {
-      _didIteratorError = true;
-      _iteratorError = err;
-    } finally {
       try {
-        if (!_iteratorNormalCompletion && _iterator.return) {
-          _iterator.return();
+        for (
+          var _iterator = prevTransputs[Symbol.iterator](), _step;
+          !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
+          _iteratorNormalCompletion = true
+        ) {
+          var transput = _step.value;
+
+          _loop(transput);
         }
+      } catch (err) {
+        _didIteratorError = true;
+        _iteratorError = err;
       } finally {
-        if (_didIteratorError) {
-          throw _iteratorError;
+        try {
+          if (!_iteratorNormalCompletion && _iterator.return) {
+            _iterator.return();
+          }
+        } finally {
+          if (_didIteratorError) {
+            throw _iteratorError;
+          }
         }
       }
-    }
-  }, [transputsFn, transputs, prevTransputs, nodesDispatch, nodeId, transputType]);
+    },
+    [transputsFn, transputs, prevTransputs, nodesDispatch, nodeId, transputType]
+  );
 
   return transputs;
 }
 
 var IoPorts = function IoPorts(_ref2) {
   var nodeId = _ref2.nodeId,
-      _ref2$inputs = _ref2.inputs,
-      inputs = _ref2$inputs === undefined ? [] : _ref2$inputs,
-      _ref2$outputs = _ref2.outputs,
-      outputs = _ref2$outputs === undefined ? [] : _ref2$outputs,
-      connections = _ref2.connections,
-      inputData = _ref2.inputData,
-      updateNodeConnections = _ref2.updateNodeConnections;
+    _ref2$inputs = _ref2.inputs,
+    inputs = _ref2$inputs === undefined ? [] : _ref2$inputs,
+    _ref2$outputs = _ref2.outputs,
+    outputs = _ref2$outputs === undefined ? [] : _ref2$outputs,
+    connections = _ref2.connections,
+    inputData = _ref2.inputData,
+    updateNodeConnections = _ref2.updateNodeConnections;
 
   var inputTypes = React__default.useContext(PortTypesContext);
-  var triggerRecalculation = React__default.useContext(ConnectionRecalculateContext);
-  var resolvedInputs = useTransputs(inputs, 'input', nodeId, inputData, connections);
-  var resolvedOutputs = useTransputs(outputs, 'output', nodeId, inputData, connections);
+  var triggerRecalculation = React__default.useContext(
+    ConnectionRecalculateContext
+  );
+  var resolvedInputs = useTransputs(
+    inputs,
+    "input",
+    nodeId,
+    inputData,
+    connections
+  );
+  var resolvedOutputs = useTransputs(
+    outputs,
+    "output",
+    nodeId,
+    inputData,
+    connections
+  );
 
   return React__default.createElement(
     "div",
     { className: styles$4.wrapper, "data-flume-component": "ports" },
-    resolvedInputs.length ? React__default.createElement(
-      "div",
-      { className: styles$4.inputs, "data-flume-component": "ports-inputs" },
-      resolvedInputs.map(function (input) {
-        return React__default.createElement(Input, _extends({}, input, {
-          data: inputData[input.name] || {},
-          isConnected: !!connections.inputs[input.name],
-          triggerRecalculation: triggerRecalculation,
-          updateNodeConnections: updateNodeConnections,
-          inputTypes: inputTypes,
-          nodeId: nodeId,
-          inputData: inputData,
-          key: input.name
-        }));
-      })
-    ) : null,
-    !!resolvedOutputs.length && React__default.createElement(
-      "div",
-      { className: styles$4.outputs, "data-flume-component": "ports-outputs" },
-      resolvedOutputs.map(function (output) {
-        return React__default.createElement(Output, _extends({}, output, {
-          triggerRecalculation: triggerRecalculation,
-          inputTypes: inputTypes,
-          nodeId: nodeId,
-          inputData: inputData,
-          portOnRight: true,
-          key: output.name
-        }));
-      })
-    )
+    resolvedInputs.length
+      ? React__default.createElement(
+          "div",
+          {
+            className: styles$4.inputs,
+            "data-flume-component": "ports-inputs",
+          },
+          resolvedInputs.map(function (input) {
+            return React__default.createElement(
+              Input,
+              _extends({}, input, {
+                data: inputData[input.name] || {},
+                isConnected: !!connections.inputs[input.name],
+                triggerRecalculation: triggerRecalculation,
+                updateNodeConnections: updateNodeConnections,
+                inputTypes: inputTypes,
+                nodeId: nodeId,
+                inputData: inputData,
+                key: input.name,
+              })
+            );
+          })
+        )
+      : null,
+    !!resolvedOutputs.length &&
+      React__default.createElement(
+        "div",
+        {
+          className: styles$4.outputs,
+          "data-flume-component": "ports-outputs",
+        },
+        resolvedOutputs.map(function (output) {
+          return React__default.createElement(
+            Output,
+            _extends({}, output, {
+              triggerRecalculation: triggerRecalculation,
+              inputTypes: inputTypes,
+              nodeId: nodeId,
+              inputData: inputData,
+              portOnRight: true,
+              key: output.name,
+            })
+          );
+        })
+      )
   );
 };
 
 var Input = function Input(_ref3) {
   var type = _ref3.type,
-      label = _ref3.label,
-      name = _ref3.name,
-      nodeId = _ref3.nodeId,
-      data = _ref3.data,
-      localControls = _ref3.controls,
-      inputTypes = _ref3.inputTypes,
-      noControls = _ref3.noControls,
-      triggerRecalculation = _ref3.triggerRecalculation,
-      updateNodeConnections = _ref3.updateNodeConnections,
-      isConnected = _ref3.isConnected,
-      inputData = _ref3.inputData,
-      hidePort = _ref3.hidePort;
+    label = _ref3.label,
+    name = _ref3.name,
+    nodeId = _ref3.nodeId,
+    data = _ref3.data,
+    localControls = _ref3.controls,
+    inputTypes = _ref3.inputTypes,
+    noControls = _ref3.noControls,
+    triggerRecalculation = _ref3.triggerRecalculation,
+    updateNodeConnections = _ref3.updateNodeConnections,
+    isConnected = _ref3.isConnected,
+    inputData = _ref3.inputData,
+    hidePort = _ref3.hidePort;
 
   var _ref4 = inputTypes[type] || {},
-      defaultLabel = _ref4.label,
-      color = _ref4.color,
-      _ref4$controls = _ref4.controls,
-      defaultControls = _ref4$controls === undefined ? [] : _ref4$controls;
+    defaultLabel = _ref4.label,
+    color = _ref4.color,
+    _ref4$controls = _ref4.controls,
+    defaultControls = _ref4$controls === undefined ? [] : _ref4$controls;
 
   var prevConnected = usePrevious$1(isConnected);
 
   var controls = localControls || defaultControls;
 
-  React__default.useEffect(function () {
-    if (isConnected !== prevConnected) {
-      triggerRecalculation();
-    }
-  }, [isConnected, prevConnected, triggerRecalculation]);
+  React__default.useEffect(
+    function () {
+      if (isConnected !== prevConnected) {
+        triggerRecalculation();
+      }
+    },
+    [isConnected, prevConnected, triggerRecalculation]
+  );
 
   return React__default.createElement(
     "div",
@@ -5778,53 +6658,61 @@ var Input = function Input(_ref3) {
       onDragStart: function onDragStart(e) {
         e.preventDefault();
         e.stopPropagation();
-      }
+      },
     },
-    !hidePort ? React__default.createElement(Port, {
-      type: type,
-      color: color,
-      name: name,
-      nodeId: nodeId,
-      isInput: true,
-      triggerRecalculation: triggerRecalculation
-    }) : null,
-    (!controls.length || noControls || isConnected) && React__default.createElement(
-      "label",
-      { "data-flume-component": "port-label", className: styles$4.portLabel },
-      label || defaultLabel
-    ),
-    !noControls && !isConnected ? React__default.createElement(
-      "div",
-      { className: styles$4.controls },
-      controls.map(function (control) {
-        return React__default.createElement(Control, _extends({}, control, {
+    !hidePort
+      ? React__default.createElement(Port, {
+          type: type,
+          color: color,
+          name: name,
           nodeId: nodeId,
-          portName: name,
+          isInput: true,
           triggerRecalculation: triggerRecalculation,
-          updateNodeConnections: updateNodeConnections,
-          inputLabel: label,
-          data: data[control.name],
-          allData: data,
-          key: control.name,
-          inputData: inputData,
-          isMonoControl: controls.length === 1
-        }));
-      })
-    ) : null
+        })
+      : null,
+    (!controls.length || noControls || isConnected) &&
+      React__default.createElement(
+        "label",
+        { "data-flume-component": "port-label", className: styles$4.portLabel },
+        label || defaultLabel
+      ),
+    !noControls && !isConnected
+      ? React__default.createElement(
+          "div",
+          { className: styles$4.controls },
+          controls.map(function (control) {
+            return React__default.createElement(
+              Control,
+              _extends({}, control, {
+                nodeId: nodeId,
+                portName: name,
+                triggerRecalculation: triggerRecalculation,
+                updateNodeConnections: updateNodeConnections,
+                inputLabel: label,
+                data: data[control.name],
+                allData: data,
+                key: control.name,
+                inputData: inputData,
+                isMonoControl: controls.length === 1,
+              })
+            );
+          })
+        )
+      : null
   );
 };
 
 var Output = function Output(_ref5) {
   var label = _ref5.label,
-      name = _ref5.name,
-      nodeId = _ref5.nodeId,
-      type = _ref5.type,
-      inputTypes = _ref5.inputTypes,
-      triggerRecalculation = _ref5.triggerRecalculation;
+    name = _ref5.name,
+    nodeId = _ref5.nodeId,
+    type = _ref5.type,
+    inputTypes = _ref5.inputTypes,
+    triggerRecalculation = _ref5.triggerRecalculation;
 
   var _ref6 = inputTypes[type] || {},
-      defaultLabel = _ref6.label,
-      color = _ref6.color;
+    defaultLabel = _ref6.label,
+    color = _ref6.color;
 
   return React__default.createElement(
     "div",
@@ -5835,7 +6723,7 @@ var Output = function Output(_ref5) {
       onDragStart: function onDragStart(e) {
         e.preventDefault();
         e.stopPropagation();
-      }
+      },
     },
     React__default.createElement(
       "label",
@@ -5847,20 +6735,20 @@ var Output = function Output(_ref5) {
       name: name,
       color: color,
       nodeId: nodeId,
-      triggerRecalculation: triggerRecalculation
+      triggerRecalculation: triggerRecalculation,
     })
   );
 };
 
 var Port = function Port(_ref7) {
   var _ref7$color = _ref7.color,
-      color = _ref7$color === undefined ? "grey" : _ref7$color,
-      _ref7$name = _ref7.name,
-      name = _ref7$name === undefined ? "" : _ref7$name,
-      type = _ref7.type,
-      isInput = _ref7.isInput,
-      nodeId = _ref7.nodeId,
-      triggerRecalculation = _ref7.triggerRecalculation;
+    color = _ref7$color === undefined ? "grey" : _ref7$color,
+    _ref7$name = _ref7.name,
+    name = _ref7$name === undefined ? "" : _ref7$name,
+    type = _ref7.type,
+    isInput = _ref7.isInput,
+    nodeId = _ref7.nodeId,
+    triggerRecalculation = _ref7.triggerRecalculation;
 
   var nodesDispatch = React__default.useContext(NodeDispatchContext);
   var stageState = React__default.useContext(StageContext);
@@ -5869,17 +6757,17 @@ var Port = function Port(_ref7) {
   var inputTypes = React__default.useContext(PortTypesContext);
 
   var _React$useState = React__default.useState(false),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      isDragging = _React$useState2[0],
-      setIsDragging = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    isDragging = _React$useState2[0],
+    setIsDragging = _React$useState2[1];
 
   var _React$useState3 = React__default.useState({
-    x: 0,
-    y: 0
-  }),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      dragStartCoordinates = _React$useState4[0],
-      setDragStartCoordinates = _React$useState4[1];
+      x: 0,
+      y: 0,
+    }),
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    dragStartCoordinates = _React$useState4[0],
+    setDragStartCoordinates = _React$useState4[1];
 
   var dragStartCoordinatesCache = React__default.useRef(dragStartCoordinates);
   var port = React__default.useRef();
@@ -5887,7 +6775,7 @@ var Port = function Port(_ref7) {
   var lineInToPort = React__default.useRef();
 
   var byScale = function byScale(value) {
-    return 1 / stageState.scale * value;
+    return (1 / stageState.scale) * value;
   };
 
   var handleDrag = function handleDrag(e) {
@@ -5895,16 +6783,30 @@ var Port = function Port(_ref7) {
 
     if (isInput) {
       var to = {
-        x: byScale(e.clientX - stage.x - stage.width / 2) + byScale(stageState.translate.x),
-        y: byScale(e.clientY - stage.y - stage.height / 2) + byScale(stageState.translate.y)
+        x:
+          byScale(e.clientX - stage.x - stage.width / 2) +
+          byScale(stageState.translate.x),
+        y:
+          byScale(e.clientY - stage.y - stage.height / 2) +
+          byScale(stageState.translate.y),
       };
-      lineInToPort.current.setAttribute("d", calculateCurve(dragStartCoordinatesCache.current, to));
+      lineInToPort.current.setAttribute(
+        "d",
+        calculateCurve(dragStartCoordinatesCache.current, to)
+      );
     } else {
       var _to = {
-        x: byScale(e.clientX - stage.x - stage.width / 2) + byScale(stageState.translate.x),
-        y: byScale(e.clientY - stage.y - stage.height / 2) + byScale(stageState.translate.y)
+        x:
+          byScale(e.clientX - stage.x - stage.width / 2) +
+          byScale(stageState.translate.x),
+        y:
+          byScale(e.clientY - stage.y - stage.height / 2) +
+          byScale(stageState.translate.y),
       };
-      line.current.setAttribute("d", calculateCurve(dragStartCoordinatesCache.current, _to));
+      line.current.setAttribute(
+        "d",
+        calculateCurve(dragStartCoordinatesCache.current, _to)
+      );
     }
   };
 
@@ -5913,31 +6815,32 @@ var Port = function Port(_ref7) {
 
     if (isInput) {
       var _lineInToPort$current = lineInToPort.current.dataset,
-          inputNodeId = _lineInToPort$current.inputNodeId,
-          inputPortName = _lineInToPort$current.inputPortName,
-          outputNodeId = _lineInToPort$current.outputNodeId,
-          outputPortName = _lineInToPort$current.outputPortName;
+        inputNodeId = _lineInToPort$current.inputNodeId,
+        inputPortName = _lineInToPort$current.inputPortName,
+        outputNodeId = _lineInToPort$current.outputNodeId,
+        outputPortName = _lineInToPort$current.outputPortName;
 
       nodesDispatch({
         type: "REMOVE_CONNECTION",
         input: { nodeId: inputNodeId, portName: inputPortName },
-        output: { nodeId: outputNodeId, portName: outputPortName }
+        output: { nodeId: outputNodeId, portName: outputPortName },
       });
       if (droppedOnPort) {
         var _e$target$dataset = e.target.dataset,
-            connectToPortName = _e$target$dataset.portName,
-            connectToNodeId = _e$target$dataset.nodeId,
-            connectToPortType = _e$target$dataset.portType,
-            connectToTransputType = _e$target$dataset.portTransputType;
+          connectToPortName = _e$target$dataset.portName,
+          connectToNodeId = _e$target$dataset.nodeId,
+          connectToPortType = _e$target$dataset.portType,
+          connectToTransputType = _e$target$dataset.portTransputType;
 
         var isNotSameNode = outputNodeId !== connectToNodeId;
         if (isNotSameNode && connectToTransputType !== "output") {
-          var inputWillAcceptConnection = inputTypes[connectToPortType].acceptTypes.includes(type);
+          var inputWillAcceptConnection =
+            inputTypes[connectToPortType].acceptTypes.includes(type);
           if (inputWillAcceptConnection) {
             nodesDispatch({
               type: "ADD_CONNECTION",
               input: { nodeId: connectToNodeId, portName: connectToPortName },
-              output: { nodeId: outputNodeId, portName: outputPortName }
+              output: { nodeId: outputNodeId, portName: outputPortName },
             });
           }
         }
@@ -5945,19 +6848,20 @@ var Port = function Port(_ref7) {
     } else {
       if (droppedOnPort) {
         var _e$target$dataset2 = e.target.dataset,
-            _inputPortName = _e$target$dataset2.portName,
-            _inputNodeId = _e$target$dataset2.nodeId,
-            inputNodeType = _e$target$dataset2.portType,
-            inputTransputType = _e$target$dataset2.portTransputType;
+          _inputPortName = _e$target$dataset2.portName,
+          _inputNodeId = _e$target$dataset2.nodeId,
+          inputNodeType = _e$target$dataset2.portType,
+          inputTransputType = _e$target$dataset2.portTransputType;
 
         var _isNotSameNode = _inputNodeId !== nodeId;
         if (_isNotSameNode && inputTransputType !== "output") {
-          var _inputWillAcceptConnection = inputTypes[inputNodeType].acceptTypes.includes(type);
+          var _inputWillAcceptConnection =
+            inputTypes[inputNodeType].acceptTypes.includes(type);
           if (_inputWillAcceptConnection) {
             nodesDispatch({
               type: "ADD_CONNECTION",
               output: { nodeId: nodeId, portName: name },
-              input: { nodeId: _inputNodeId, portName: _inputPortName }
+              input: { nodeId: _inputNodeId, portName: _inputPortName },
             });
             triggerRecalculation();
           }
@@ -5976,14 +6880,30 @@ var Port = function Port(_ref7) {
     var stage = document.getElementById(stageId).getBoundingClientRect();
 
     if (isInput) {
-      lineInToPort.current = document.querySelector("[data-input-node-id=\"" + nodeId + "\"][data-input-port-name=\"" + name + "\"]");
+      lineInToPort.current = document.querySelector(
+        '[data-input-node-id="' +
+          nodeId +
+          '"][data-input-port-name="' +
+          name +
+          '"]'
+      );
       var portIsConnected = !!lineInToPort.current;
       if (portIsConnected) {
         lineInToPort.current.parentNode.style.zIndex = 9999;
-        var outputPort = getPortRect(lineInToPort.current.dataset.outputNodeId, lineInToPort.current.dataset.outputPortName, "output");
+        var outputPort = getPortRect(
+          lineInToPort.current.dataset.outputNodeId,
+          lineInToPort.current.dataset.outputPortName,
+          "output"
+        );
         var coordinates = {
-          x: byScale(outputPort.x - stage.x + outputPort.width / 2 - stage.width / 2) + byScale(stageState.translate.x),
-          y: byScale(outputPort.y - stage.y + outputPort.width / 2 - stage.height / 2) + byScale(stageState.translate.y)
+          x:
+            byScale(
+              outputPort.x - stage.x + outputPort.width / 2 - stage.width / 2
+            ) + byScale(stageState.translate.x),
+          y:
+            byScale(
+              outputPort.y - stage.y + outputPort.width / 2 - stage.height / 2
+            ) + byScale(stageState.translate.y),
         };
         setDragStartCoordinates(coordinates);
         dragStartCoordinatesCache.current = coordinates;
@@ -5993,8 +6913,14 @@ var Port = function Port(_ref7) {
       }
     } else {
       var _coordinates = {
-        x: byScale(startPort.x - stage.x + startPort.width / 2 - stage.width / 2) + byScale(stageState.translate.x),
-        y: byScale(startPort.y - stage.y + startPort.width / 2 - stage.height / 2) + byScale(stageState.translate.y)
+        x:
+          byScale(
+            startPort.x - stage.x + startPort.width / 2 - stage.width / 2
+          ) + byScale(stageState.translate.x),
+        y:
+          byScale(
+            startPort.y - stage.y + startPort.width / 2 - stage.height / 2
+          ) + byScale(stageState.translate.y),
       };
       setDragStartCoordinates(_coordinates);
       dragStartCoordinatesCache.current = _coordinates;
@@ -6021,33 +6947,35 @@ var Port = function Port(_ref7) {
         e.preventDefault();
         e.stopPropagation();
       },
-      ref: port
+      ref: port,
     }),
-    isDragging && !isInput ? React__default.createElement(
-      Portal$3,
-      {
-        node: document.getElementById("" + DRAG_CONNECTION_ID + editorId)
-      },
-      React__default.createElement(Connection, {
-        from: dragStartCoordinates,
-        to: dragStartCoordinates,
-        lineRef: line
-      })
-    ) : null
+    isDragging && !isInput
+      ? React__default.createElement(
+          Portal$3,
+          {
+            node: document.getElementById("" + DRAG_CONNECTION_ID + editorId),
+          },
+          React__default.createElement(Connection, {
+            from: dragStartCoordinates,
+            to: dragStartCoordinates,
+            lineRef: line,
+          })
+        )
+      : null
   );
 };
 
 var Node = function Node(_ref) {
   var id = _ref.id,
-      width = _ref.width,
-      x = _ref.x,
-      y = _ref.y,
-      stageRect = _ref.stageRect,
-      connections = _ref.connections,
-      type = _ref.type,
-      inputData = _ref.inputData,
-      onDragStart = _ref.onDragStart,
-      renderNodeHeader = _ref.renderNodeHeader;
+    width = _ref.width,
+    x = _ref.x,
+    y = _ref.y,
+    stageRect = _ref.stageRect,
+    connections = _ref.connections,
+    type = _ref.type,
+    inputData = _ref.inputData,
+    onDragStart = _ref.onDragStart,
+    renderNodeHeader = _ref.renderNodeHeader;
 
   var cache = React__default.useContext(CacheContext);
   var nodeTypes = React__default.useContext(NodeTypesContext);
@@ -6055,41 +6983,51 @@ var Node = function Node(_ref) {
   var stageState = React__default.useContext(StageContext);
   var currentNodeType = nodeTypes[type];
   var label = currentNodeType.label,
-      deletable = currentNodeType.deletable,
-      _currentNodeType$inpu = currentNodeType.inputs,
-      inputs = _currentNodeType$inpu === undefined ? [] : _currentNodeType$inpu,
-      _currentNodeType$outp = currentNodeType.outputs,
-      outputs = _currentNodeType$outp === undefined ? [] : _currentNodeType$outp;
-
+    deletable = currentNodeType.deletable,
+    _currentNodeType$inpu = currentNodeType.inputs,
+    inputs = _currentNodeType$inpu === undefined ? [] : _currentNodeType$inpu,
+    _currentNodeType$outp = currentNodeType.outputs,
+    outputs = _currentNodeType$outp === undefined ? [] : _currentNodeType$outp;
 
   var nodeWrapper = React__default.useRef();
 
   var _React$useState = React__default.useState(false),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      menuOpen = _React$useState2[0],
-      setMenuOpen = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    menuOpen = _React$useState2[0],
+    setMenuOpen = _React$useState2[1];
 
   var _React$useState3 = React__default.useState({ x: 0, y: 0 }),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      menuCoordinates = _React$useState4[0],
-      setMenuCoordinates = _React$useState4[1];
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    menuCoordinates = _React$useState4[0],
+    setMenuCoordinates = _React$useState4[1];
 
   var byScale = function byScale(value) {
-    return 1 / stageState.scale * value;
+    return (1 / stageState.scale) * value;
   };
 
   var updateConnectionsByTransput = function updateConnectionsByTransput() {
-    var transput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
+    var transput =
+      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
     var isOutput = arguments[1];
 
     Object.entries(transput).forEach(function (_ref2) {
       var _ref3 = slicedToArray(_ref2, 2),
-          portName = _ref3[0],
-          outputs = _ref3[1];
+        portName = _ref3[0],
+        outputs = _ref3[1];
 
       outputs.forEach(function (output) {
-        var toRect = getPortRect(id, portName, isOutput ? "output" : "input", cache);
-        var fromRect = getPortRect(output.nodeId, output.portName, isOutput ? "input" : "output", cache);
+        var toRect = getPortRect(
+          id,
+          portName,
+          isOutput ? "output" : "input",
+          cache
+        );
+        var fromRect = getPortRect(
+          output.nodeId,
+          output.portName,
+          isOutput ? "input" : "output",
+          cache
+        );
         var portHalf = fromRect.width / 2;
         var combined = void 0;
         if (isOutput) {
@@ -6102,16 +7040,42 @@ var Node = function Node(_ref) {
         if (cachedConnection) {
           cnx = cachedConnection;
         } else {
-          cnx = document.querySelector("[data-connection-id=\"" + combined + "\"]");
+          cnx = document.querySelector(
+            '[data-connection-id="' + combined + '"]'
+          );
           cache.current.connections[combined] = cnx;
         }
         var from = {
-          x: byScale(toRect.x - stageRect.current.x + portHalf - stageRect.current.width / 2) + byScale(stageState.translate.x),
-          y: byScale(toRect.y - stageRect.current.y + portHalf - stageRect.current.height / 2) + byScale(stageState.translate.y)
+          x:
+            byScale(
+              toRect.x -
+                stageRect.current.x +
+                portHalf -
+                stageRect.current.width / 2
+            ) + byScale(stageState.translate.x),
+          y:
+            byScale(
+              toRect.y -
+                stageRect.current.y +
+                portHalf -
+                stageRect.current.height / 2
+            ) + byScale(stageState.translate.y),
         };
         var to = {
-          x: byScale(fromRect.x - stageRect.current.x + portHalf - stageRect.current.width / 2) + byScale(stageState.translate.x),
-          y: byScale(fromRect.y - stageRect.current.y + portHalf - stageRect.current.height / 2) + byScale(stageState.translate.y)
+          x:
+            byScale(
+              fromRect.x -
+                stageRect.current.x +
+                portHalf -
+                stageRect.current.width / 2
+            ) + byScale(stageState.translate.x),
+          y:
+            byScale(
+              fromRect.y -
+                stageRect.current.y +
+                portHalf -
+                stageRect.current.height / 2
+            ) + byScale(stageState.translate.y),
         };
         cnx.setAttribute("d", calculateCurve(from, to));
       });
@@ -6126,16 +7090,22 @@ var Node = function Node(_ref) {
   };
 
   var stopDrag = function stopDrag(e, coordinates) {
-    nodesDispatch(_extends({
-      type: "SET_NODE_COORDINATES"
-    }, coordinates, {
-      nodeId: id
-    }));
+    nodesDispatch(
+      _extends(
+        {
+          type: "SET_NODE_COORDINATES",
+        },
+        coordinates,
+        {
+          nodeId: id,
+        }
+      )
+    );
   };
 
   var handleDrag = function handleDrag(_ref4) {
     var x = _ref4.x,
-        y = _ref4.y;
+      y = _ref4.y;
 
     nodeWrapper.current.style.transform = "translate(" + x + "px," + y + "px)";
     updateNodeConnections();
@@ -6160,7 +7130,7 @@ var Node = function Node(_ref) {
   var deleteNode = function deleteNode() {
     nodesDispatch({
       type: "REMOVE_NODE",
-      nodeId: id
+      nodeId: id,
     });
   };
 
@@ -6182,7 +7152,7 @@ var Node = function Node(_ref) {
       className: styles$2.wrapper,
       style: {
         width: width,
-        transform: "translate(" + x + "px, " + y + "px)"
+        transform: "translate(" + x + "px, " + y + "px)",
       },
       onDragStart: startDrag,
       onDrag: handleDrag,
@@ -6192,64 +7162,87 @@ var Node = function Node(_ref) {
       "data-flume-component": "node",
       onContextMenu: handleContextMenu,
       stageState: stageState,
-      stageRect: stageRect
+      stageRect: stageRect,
     },
-    renderNodeHeader ? renderNodeHeader(NodeHeader, currentNodeType, {
-      openMenu: handleContextMenu,
-      closeMenu: closeContextMenu,
-      deleteNode: deleteNode
-    }) : React__default.createElement(
-      NodeHeader,
-      null,
-      label
-    ),
+    renderNodeHeader
+      ? renderNodeHeader(NodeHeader, currentNodeType, {
+          openMenu: handleContextMenu,
+          closeMenu: closeContextMenu,
+          deleteNode: deleteNode,
+        })
+      : React__default.createElement(NodeHeader, null, label),
     React__default.createElement(IoPorts, {
       nodeId: id,
       inputs: inputs,
       outputs: outputs,
       connections: connections,
       updateNodeConnections: updateNodeConnections,
-      inputData: inputData
+      inputData: inputData,
     }),
-    menuOpen ? React__default.createElement(
-      Portal$3,
-      null,
-      React__default.createElement(ContextMenu, {
-        x: menuCoordinates.x,
-        y: menuCoordinates.y,
-        options: [].concat(toConsumableArray(deletable !== false ? [{
-          label: "Delete Node",
-          value: "deleteNode",
-          description: "Deletes a node and all of its connections."
-        }] : [])),
-        onRequestClose: closeContextMenu,
-        onOptionSelected: handleMenuOption,
-        hideFilter: true,
-        label: "Node Options",
-        emptyText: "This node has no options."
-      })
-    ) : null
+    menuOpen
+      ? React__default.createElement(
+          Portal$3,
+          null,
+          React__default.createElement(ContextMenu, {
+            x: menuCoordinates.x,
+            y: menuCoordinates.y,
+            options: [].concat(
+              toConsumableArray(
+                deletable !== false
+                  ? [
+                      {
+                        label: "Delete Node",
+                        value: "deleteNode",
+                        description:
+                          "Deletes a node and all of its connections.",
+                      },
+                    ]
+                  : []
+              )
+            ),
+            onRequestClose: closeContextMenu,
+            onOptionSelected: handleMenuOption,
+            hideFilter: true,
+            label: "Node Options",
+            emptyText: "This node has no options.",
+          })
+        )
+      : null
   );
 };
 
 var NodeHeader = function NodeHeader(_ref6) {
   var children = _ref6.children,
-      _ref6$className = _ref6.className,
-      className = _ref6$className === undefined ? "" : _ref6$className,
-      props = objectWithoutProperties(_ref6, ["children", "className"]);
+    _ref6$className = _ref6.className,
+    className = _ref6$className === undefined ? "" : _ref6$className,
+    props = objectWithoutProperties(_ref6, ["children", "className"]);
   return React__default.createElement(
     "h2",
-    _extends({}, props, { className: styles$2.label + (className ? " " + className : ""), "data-flume-component": "node-header" }),
+    _extends({}, props, {
+      className: styles$2.label + (className ? " " + className : ""),
+      "data-flume-component": "node-header",
+    }),
     children
   );
 };
 
-var css$9 = ".Comment_wrapper__1Pnbd {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  padding: 5px;\n  background: rgba(147, 154, 158, 0.7);\n  border-radius: 5px;\n  border-bottom-right-radius: 2px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n  min-width: 80px;\n  font-size: 14px;\n  display: flex;\n  text-shadow: 0px 1px rgba(255,255,255,.1);\n  border: 1px solid rgba(168, 176, 181, 0.7);\n  user-select: none;\n}\n  .Comment_wrapper__1Pnbd[data-color=\"red\"]{\n    background: rgba(213, 84, 103, 0.65);\n    border-color: rgba(227, 85, 119, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color=\"purple\"]{\n    background: rgba(153, 83, 196, 0.65);\n    border-color: rgba(156, 85, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color=\"blue\"]{\n    background: rgba(76, 142, 203, 0.65);\n    border-color: rgba(85, 159, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color=\"green\"]{\n    background: rgba(70, 200, 130, 0.65);\n    border-color: rgba(85, 227, 150, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color=\"yellow\"]{\n    background: rgba(200, 167, 63, 0.65);\n    border-color: rgba(227, 213, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color=\"orange\"]{\n    background: rgba(215, 123, 64, 0.65);\n    border-color: rgba(227, 149, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color=\"pink\"]{\n    background: rgba(255, 102, 208, 0.65);\n    border-color: rgba(242, 131, 228, 0.65);\n  }\n.Comment_text__Ie2nX{\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  white-space: pre-wrap;\n  cursor: default;\n}\n.Comment_resizeThumb__20KWn {\n  width: 10px;\n  height: 10px;\n  border-radius: 4px 0px 4px 0px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  overflow: hidden;\n  cursor: nwse-resize;\n}\n.Comment_resizeThumb__20KWn::before,\n  .Comment_resizeThumb__20KWn::after {\n    content: \"\";\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 250%;\n    height: 0px;\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\n    transform-origin: center right;\n    transform: rotate(-45deg) scale(0.5);\n  }\n.Comment_resizeThumb__20KWn::after {\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\n  }\n.Comment_textarea__2Rze3 {\n  resize: none;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  border-radius: 3px;\n  background: rgba(255,255,255,.1);\n  border: none;\n  outline: none;\n  margin: -2px;\n  margin-top: -1px;\n  padding-top: 0px;\n  font-size: 14px;\n}\n.Comment_textarea__2Rze3::placeholder{\n    color: rgba(0,0,0,.5);\n  }\n";
-var styles$9 = { "wrapper": "Comment_wrapper__1Pnbd", "text": "Comment_text__Ie2nX", "resizeThumb": "Comment_resizeThumb__20KWn", "textarea": "Comment_textarea__2Rze3" };
+var css$9 =
+  '.Comment_wrapper__1Pnbd {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  padding: 5px;\n  background: rgba(147, 154, 158, 0.7);\n  border-radius: 5px;\n  border-bottom-right-radius: 2px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n  min-width: 80px;\n  font-size: 14px;\n  display: flex;\n  text-shadow: 0px 1px rgba(255,255,255,.1);\n  border: 1px solid rgba(168, 176, 181, 0.7);\n  user-select: none;\n}\n  .Comment_wrapper__1Pnbd[data-color="red"]{\n    background: rgba(213, 84, 103, 0.65);\n    border-color: rgba(227, 85, 119, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="purple"]{\n    background: rgba(153, 83, 196, 0.65);\n    border-color: rgba(156, 85, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="blue"]{\n    background: rgba(76, 142, 203, 0.65);\n    border-color: rgba(85, 159, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="green"]{\n    background: rgba(70, 200, 130, 0.65);\n    border-color: rgba(85, 227, 150, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="yellow"]{\n    background: rgba(200, 167, 63, 0.65);\n    border-color: rgba(227, 213, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="orange"]{\n    background: rgba(215, 123, 64, 0.65);\n    border-color: rgba(227, 149, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="pink"]{\n    background: rgba(255, 102, 208, 0.65);\n    border-color: rgba(242, 131, 228, 0.65);\n  }\n.Comment_text__Ie2nX{\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  white-space: pre-wrap;\n  cursor: default;\n}\n.Comment_resizeThumb__20KWn {\n  width: 10px;\n  height: 10px;\n  border-radius: 4px 0px 4px 0px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  overflow: hidden;\n  cursor: nwse-resize;\n}\n.Comment_resizeThumb__20KWn::before,\n  .Comment_resizeThumb__20KWn::after {\n    content: "";\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 250%;\n    height: 0px;\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\n    transform-origin: center right;\n    transform: rotate(-45deg) scale(0.5);\n  }\n.Comment_resizeThumb__20KWn::after {\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\n  }\n.Comment_textarea__2Rze3 {\n  resize: none;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  border-radius: 3px;\n  background: rgba(255,255,255,.1);\n  border: none;\n  outline: none;\n  margin: -2px;\n  margin-top: -1px;\n  padding-top: 0px;\n  font-size: 14px;\n}\n.Comment_textarea__2Rze3::placeholder{\n    color: rgba(0,0,0,.5);\n  }\n';
+var styles$9 = {
+  wrapper: "Comment_wrapper__1Pnbd",
+  text: "Comment_text__Ie2nX",
+  resizeThumb: "Comment_resizeThumb__20KWn",
+  textarea: "Comment_textarea__2Rze3",
+};
 styleInject(css$9);
 
-var css$a = ".ColorPicker_wrapper__1M1j2{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  color: #fff;\n  display: flex;\n  width: 102px;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ColorPicker_wrapper__1M1j2{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ColorPicker_colorButtonWrapper__1ijdj{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2px;\n}\n.ColorPicker_colorButton__1Qcuq{\n  border-radius: 3px;\n  border: none;\n  width: 20px;\n  height: 20px;\n  background: rgba(204, 204, 204, 1);\n}\n.ColorPicker_colorButton__1Qcuq[data-color=\"red\"]{\n    background: rgba(210, 101, 111, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color=\"purple\"]{\n    background: rgba(159, 101, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color=\"blue\"]{\n    background: rgba(101, 151, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color=\"green\"]{\n    background: rgba(101, 210, 168, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color=\"orange\"]{\n    background: rgba(210, 137, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color=\"yellow\"]{\n    background: rgba(210, 196, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color=\"pink\"]{\n    background: rgba(241, 124, 226, 1)\n  }\n.ColorPicker_colorButton__1Qcuq:hover{\n    opacity: .8;\n  }\n";
-var styles$a = { "wrapper": "ColorPicker_wrapper__1M1j2", "colorButtonWrapper": "ColorPicker_colorButtonWrapper__1ijdj", "colorButton": "ColorPicker_colorButton__1Qcuq" };
+var css$a =
+  '.ColorPicker_wrapper__1M1j2{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  color: #fff;\n  display: flex;\n  width: 102px;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ColorPicker_wrapper__1M1j2{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ColorPicker_colorButtonWrapper__1ijdj{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2px;\n}\n.ColorPicker_colorButton__1Qcuq{\n  border-radius: 3px;\n  border: none;\n  width: 20px;\n  height: 20px;\n  background: rgba(204, 204, 204, 1);\n}\n.ColorPicker_colorButton__1Qcuq[data-color="red"]{\n    background: rgba(210, 101, 111, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="purple"]{\n    background: rgba(159, 101, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="blue"]{\n    background: rgba(101, 151, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="green"]{\n    background: rgba(101, 210, 168, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="orange"]{\n    background: rgba(210, 137, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="yellow"]{\n    background: rgba(210, 196, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="pink"]{\n    background: rgba(241, 124, 226, 1)\n  }\n.ColorPicker_colorButton__1Qcuq:hover{\n    opacity: .8;\n  }\n';
+var styles$a = {
+  wrapper: "ColorPicker_wrapper__1M1j2",
+  colorButtonWrapper: "ColorPicker_colorButtonWrapper__1ijdj",
+  colorButton: "ColorPicker_colorButton__1Qcuq",
+};
 styleInject(css$a);
 
 var define = function define(value, defaultValue) {
@@ -6257,19 +7250,28 @@ var define = function define(value, defaultValue) {
 };
 
 var buildControlType = function buildControlType(defaultConfig) {
-  var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
-  var setup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {
-    return {};
-  };
+  var validate =
+    arguments.length > 1 && arguments[1] !== undefined
+      ? arguments[1]
+      : function () {};
+  var setup =
+    arguments.length > 2 && arguments[2] !== undefined
+      ? arguments[2]
+      : function () {
+          return {};
+        };
   return function (config) {
     validate(config);
-    return _extends({
-      type: defaultConfig.type,
-      label: define(config.label, defaultConfig.label || ""),
-      name: define(config.name, defaultConfig.name || ""),
-      defaultValue: define(config.defaultValue, defaultConfig.defaultValue),
-      setValue: define(config.setValue, undefined)
-    }, setup(config));
+    return _extends(
+      {
+        type: defaultConfig.type,
+        label: define(config.label, defaultConfig.label || ""),
+        name: define(config.name, defaultConfig.name || ""),
+        defaultValue: define(config.defaultValue, defaultConfig.defaultValue),
+        setValue: define(config.setValue, undefined),
+      },
+      setup(config)
+    );
   };
 };
 
@@ -6277,56 +7279,72 @@ var Controls = {
   text: buildControlType({
     type: "text",
     name: "text",
-    defaultValue: ""
-  }),
-  select: buildControlType({
-    type: "select",
-    name: "select",
-    options: [],
-    defaultValue: ""
-  }, function () {}, function (config) {
-    return {
-      options: define(config.options, []),
-      getOptions: define(config.getOptions, undefined),
-      placeholder: define(config.placeholder, undefined)
-    };
-  }),
-  number: buildControlType({
-    type: "number",
-    name: "number",
-    defaultValue: 0
-  }, function () {}, function (config) {
-    return {
-      step: define(config.step, undefined)
-    };
+    defaultValue: "",
   }),
+  select: buildControlType(
+    {
+      type: "select",
+      name: "select",
+      options: [],
+      defaultValue: "",
+    },
+    function () {},
+    function (config) {
+      return {
+        options: define(config.options, []),
+        getOptions: define(config.getOptions, undefined),
+        placeholder: define(config.placeholder, undefined),
+      };
+    }
+  ),
+  number: buildControlType(
+    {
+      type: "number",
+      name: "number",
+      defaultValue: 0,
+    },
+    function () {},
+    function (config) {
+      return {
+        step: define(config.step, undefined),
+      };
+    }
+  ),
   checkbox: buildControlType({
     type: "checkbox",
     name: "checkbox",
-    defaultValue: false
-  }),
-  multiselect: buildControlType({
-    type: "multiselect",
-    name: "multiselect",
-    options: [],
-    defaultValue: []
-  }, function () {}, function (config) {
-    return {
-      options: define(config.options, []),
-      getOptions: define(config.getOptions, undefined),
-      placeholder: define(config.placeholder, undefined)
-    };
+    defaultValue: false,
   }),
-  custom: buildControlType({
-    type: "custom",
-    name: "custom",
-    render: function render() {},
-    defaultValue: undefined
-  }, function () {}, function (config) {
-    return {
-      render: define(config.render, function () {})
-    };
-  })
+  multiselect: buildControlType(
+    {
+      type: "multiselect",
+      name: "multiselect",
+      options: [],
+      defaultValue: [],
+    },
+    function () {},
+    function (config) {
+      return {
+        options: define(config.options, []),
+        getOptions: define(config.getOptions, undefined),
+        placeholder: define(config.placeholder, undefined),
+      };
+    }
+  ),
+  custom: buildControlType(
+    {
+      type: "custom",
+      name: "custom",
+      render: function render() {},
+      defaultValue: undefined,
+    },
+    function () {},
+    function (config) {
+      return {
+        render: define(config.render, function () {}),
+      };
+    }
+  ),
 };
 
 var Colors = {
@@ -6337,13 +7355,14 @@ var Colors = {
   purple: "purple",
   blue: "blue",
   green: "green",
-  grey: "grey"
+  grey: "grey",
 };
 
 var getPortBuilders = function getPortBuilders(ports) {
   return Object.values(ports).reduce(function (obj, port) {
     obj[port.type] = function () {
-      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
+      var config =
+        arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
 
       return {
         type: port.type,
@@ -6352,14 +7371,14 @@ var getPortBuilders = function getPortBuilders(ports) {
         noControls: define(config.noControls, false),
         color: config.color || port.color,
         hidePort: define(config.hidePort, port.hidePort),
-        controls: define(config.controls, port.controls)
+        controls: define(config.controls, port.controls),
       };
     };
     return obj;
   }, {});
 };
 
-var FlumeConfig = function () {
+var FlumeConfig = (function () {
   function FlumeConfig(config) {
     classCallCheck(this, FlumeConfig);
 
@@ -6372,216 +7391,297 @@ var FlumeConfig = function () {
     }
   }
 
-  createClass(FlumeConfig, [{
-    key: "addRootNodeType",
-    value: function addRootNodeType(config) {
-      this.addNodeType(_extends({}, config, {
-        root: true,
-        addable: false,
-        deletable: false
-      }));
-      return this;
-    }
-  }, {
-    key: "addNodeType",
-    value: function addNodeType(config) {
-      if ((typeof config === "undefined" ? "undefined" : _typeof(config)) !== "object" && config !== null) {
-        throw new Error("You must provide a configuration object when calling addNodeType.");
-      }
-      if (typeof config.type !== "string") {
-        throw new Error("Required key, \"type\" must be a string when calling addNodeType.");
-      }
-      if (typeof config.initialWidth !== "undefined" && typeof config.initialWidth !== "number") {
-        throw new Error("Optional key, \"initialWidth\" must be a number when calling addNodeType.");
-      }
-      if (this.nodeTypes[config.type] !== undefined) {
-        throw new Error("A node with type \"" + config.type + "\" has already been declared.");
-      }
-      var node = {
-        type: config.type,
-        label: define(config.label, ""),
-        description: define(config.description, ""),
-        addable: define(config.addable, true),
-        deletable: define(config.deletable, true)
-      };
-      if (config.initialWidth) {
-        node.initialWidth = config.initialWidth;
-      }
-      if (config.sortIndex !== undefined) {
-        node.sortIndex = config.sortIndex;
-      }
-      if (typeof config.inputs === "function") {
-        var inputs = config.inputs(getPortBuilders(this.portTypes));
-        if (!Array.isArray(inputs) && typeof config.inputs !== 'function') {
-          throw new Error("When providing a function to the \"inputs\" key, you must return either an array or a function.");
+  createClass(FlumeConfig, [
+    {
+      key: "addRootNodeType",
+      value: function addRootNodeType(config) {
+        this.addNodeType(
+          _extends({}, config, {
+            root: true,
+            addable: false,
+            deletable: false,
+          })
+        );
+        return this;
+      },
+    },
+    {
+      key: "addNodeType",
+      value: function addNodeType(config) {
+        if (
+          (typeof config === "undefined" ? "undefined" : _typeof(config)) !==
+            "object" &&
+          config !== null
+        ) {
+          throw new Error(
+            "You must provide a configuration object when calling addNodeType."
+          );
         }
-        node.inputs = inputs;
-      } else if (config.inputs === undefined) {
-        node.inputs = [];
-      } else if (!Array.isArray(config.inputs)) {
-        throw new Error("Optional key, \"inputs\" must be an array.");
-      } else {
-        node.inputs = config.inputs;
-      }
-
-      if (typeof config.outputs === "function") {
-        var outputs = config.outputs(getPortBuilders(this.portTypes));
-        if (!Array.isArray(outputs) && typeof config.outputs !== 'function') {
-          throw new Error("When providing a function to the \"outputs\" key, you must return either an array or a function.");
+        if (typeof config.type !== "string") {
+          throw new Error(
+            'Required key, "type" must be a string when calling addNodeType.'
+          );
         }
-        node.outputs = outputs;
-      } else if (config.outputs === undefined) {
-        node.outputs = [];
-      } else if (config.outputs !== undefined && !Array.isArray(config.outputs)) {
-        throw new Error("Optional key, \"outputs\" must be an array.");
-      } else {
-        node.outputs = config.outputs;
-      }
-
-      if (config.root !== undefined) {
-        if (typeof config.root !== "boolean") {
-          throw new Error("Optional key, \"root\" must be a boolean.");
+        if (
+          typeof config.initialWidth !== "undefined" &&
+          typeof config.initialWidth !== "number"
+        ) {
+          throw new Error(
+            'Optional key, "initialWidth" must be a number when calling addNodeType.'
+          );
+        }
+        if (this.nodeTypes[config.type] !== undefined) {
+          throw new Error(
+            'A node with type "' + config.type + '" has already been declared.'
+          );
+        }
+        var node = {
+          type: config.type,
+          label: define(config.label, ""),
+          description: define(config.description, ""),
+          addable: define(config.addable, true),
+          deletable: define(config.deletable, true),
+        };
+        if (config.initialWidth) {
+          node.initialWidth = config.initialWidth;
+        }
+        if (config.sortIndex !== undefined) {
+          node.sortIndex = config.sortIndex;
+        }
+        if (typeof config.inputs === "function") {
+          var inputs = config.inputs(getPortBuilders(this.portTypes));
+          if (!Array.isArray(inputs) && typeof config.inputs !== "function") {
+            throw new Error(
+              'When providing a function to the "inputs" key, you must return either an array or a function.'
+            );
+          }
+          node.inputs = inputs;
+        } else if (config.inputs === undefined) {
+          node.inputs = [];
+        } else if (!Array.isArray(config.inputs)) {
+          throw new Error('Optional key, "inputs" must be an array.');
         } else {
-          node.root = config.root;
+          node.inputs = config.inputs;
         }
-      }
 
-      this.nodeTypes[config.type] = node;
-      return this;
-    }
-  }, {
-    key: "removeNodeType",
-    value: function removeNodeType(type) {
-      if (!this.nodeTypes[type]) {
-        console.error("Non-existent node type \"" + type + "\" cannot be removed.");
-      } else {
-        var _nodeTypes = this.nodeTypes,
+        if (typeof config.outputs === "function") {
+          var outputs = config.outputs(getPortBuilders(this.portTypes));
+          if (!Array.isArray(outputs) && typeof config.outputs !== "function") {
+            throw new Error(
+              'When providing a function to the "outputs" key, you must return either an array or a function.'
+            );
+          }
+          node.outputs = outputs;
+        } else if (config.outputs === undefined) {
+          node.outputs = [];
+        } else if (
+          config.outputs !== undefined &&
+          !Array.isArray(config.outputs)
+        ) {
+          throw new Error('Optional key, "outputs" must be an array.');
+        } else {
+          node.outputs = config.outputs;
+        }
+
+        if (config.root !== undefined) {
+          if (typeof config.root !== "boolean") {
+            throw new Error('Optional key, "root" must be a boolean.');
+          } else {
+            node.root = config.root;
+          }
+        }
+
+        this.nodeTypes[config.type] = node;
+        return this;
+      },
+    },
+    {
+      key: "removeNodeType",
+      value: function removeNodeType(type) {
+        if (!this.nodeTypes[type]) {
+          console.error(
+            'Non-existent node type "' + type + '" cannot be removed.'
+          );
+        } else {
+          var _nodeTypes = this.nodeTypes,
             deleted = _nodeTypes[type],
             nodeTypes = objectWithoutProperties(_nodeTypes, [type]);
 
-        this.nodeTypes = nodeTypes;
-      }
-      return this;
-    }
-  }, {
-    key: "addPortType",
-    value: function addPortType(config) {
-      if ((typeof config === "undefined" ? "undefined" : _typeof(config)) !== "object" && config !== null) {
-        throw new Error("You must provide a configuration object when calling addPortType");
-      }
-      if (typeof config.type !== "string") {
-        throw new Error("Required key, \"type\" must be a string when calling addPortType.");
-      }
-      if (this.portTypes[config.type] !== undefined) {
-        throw new Error("A port with type \"" + config.type + "\" has already been declared.");
-      }
-      if (typeof config.name !== "string") {
-        throw new Error("Required key, \"name\" must be a string when calling addPortType.");
-      }
+          this.nodeTypes = nodeTypes;
+        }
+        return this;
+      },
+    },
+    {
+      key: "addPortType",
+      value: function addPortType(config) {
+        if (
+          (typeof config === "undefined" ? "undefined" : _typeof(config)) !==
+            "object" &&
+          config !== null
+        ) {
+          throw new Error(
+            "You must provide a configuration object when calling addPortType"
+          );
+        }
+        if (typeof config.type !== "string") {
+          throw new Error(
+            'Required key, "type" must be a string when calling addPortType.'
+          );
+        }
+        if (this.portTypes[config.type] !== undefined) {
+          throw new Error(
+            'A port with type "' + config.type + '" has already been declared.'
+          );
+        }
+        if (typeof config.name !== "string") {
+          throw new Error(
+            'Required key, "name" must be a string when calling addPortType.'
+          );
+        }
 
-      var port = {
-        type: config.type,
-        name: config.name,
-        label: define(config.label, ""),
-        color: define(config.color, Colors.grey),
-        hidePort: define(config.hidePort, false)
-      };
+        var port = {
+          type: config.type,
+          name: config.name,
+          label: define(config.label, ""),
+          color: define(config.color, Colors.grey),
+          hidePort: define(config.hidePort, false),
+        };
 
-      if (config.acceptTypes === undefined) {
-        port.acceptTypes = [config.type];
-      } else if (!Array.isArray(config.acceptTypes)) {
-        throw new Error("Optional key, \"acceptTypes\" must be an array.");
-      } else {
-        port.acceptTypes = config.acceptTypes;
-      }
+        if (config.acceptTypes === undefined) {
+          port.acceptTypes = [config.type];
+        } else if (!Array.isArray(config.acceptTypes)) {
+          throw new Error('Optional key, "acceptTypes" must be an array.');
+        } else {
+          port.acceptTypes = config.acceptTypes;
+        }
 
-      if (config.controls === undefined) {
-        port.controls = [];
-      } else if (!Array.isArray(config.controls)) {
-        throw new Error("Optional key, \"controls\" must be an array.");
-      } else {
-        port.controls = config.controls;
-      }
+        if (config.controls === undefined) {
+          port.controls = [];
+        } else if (!Array.isArray(config.controls)) {
+          throw new Error('Optional key, "controls" must be an array.');
+        } else {
+          port.controls = config.controls;
+        }
 
-      this.portTypes[config.type] = port;
-      return this;
-    }
-  }, {
-    key: "removePortType",
-    value: function removePortType(type) {
-      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
+        this.portTypes[config.type] = port;
+        return this;
+      },
+    },
+    {
+      key: "removePortType",
+      value: function removePortType(type) {
+        var _ref =
+            arguments.length > 1 && arguments[1] !== undefined
+              ? arguments[1]
+              : {},
           _ref$skipDynamicNodes = _ref.skipDynamicNodesCheck,
-          skipDynamicNodesCheck = _ref$skipDynamicNodes === undefined ? false : _ref$skipDynamicNodes;
+          skipDynamicNodesCheck =
+            _ref$skipDynamicNodes === undefined ? false : _ref$skipDynamicNodes;
 
-      if (!this.portTypes[type]) {
-        console.error("Non-existent port type \"" + type + "\" cannot be removed.");
-      } else {
-        if (!skipDynamicNodesCheck) {
-          var dynamicNodes = Object.values(this.nodeTypes).filter(function (node) {
-            return typeof node.inputs === 'function' || typeof node.outputs === 'function';
-          });
-          if (dynamicNodes.length) {
-            console.warn("We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.");
+        if (!this.portTypes[type]) {
+          console.error(
+            'Non-existent port type "' + type + '" cannot be removed.'
+          );
+        } else {
+          if (!skipDynamicNodesCheck) {
+            var dynamicNodes = Object.values(this.nodeTypes).filter(function (
+              node
+            ) {
+              return (
+                typeof node.inputs === "function" ||
+                typeof node.outputs === "function"
+              );
+            });
+            if (dynamicNodes.length) {
+              console.warn(
+                "We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument."
+              );
+            }
           }
-        }
-        var affectedNodes = Object.values(this.nodeTypes).filter(function (node) {
-          return Array.isArray(node.inputs) && node.inputs.find(function (p) {
-            return p.type === type;
-          }) || Array.isArray(node.outputs) && node.outputs.find(function (p) {
-            return p.type === type;
+          var affectedNodes = Object.values(this.nodeTypes).filter(function (
+            node
+          ) {
+            return (
+              (Array.isArray(node.inputs) &&
+                node.inputs.find(function (p) {
+                  return p.type === type;
+                })) ||
+              (Array.isArray(node.outputs) &&
+                node.outputs.find(function (p) {
+                  return p.type === type;
+                }))
+            );
           });
-        });
-        if (affectedNodes.length) {
-          throw new Error("Cannot delete port type \"" + type + "\" without first deleting all node types using these ports: [" + affectedNodes.map(function (n) {
-            return "" + n.type;
-          }).join(", ") + "]");
-        } else {
-          var _portTypes = this.portTypes,
+          if (affectedNodes.length) {
+            throw new Error(
+              'Cannot delete port type "' +
+                type +
+                '" without first deleting all node types using these ports: [' +
+                affectedNodes
+                  .map(function (n) {
+                    return "" + n.type;
+                  })
+                  .join(", ") +
+                "]"
+            );
+          } else {
+            var _portTypes = this.portTypes,
               deleted = _portTypes[type],
               portTypes = objectWithoutProperties(_portTypes, [type]);
 
-          this.portTypes = portTypes;
+            this.portTypes = portTypes;
+          }
         }
-      }
-      return this;
-    }
-  }]);
+        return this;
+      },
+    },
+  ]);
   return FlumeConfig;
-}();
+})();
 
-var ColorPicker = (function (_ref) {
+var ColorPicker = function (_ref) {
   var x = _ref.x,
-      y = _ref.y,
-      onColorPicked = _ref.onColorPicked,
-      onRequestClose = _ref.onRequestClose;
+    y = _ref.y,
+    onColorPicked = _ref.onColorPicked,
+    onRequestClose = _ref.onRequestClose;
 
   var wrapper = React__default.useRef();
 
-  var testClickOutside = React__default.useCallback(function (e) {
-    if (wrapper.current && !wrapper.current.contains(e.target)) {
-      onRequestClose();
-      document.removeEventListener("click", testClickOutside);
-      document.removeEventListener("contextmenu", testClickOutside);
-    }
-  }, [wrapper, onRequestClose]);
+  var testClickOutside = React__default.useCallback(
+    function (e) {
+      if (wrapper.current && !wrapper.current.contains(e.target)) {
+        onRequestClose();
+        document.removeEventListener("click", testClickOutside);
+        document.removeEventListener("contextmenu", testClickOutside);
+      }
+    },
+    [wrapper, onRequestClose]
+  );
 
-  var testEscape = React__default.useCallback(function (e) {
-    if (e.keyCode === 27) {
-      onRequestClose();
-      document.removeEventListener("keydown", testEscape);
-    }
-  }, [onRequestClose]);
+  var testEscape = React__default.useCallback(
+    function (e) {
+      if (e.keyCode === 27) {
+        onRequestClose();
+        document.removeEventListener("keydown", testEscape);
+      }
+    },
+    [onRequestClose]
+  );
 
-  React__default.useEffect(function () {
-    document.addEventListener("keydown", testEscape);
-    document.addEventListener("click", testClickOutside);
-    document.addEventListener("contextmenu", testClickOutside);
-    return function () {
-      document.removeEventListener("click", testClickOutside);
-      document.removeEventListener("contextmenu", testClickOutside);
-      document.removeEventListener("keydown", testEscape);
-    };
-  }, [testClickOutside, testEscape]);
+  React__default.useEffect(
+    function () {
+      document.addEventListener("keydown", testEscape);
+      document.addEventListener("click", testClickOutside);
+      document.addEventListener("contextmenu", testClickOutside);
+      return function () {
+        document.removeEventListener("click", testClickOutside);
+        document.removeEventListener("contextmenu", testClickOutside);
+        document.removeEventListener("keydown", testEscape);
+      };
+    },
+    [testClickOutside, testEscape]
+  );
 
   return React__default.createElement(
     "div",
@@ -6591,8 +7691,8 @@ var ColorPicker = (function (_ref) {
       className: styles$a.wrapper,
       style: {
         left: x,
-        top: y
-      }
+        top: y,
+      },
     },
     Object.values(Colors).map(function (color) {
       return React__default.createElement(ColorButton, {
@@ -6601,15 +7701,15 @@ var ColorPicker = (function (_ref) {
           onRequestClose();
         },
         color: color,
-        key: color
+        key: color,
       });
     })
   );
-});
+};
 
 var ColorButton = function ColorButton(_ref2) {
   var color = _ref2.color,
-      onSelected = _ref2.onSelected;
+    onSelected = _ref2.onSelected;
   return React__default.createElement(
     "div",
     { className: styles$a.colorButtonWrapper },
@@ -6618,55 +7718,55 @@ var ColorButton = function ColorButton(_ref2) {
       className: styles$a.colorButton,
       onClick: onSelected,
       "data-color": color,
-      "aria-label": color
+      "aria-label": color,
     })
   );
 };
 
-var Comment = (function (_ref) {
+var Comment = function (_ref) {
   var dispatch = _ref.dispatch,
-      id = _ref.id,
-      x = _ref.x,
-      y = _ref.y,
-      width = _ref.width,
-      height = _ref.height,
-      color = _ref.color,
-      text = _ref.text,
-      stageRect = _ref.stageRect,
-      onDragStart = _ref.onDragStart,
-      isNew = _ref.isNew;
+    id = _ref.id,
+    x = _ref.x,
+    y = _ref.y,
+    width = _ref.width,
+    height = _ref.height,
+    color = _ref.color,
+    text = _ref.text,
+    stageRect = _ref.stageRect,
+    onDragStart = _ref.onDragStart,
+    isNew = _ref.isNew;
 
   var stageState = React__default.useContext(StageContext);
   var wrapper = React__default.useRef();
   var textarea = React__default.useRef();
 
   var _React$useState = React__default.useState(false),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      isEditing = _React$useState2[0],
-      setIsEditing = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    isEditing = _React$useState2[0],
+    setIsEditing = _React$useState2[1];
 
   var _React$useState3 = React__default.useState(false),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      isPickingColor = _React$useState4[0],
-      setIsPickingColor = _React$useState4[1];
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    isPickingColor = _React$useState4[0],
+    setIsPickingColor = _React$useState4[1];
 
   var _React$useState5 = React__default.useState(false),
-      _React$useState6 = slicedToArray(_React$useState5, 2),
-      menuOpen = _React$useState6[0],
-      setMenuOpen = _React$useState6[1];
+    _React$useState6 = slicedToArray(_React$useState5, 2),
+    menuOpen = _React$useState6[0],
+    setMenuOpen = _React$useState6[1];
 
   var _React$useState7 = React__default.useState({ x: 0, y: 0 }),
-      _React$useState8 = slicedToArray(_React$useState7, 2),
-      menuCoordinates = _React$useState8[0],
-      setMenuCoordinates = _React$useState8[1];
+    _React$useState8 = slicedToArray(_React$useState7, 2),
+    menuCoordinates = _React$useState8[0],
+    setMenuCoordinates = _React$useState8[1];
 
   var _React$useState9 = React__default.useState({
-    x: 0,
-    y: 0
-  }),
-      _React$useState10 = slicedToArray(_React$useState9, 2),
-      colorPickerCoordinates = _React$useState10[0],
-      setColorPickerCoordinates = _React$useState10[1];
+      x: 0,
+      y: 0,
+    }),
+    _React$useState10 = slicedToArray(_React$useState9, 2),
+    colorPickerCoordinates = _React$useState10[0],
+    setColorPickerCoordinates = _React$useState10[1];
 
   var handleContextMenu = function handleContextMenu(e) {
     e.preventDefault();
@@ -6686,20 +7786,20 @@ var Comment = (function (_ref) {
 
   var handleDrag = function handleDrag(_ref2) {
     var x = _ref2.x,
-        y = _ref2.y;
+      y = _ref2.y;
 
     wrapper.current.style.transform = "translate(" + x + "px," + y + "px)";
   };
 
   var handleDragEnd = function handleDragEnd(_, _ref3) {
     var x = _ref3.x,
-        y = _ref3.y;
+      y = _ref3.y;
 
     dispatch({
       type: "SET_COMMENT_COORDINATES",
       id: id,
       x: x,
-      y: y
+      y: y,
     });
   };
 
@@ -6717,7 +7817,7 @@ var Comment = (function (_ref) {
       type: "SET_COMMENT_DIMENSIONS",
       id: id,
       width: width,
-      height: height
+      height: height,
     });
   };
 
@@ -6733,7 +7833,7 @@ var Comment = (function (_ref) {
       case "delete":
         dispatch({
           type: "DELETE_COMMENT",
-          id: id
+          id: id,
         });
         break;
       default:
@@ -6752,7 +7852,7 @@ var Comment = (function (_ref) {
     dispatch({
       type: "SET_COMMENT_TEXT",
       id: id,
-      text: e.target.value
+      text: e.target.value,
     });
   };
 
@@ -6760,19 +7860,22 @@ var Comment = (function (_ref) {
     dispatch({
       type: "SET_COMMENT_COLOR",
       id: id,
-      color: color
+      color: color,
     });
   };
 
-  React__default.useEffect(function () {
-    if (isNew) {
-      setIsEditing(true);
-      dispatch({
-        type: "REMOVE_COMMENT_NEW",
-        id: id
-      });
-    }
-  }, [isNew, dispatch, id]);
+  React__default.useEffect(
+    function () {
+      if (isNew) {
+        setIsEditing(true);
+        dispatch({
+          type: "REMOVE_COMMENT_NEW",
+          id: id,
+        });
+      }
+    },
+    [isNew, dispatch, id]
+  );
 
   return React__default.createElement(
     Draggable,
@@ -6783,7 +7886,7 @@ var Comment = (function (_ref) {
         transform: "translate(" + x + "px," + y + "px)",
         width: width,
         height: height,
-        zIndex: isEditing ? 999 : ""
+        zIndex: isEditing ? 999 : "",
       },
       stageState: stageState,
       stageRect: stageRect,
@@ -6796,137 +7899,172 @@ var Comment = (function (_ref) {
         return e.stopPropagation();
       },
       "data-color": color,
-      "data-flume-component": "comment"
+      "data-flume-component": "comment",
     },
-    isEditing ? React__default.createElement("textarea", {
-      "data-flume-component": "comment-textarea",
-      className: styles$9.textarea,
-      onChange: handleTextChange,
-      onMouseDown: function onMouseDown(e) {
-        return e.stopPropagation();
-      },
-      onBlur: endTextEdit,
-      placeholder: "Text of the comment...",
-      autoFocus: true,
-      value: text,
-      ref: textarea
-    }) : React__default.createElement(
-      "div",
-      { "data-flume-component": "comment-text", "data-comment": true, className: styles$9.text },
-      text
-    ),
+    isEditing
+      ? React__default.createElement("textarea", {
+          "data-flume-component": "comment-textarea",
+          className: styles$9.textarea,
+          onChange: handleTextChange,
+          onMouseDown: function onMouseDown(e) {
+            return e.stopPropagation();
+          },
+          onBlur: endTextEdit,
+          placeholder: "Text of the comment...",
+          autoFocus: true,
+          value: text,
+          ref: textarea,
+        })
+      : React__default.createElement(
+          "div",
+          {
+            "data-flume-component": "comment-text",
+            "data-comment": true,
+            className: styles$9.text,
+          },
+          text
+        ),
     React__default.createElement(Draggable, {
       className: styles$9.resizeThumb,
       stageState: stageState,
       stageRect: stageRect,
       onDrag: handleResize,
       onDragEnd: handleResizeEnd,
-      "data-flume-component": "comment-resize-handle"
+      "data-flume-component": "comment-resize-handle",
     }),
-    menuOpen ? React__default.createElement(
-      Portal$3,
-      null,
-      React__default.createElement(ContextMenu, {
-        hideFilter: true,
-        label: "Comment Options",
-        x: menuCoordinates.x,
-        y: menuCoordinates.y,
-        options: [{
-          value: "edit",
-          label: "Edit Comment",
-          description: "Edit the text of the comment"
-        }, {
-          value: "color",
-          label: "Change Color",
-          description: "Change the color of the comment"
-        }, {
-          value: "delete",
-          label: "Delete Comment",
-          description: "Delete the comment"
-        }],
-        onRequestClose: closeContextMenu,
-        onOptionSelected: handleMenuOption
-      })
-    ) : null,
-    isPickingColor ? React__default.createElement(
-      Portal$3,
-      null,
-      React__default.createElement(ColorPicker, {
-        x: colorPickerCoordinates.x,
-        y: colorPickerCoordinates.y,
-        onRequestClose: function onRequestClose() {
-          return setIsPickingColor(false);
-        },
-        onColorPicked: handleColorPicked
-      })
-    ) : null
+    menuOpen
+      ? React__default.createElement(
+          Portal$3,
+          null,
+          React__default.createElement(ContextMenu, {
+            hideFilter: true,
+            label: "Comment Options",
+            x: menuCoordinates.x,
+            y: menuCoordinates.y,
+            options: [
+              {
+                value: "edit",
+                label: "Edit Comment",
+                description: "Edit the text of the comment",
+              },
+              {
+                value: "color",
+                label: "Change Color",
+                description: "Change the color of the comment",
+              },
+              {
+                value: "delete",
+                label: "Delete Comment",
+                description: "Delete the comment",
+              },
+            ],
+            onRequestClose: closeContextMenu,
+            onOptionSelected: handleMenuOption,
+          })
+        )
+      : null,
+    isPickingColor
+      ? React__default.createElement(
+          Portal$3,
+          null,
+          React__default.createElement(ColorPicker, {
+            x: colorPickerCoordinates.x,
+            y: colorPickerCoordinates.y,
+            onRequestClose: function onRequestClose() {
+              return setIsPickingColor(false);
+            },
+            onColorPicked: handleColorPicked,
+          })
+        )
+      : null
   );
-});
+};
 
-var css$b = ".Toaster_toaster__1eC3T{\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 15px;\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\n  pointer-events: none;\n}\n.Toaster_toast__3YHVS{\n  position: absolute;\n  left: calc(50% - 200px);\n  top: 0px;\n  pointer-events: all;\n  width: 400px;\n  padding: 10px;\n  padding-top: 7px;\n  padding-right: 16px;\n  border-radius: 6px;\n  background: rgba(231, 231, 231, 1);\n  border: 1px solid;\n  margin-bottom: 5px;\n  transition: transform 300ms;\n  flex: 0 0 auto;\n  animation: Toaster_fade-in__2526Y 150ms;\n  user-select: none;\n  font-size: 14px;\n  display: flex;\n  flex-direction: column;\n  will-change: transform;\n}\n.Toaster_toast__3YHVS[data-type=\"danger\"]{\n    background: rgb(255, 116, 137);\n    border-color: rgb(254, 99, 136);\n    color: rgb(66, 6, 20);\n  }\n.Toaster_toast__3YHVS[data-type=\"info\"]{\n    background: rgb(76, 193, 250);\n    border-color: rgb(103, 182, 255);\n    color: rgb(5, 36, 64);\n  }\n.Toaster_toast__3YHVS[data-type=\"success\"]{\n    background: rgb(81, 230, 150);\n    border-color: rgb(85, 227, 150);\n    color: rgb(7, 57, 30);\n  }\n.Toaster_toast__3YHVS[data-type=\"warning\"]{\n    background: rgb(245, 208, 93);\n    border-color: rgb(247, 235, 125);\n    color: rgb(83, 75, 8);\n  }\n.Toaster_toast__3YHVS[data-exiting=true]{\n    animation: Toaster_fade-out__2lM6E 150ms;\n    animation-fill-mode: forwards;\n  }\n.Toaster_toast__3YHVS p{\n  margin: 0px;\n}\n.Toaster_title__4InNr{\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.Toaster_timer__3dGzF{\n  position: absolute;\n  bottom: -1px;\n  left: -1px;\n  width: calc(100% + 2px);\n  height: 3px;\n  background: rgba(0,0,0,.4);\n  transform-origin: left center;\n  animation: Toaster_timer__3dGzF 1000ms linear;\n  animation-fill-mode: forwards;\n  z-index: 9;\n}\n.Toaster_exitButton__1S_Ks{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n  background: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  color: inherit;\n  opacity: .6;\n}\n.Toaster_exitButton__1S_Ks:hover{\n  opacity: .9;\n}\n\n@keyframes Toaster_fade-in__2526Y {\n  from{\n    opacity: 0;\n  }\n  to{\n    opacity: 1;\n  }\n}\n\n@keyframes Toaster_fade-out__2lM6E {\n  from{\n    opacity: 1;\n  }\n  to{\n    opacity: 0;\n  }\n}\n\n@keyframes Toaster_timer__3dGzF {\n  from{\n    transform: scaleX(1);\n  }\n  to{\n    transform: scaleX(0);\n  }\n}\n";
-var styles$b = { "toaster": "Toaster_toaster__1eC3T", "toast": "Toaster_toast__3YHVS", "fade-in": "Toaster_fade-in__2526Y", "fade-out": "Toaster_fade-out__2lM6E", "title": "Toaster_title__4InNr", "timer": "Toaster_timer__3dGzF", "exitButton": "Toaster_exitButton__1S_Ks" };
+var css$b =
+  '.Toaster_toaster__1eC3T{\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 15px;\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\n  pointer-events: none;\n}\n.Toaster_toast__3YHVS{\n  position: absolute;\n  left: calc(50% - 200px);\n  top: 0px;\n  pointer-events: all;\n  width: 400px;\n  padding: 10px;\n  padding-top: 7px;\n  padding-right: 16px;\n  border-radius: 6px;\n  background: rgba(231, 231, 231, 1);\n  border: 1px solid;\n  margin-bottom: 5px;\n  transition: transform 300ms;\n  flex: 0 0 auto;\n  animation: Toaster_fade-in__2526Y 150ms;\n  user-select: none;\n  font-size: 14px;\n  display: flex;\n  flex-direction: column;\n  will-change: transform;\n}\n.Toaster_toast__3YHVS[data-type="danger"]{\n    background: rgb(255, 116, 137);\n    border-color: rgb(254, 99, 136);\n    color: rgb(66, 6, 20);\n  }\n.Toaster_toast__3YHVS[data-type="info"]{\n    background: rgb(76, 193, 250);\n    border-color: rgb(103, 182, 255);\n    color: rgb(5, 36, 64);\n  }\n.Toaster_toast__3YHVS[data-type="success"]{\n    background: rgb(81, 230, 150);\n    border-color: rgb(85, 227, 150);\n    color: rgb(7, 57, 30);\n  }\n.Toaster_toast__3YHVS[data-type="warning"]{\n    background: rgb(245, 208, 93);\n    border-color: rgb(247, 235, 125);\n    color: rgb(83, 75, 8);\n  }\n.Toaster_toast__3YHVS[data-exiting=true]{\n    animation: Toaster_fade-out__2lM6E 150ms;\n    animation-fill-mode: forwards;\n  }\n.Toaster_toast__3YHVS p{\n  margin: 0px;\n}\n.Toaster_title__4InNr{\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.Toaster_timer__3dGzF{\n  position: absolute;\n  bottom: -1px;\n  left: -1px;\n  width: calc(100% + 2px);\n  height: 3px;\n  background: rgba(0,0,0,.4);\n  transform-origin: left center;\n  animation: Toaster_timer__3dGzF 1000ms linear;\n  animation-fill-mode: forwards;\n  z-index: 9;\n}\n.Toaster_exitButton__1S_Ks{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n  background: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  color: inherit;\n  opacity: .6;\n}\n.Toaster_exitButton__1S_Ks:hover{\n  opacity: .9;\n}\n\n@keyframes Toaster_fade-in__2526Y {\n  from{\n    opacity: 0;\n  }\n  to{\n    opacity: 1;\n  }\n}\n\n@keyframes Toaster_fade-out__2lM6E {\n  from{\n    opacity: 1;\n  }\n  to{\n    opacity: 0;\n  }\n}\n\n@keyframes Toaster_timer__3dGzF {\n  from{\n    transform: scaleX(1);\n  }\n  to{\n    transform: scaleX(0);\n  }\n}\n';
+var styles$b = {
+  toaster: "Toaster_toaster__1eC3T",
+  toast: "Toaster_toast__3YHVS",
+  "fade-in": "Toaster_fade-in__2526Y",
+  "fade-out": "Toaster_fade-out__2lM6E",
+  title: "Toaster_title__4InNr",
+  timer: "Toaster_timer__3dGzF",
+  exitButton: "Toaster_exitButton__1S_Ks",
+};
 styleInject(css$b);
 
-var Toaster = (function (_ref) {
+var Toaster = function (_ref) {
   var _ref$toasts = _ref.toasts,
-      toasts = _ref$toasts === undefined ? [] : _ref$toasts,
-      dispatchToasts = _ref.dispatchToasts;
-
-  var setHeight = React__default.useCallback(function (id, height) {
-    dispatchToasts({
-      type: "SET_HEIGHT",
-      id: id,
-      height: height
-    });
-  }, [dispatchToasts]);
+    toasts = _ref$toasts === undefined ? [] : _ref$toasts,
+    dispatchToasts = _ref.dispatchToasts;
+
+  var setHeight = React__default.useCallback(
+    function (id, height) {
+      dispatchToasts({
+        type: "SET_HEIGHT",
+        id: id,
+        height: height,
+      });
+    },
+    [dispatchToasts]
+  );
 
-  var startExit = React__default.useCallback(function (id) {
-    dispatchToasts({
-      type: "SET_EXITING",
-      id: id
-    });
-  }, [dispatchToasts]);
+  var startExit = React__default.useCallback(
+    function (id) {
+      dispatchToasts({
+        type: "SET_EXITING",
+        id: id,
+      });
+    },
+    [dispatchToasts]
+  );
 
-  var removeToast = React__default.useCallback(function (id) {
-    dispatchToasts({
-      type: "REMOVE_TOAST",
-      id: id
-    });
-  }, [dispatchToasts]);
+  var removeToast = React__default.useCallback(
+    function (id) {
+      dispatchToasts({
+        type: "REMOVE_TOAST",
+        id: id,
+      });
+    },
+    [dispatchToasts]
+  );
 
   return React__default.createElement(
     "div",
     { className: styles$b.toaster },
     toasts.map(function (toast, i) {
-      return React__default.createElement(Toast, _extends({}, toast, {
-        onHeightReceived: setHeight,
-        onExitRequested: startExit,
-        onRemoveRequested: removeToast,
-        y: toasts.slice(0, i + 1).reduce(function (y, t) {
-          return t.height + y + 5;
-        }, 0),
-        key: toast.id
-      }));
+      return React__default.createElement(
+        Toast,
+        _extends({}, toast, {
+          onHeightReceived: setHeight,
+          onExitRequested: startExit,
+          onRemoveRequested: removeToast,
+          y: toasts.slice(0, i + 1).reduce(function (y, t) {
+            return t.height + y + 5;
+          }, 0),
+          key: toast.id,
+        })
+      );
     })
   );
-});
+};
 
 var Toast = function Toast(_ref2) {
   var id = _ref2.id,
-      title = _ref2.title,
-      message = _ref2.message,
-      duration = _ref2.duration,
-      type = _ref2.type,
-      exiting = _ref2.exiting,
-      y = _ref2.y,
-      onHeightReceived = _ref2.onHeightReceived,
-      onExitRequested = _ref2.onExitRequested,
-      onRemoveRequested = _ref2.onRemoveRequested;
+    title = _ref2.title,
+    message = _ref2.message,
+    duration = _ref2.duration,
+    type = _ref2.type,
+    exiting = _ref2.exiting,
+    y = _ref2.y,
+    onHeightReceived = _ref2.onHeightReceived,
+    onExitRequested = _ref2.onExitRequested,
+    onRemoveRequested = _ref2.onRemoveRequested;
 
   var _React$useState = React__default.useState(false),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      paused = _React$useState2[0],
-      setPaused = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    paused = _React$useState2[0],
+    setPaused = _React$useState2[1];
 
   var wrapper = React__default.useRef();
   var timer = React__default.useRef();
@@ -6936,24 +8074,33 @@ var Toast = function Toast(_ref2) {
     clearTimeout(timer.current);
   }, []);
 
-  var resumeTimer = React__default.useCallback(function () {
-    setPaused(false);
-    timer.current = setTimeout(function () {
-      return onExitRequested(id);
-    }, duration);
-  }, [id, duration, onExitRequested]);
+  var resumeTimer = React__default.useCallback(
+    function () {
+      setPaused(false);
+      timer.current = setTimeout(function () {
+        return onExitRequested(id);
+      }, duration);
+    },
+    [id, duration, onExitRequested]
+  );
 
-  React__default.useLayoutEffect(function () {
-    var _wrapper$current$getB = wrapper.current.getBoundingClientRect(),
+  React__default.useLayoutEffect(
+    function () {
+      var _wrapper$current$getB = wrapper.current.getBoundingClientRect(),
         height = _wrapper$current$getB.height;
 
-    onHeightReceived(id, height);
-  }, [onHeightReceived, id]);
+      onHeightReceived(id, height);
+    },
+    [onHeightReceived, id]
+  );
 
-  React__default.useEffect(function () {
-    resumeTimer();
-    return stopTimer;
-  }, [resumeTimer, stopTimer]);
+  React__default.useEffect(
+    function () {
+      resumeTimer();
+      return stopTimer;
+    },
+    [resumeTimer, stopTimer]
+  );
 
   var handleAnimationEnd = function handleAnimationEnd() {
     if (exiting) {
@@ -6973,46 +8120,56 @@ var Toast = function Toast(_ref2) {
       onAnimationEnd: handleAnimationEnd,
       onMouseEnter: stopTimer,
       onMouseLeave: resumeTimer,
-      role: "alert"
+      role: "alert",
     },
-    title ? React__default.createElement(
-      "span",
-      { "data-flume-component": "toast-title", className: styles$b.title },
-      title
-    ) : null,
+    title
+      ? React__default.createElement(
+          "span",
+          { "data-flume-component": "toast-title", className: styles$b.title },
+          title
+        )
+      : null,
     React__default.createElement(
       "p",
       { "data-flume-component": "toast-message" },
       message
     ),
-    !paused && React__default.createElement("div", {
-      className: styles$b.timer,
-      style: { animationDuration: duration + "ms" },
-      onAnimationEnd: function onAnimationEnd(e) {
-        return e.stopPropagation();
-      }
-    }),
+    !paused &&
+      React__default.createElement("div", {
+        className: styles$b.timer,
+        style: { animationDuration: duration + "ms" },
+        onAnimationEnd: function onAnimationEnd(e) {
+          return e.stopPropagation();
+        },
+      }),
     React__default.createElement(
       "button",
-      { "data-flume-component": "toast-close", className: styles$b.exitButton, onClick: function onClick() {
+      {
+        "data-flume-component": "toast-close",
+        className: styles$b.exitButton,
+        onClick: function onClick() {
           stopTimer();
           onExitRequested(id);
-        } },
+        },
+      },
       "\u2715"
     )
   );
 };
 
-var css$c = ".Connections_svgWrapper__3mXcU{\n  position: absolute;\n  left: 0px;\n  height: 0px;\n}\n";
-var styles$c = { "svgWrapper": "Connections_svgWrapper__3mXcU" };
+var css$c =
+  ".Connections_svgWrapper__3mXcU{\n  position: absolute;\n  left: 0px;\n  height: 0px;\n}\n";
+var styles$c = { svgWrapper: "Connections_svgWrapper__3mXcU" };
 styleInject(css$c);
 
 var Connections = function Connections(_ref) {
   var nodes = _ref.nodes,
-      editorId = _ref.editorId;
+    editorId = _ref.editorId;
 
-
-  return React__default.createElement('div', { className: styles$c.svgWrapper, id: '' + CONNECTIONS_ID + editorId });
+  return React__default.createElement("div", {
+    className: styles$c.svgWrapper,
+    id: "" + CONNECTIONS_ID + editorId,
+  });
 };
 
 var checkForCircularNodes = function checkForCircularNodes(nodes, startNodeId) {
@@ -7042,21 +8199,67 @@ var checkForCircularNodes = function checkForCircularNodes(nodes, startNodeId) {
 var addConnection = function addConnection(nodes, input, output, portTypes) {
   var _babelHelpers$extends3;
 
-  var newNodes = _extends({}, nodes, (_babelHelpers$extends3 = {}, defineProperty(_babelHelpers$extends3, input.nodeId, _extends({}, nodes[input.nodeId], {
-    connections: _extends({}, nodes[input.nodeId].connections, {
-      inputs: _extends({}, nodes[input.nodeId].connections.inputs, defineProperty({}, input.portName, [].concat(toConsumableArray(nodes[input.nodeId].connections.inputs[input.portName] || []), [{
-        nodeId: output.nodeId,
-        portName: output.portName
-      }])))
-    })
-  })), defineProperty(_babelHelpers$extends3, output.nodeId, _extends({}, nodes[output.nodeId], {
-    connections: _extends({}, nodes[output.nodeId].connections, {
-      outputs: _extends({}, nodes[output.nodeId].connections.outputs, defineProperty({}, output.portName, [].concat(toConsumableArray(nodes[output.nodeId].connections.outputs[output.portName] || []), [{
-        nodeId: input.nodeId,
-        portName: input.portName
-      }])))
-    })
-  })), _babelHelpers$extends3));
+  var newNodes = _extends(
+    {},
+    nodes,
+    ((_babelHelpers$extends3 = {}),
+    defineProperty(
+      _babelHelpers$extends3,
+      input.nodeId,
+      _extends({}, nodes[input.nodeId], {
+        connections: _extends({}, nodes[input.nodeId].connections, {
+          inputs: _extends(
+            {},
+            nodes[input.nodeId].connections.inputs,
+            defineProperty(
+              {},
+              input.portName,
+              [].concat(
+                toConsumableArray(
+                  nodes[input.nodeId].connections.inputs[input.portName] || []
+                ),
+                [
+                  {
+                    nodeId: output.nodeId,
+                    portName: output.portName,
+                  },
+                ]
+              )
+            )
+          ),
+        }),
+      })
+    ),
+    defineProperty(
+      _babelHelpers$extends3,
+      output.nodeId,
+      _extends({}, nodes[output.nodeId], {
+        connections: _extends({}, nodes[output.nodeId].connections, {
+          outputs: _extends(
+            {},
+            nodes[output.nodeId].connections.outputs,
+            defineProperty(
+              {},
+              output.portName,
+              [].concat(
+                toConsumableArray(
+                  nodes[output.nodeId].connections.outputs[output.portName] ||
+                    []
+                ),
+                [
+                  {
+                    nodeId: input.nodeId,
+                    portName: input.portName,
+                  },
+                ]
+              )
+            )
+          ),
+        }),
+      })
+    ),
+    _babelHelpers$extends3)
+  );
   return newNodes;
 };
 
@@ -7065,33 +8268,49 @@ var removeConnection = function removeConnection(nodes, input, output) {
 
   var inputNode = nodes[input.nodeId];
   var _inputNode$connection = inputNode.connections.inputs,
-      removedInputPort = _inputNode$connection[input.portName],
-      newInputNodeConnectionsInputs = objectWithoutProperties(_inputNode$connection, [input.portName]);
+    removedInputPort = _inputNode$connection[input.portName],
+    newInputNodeConnectionsInputs = objectWithoutProperties(
+      _inputNode$connection,
+      [input.portName]
+    );
 
   var newInputNode = _extends({}, inputNode, {
     connections: _extends({}, inputNode.connections, {
-      inputs: newInputNodeConnectionsInputs
-    })
+      inputs: newInputNodeConnectionsInputs,
+    }),
   });
 
   var outputNode = nodes[output.nodeId];
-  var filteredOutputNodes = outputNode.connections.outputs[output.portName].filter(function (cnx) {
+  var filteredOutputNodes = outputNode.connections.outputs[
+    output.portName
+  ].filter(function (cnx) {
     return cnx.nodeId === input.nodeId ? cnx.portName !== input.portName : true;
   });
   var newOutputNode = _extends({}, outputNode, {
     connections: _extends({}, outputNode.connections, {
-      outputs: _extends({}, outputNode.connections.outputs, defineProperty({}, output.portName, filteredOutputNodes))
-    })
+      outputs: _extends(
+        {},
+        outputNode.connections.outputs,
+        defineProperty({}, output.portName, filteredOutputNodes)
+      ),
+    }),
   });
 
-  return _extends({}, nodes, (_babelHelpers$extends5 = {}, defineProperty(_babelHelpers$extends5, input.nodeId, newInputNode), defineProperty(_babelHelpers$extends5, output.nodeId, newOutputNode), _babelHelpers$extends5));
+  return _extends(
+    {},
+    nodes,
+    ((_babelHelpers$extends5 = {}),
+    defineProperty(_babelHelpers$extends5, input.nodeId, newInputNode),
+    defineProperty(_babelHelpers$extends5, output.nodeId, newOutputNode),
+    _babelHelpers$extends5)
+  );
 };
 
 var getFilteredTransputs = function getFilteredTransputs(transputs, nodeId) {
   return Object.entries(transputs).reduce(function (obj, _ref) {
     var _ref2 = slicedToArray(_ref, 2),
-        portName = _ref2[0],
-        transput = _ref2[1];
+      portName = _ref2[0],
+      transput = _ref2[1];
 
     var newTransputs = transput.filter(function (t) {
       return t.nodeId !== nodeId;
@@ -7106,17 +8325,17 @@ var getFilteredTransputs = function getFilteredTransputs(transputs, nodeId) {
 var removeConnections = function removeConnections(connections, nodeId) {
   return {
     inputs: getFilteredTransputs(connections.inputs, nodeId),
-    outputs: getFilteredTransputs(connections.outputs, nodeId)
+    outputs: getFilteredTransputs(connections.outputs, nodeId),
   };
 };
 
 var removeNode = function removeNode(startNodes, nodeId) {
   var deletedNode = startNodes[nodeId],
-      nodes = objectWithoutProperties(startNodes, [nodeId]);
+    nodes = objectWithoutProperties(startNodes, [nodeId]);
 
   nodes = Object.values(nodes).reduce(function (obj, node) {
     obj[node.id] = _extends({}, node, {
-      connections: removeConnections(node.connections, nodeId)
+      connections: removeConnections(node.connections, nodeId),
     });
 
     return obj;
@@ -7125,46 +8344,69 @@ var removeNode = function removeNode(startNodes, nodeId) {
   return nodes;
 };
 
-var reconcileNodes = function reconcileNodes(initialNodes, nodeTypes, portTypes, context) {
+var reconcileNodes = function reconcileNodes(
+  initialNodes,
+  nodeTypes,
+  portTypes,
+  context
+) {
   var nodes = _extends({}, initialNodes);
 
   // Delete extraneous nodes
-  var nodesToDelete = Object.values(nodes).map(function (node) {
-    return !nodeTypes[node.type] ? node.id : undefined;
-  }).filter(function (x) {
-    return x;
-  });
+  var nodesToDelete = Object.values(nodes)
+    .map(function (node) {
+      return !nodeTypes[node.type] ? node.id : undefined;
+    })
+    .filter(function (x) {
+      return x;
+    });
 
   nodesToDelete.forEach(function (nodeId) {
-    nodes = nodesReducer(nodes, {
-      type: "REMOVE_NODE",
-      nodeId: nodeId
-    }, { nodeTypes: nodeTypes, portTypes: portTypes, context: context });
+    nodes = nodesReducer(
+      nodes,
+      {
+        type: "REMOVE_NODE",
+        nodeId: nodeId,
+      },
+      { nodeTypes: nodeTypes, portTypes: portTypes, context: context }
+    );
   });
 
   // Reconcile input data for each node
   var reconciledNodes = Object.values(nodes).reduce(function (nodesObj, node) {
     var nodeType = nodeTypes[node.type];
-    var defaultInputData = getDefaultData({ node: node, nodeType: nodeType, portTypes: portTypes, context: context });
-    var currentInputData = Object.entries(node.inputData).reduce(function (dataObj, _ref3) {
+    var defaultInputData = getDefaultData({
+      node: node,
+      nodeType: nodeType,
+      portTypes: portTypes,
+      context: context,
+    });
+    var currentInputData = Object.entries(node.inputData).reduce(function (
+      dataObj,
+      _ref3
+    ) {
       var _ref4 = slicedToArray(_ref3, 2),
-          key = _ref4[0],
-          data = _ref4[1];
+        key = _ref4[0],
+        data = _ref4[1];
 
       if (defaultInputData[key] !== undefined) {
         dataObj[key] = data;
       }
       return dataObj;
-    }, {});
+    },
+    {});
     var newInputData = _extends({}, defaultInputData, currentInputData);
     nodesObj[node.id] = _extends({}, node, {
-      inputData: newInputData
+      inputData: newInputData,
     });
     return nodesObj;
   }, {});
 
   // Reconcile node attributes for each node
-  reconciledNodes = Object.values(reconciledNodes).reduce(function (nodesObj, node) {
+  reconciledNodes = Object.values(reconciledNodes).reduce(function (
+    nodesObj,
+    node
+  ) {
     var newNode = _extends({}, node);
     var nodeType = nodeTypes[node.type];
     if (nodeType.root !== node.root) {
@@ -7176,48 +8418,70 @@ var reconcileNodes = function reconcileNodes(initialNodes, nodeTypes, portTypes,
     }
     nodesObj[node.id] = newNode;
     return nodesObj;
-  }, {});
+  },
+  {});
 
   return reconciledNodes;
 };
 
 var getInitialNodes = function getInitialNodes() {
-  var initialNodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
-  var defaultNodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
+  var initialNodes =
+    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
+  var defaultNodes =
+    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
   var nodeTypes = arguments[2];
   var portTypes = arguments[3];
   var context = arguments[4];
 
-  var reconciledNodes = reconcileNodes(initialNodes, nodeTypes, portTypes, context);
+  var reconciledNodes = reconcileNodes(
+    initialNodes,
+    nodeTypes,
+    portTypes,
+    context
+  );
 
-  return _extends({}, reconciledNodes, defaultNodes.reduce(function (nodes, dNode, i) {
-    var nodeNotAdded = !Object.values(initialNodes).find(function (n) {
-      return n.type === dNode.type;
-    });
-    if (nodeNotAdded) {
-      nodes = nodesReducer(nodes, {
-        type: "ADD_NODE",
-        id: "default-" + i,
-        defaultNode: true,
-        x: dNode.x || 0,
-        y: dNode.y || 0,
-        nodeType: dNode.type
-      }, { nodeTypes: nodeTypes, portTypes: portTypes, context: context });
-    }
-    return nodes;
-  }, {}));
+  return _extends(
+    {},
+    reconciledNodes,
+    defaultNodes.reduce(function (nodes, dNode, i) {
+      var nodeNotAdded = !Object.values(initialNodes).find(function (n) {
+        return n.type === dNode.type;
+      });
+      if (nodeNotAdded) {
+        nodes = nodesReducer(
+          nodes,
+          {
+            type: "ADD_NODE",
+            id: "default-" + i,
+            defaultNode: true,
+            x: dNode.x || 0,
+            y: dNode.y || 0,
+            nodeType: dNode.type,
+          },
+          { nodeTypes: nodeTypes, portTypes: portTypes, context: context }
+        );
+      }
+      return nodes;
+    }, {})
+  );
 };
 
 var getDefaultData = function getDefaultData(_ref5) {
   var node = _ref5.node,
-      nodeType = _ref5.nodeType,
-      portTypes = _ref5.portTypes,
-      context = _ref5.context;
+    nodeType = _ref5.nodeType,
+    portTypes = _ref5.portTypes,
+    context = _ref5.context;
 
-  var inputs = Array.isArray(nodeType.inputs) ? nodeType.inputs : nodeType.inputs(node.inputData, node.connections, context);
+  var inputs = Array.isArray(nodeType.inputs)
+    ? nodeType.inputs
+    : nodeType.inputs(node.inputData, node.connections, context);
   return inputs.reduce(function (obj, input) {
     var inputType = portTypes[input.type];
-    obj[input.name || inputType.name] = (input.controls || inputType.controls || []).reduce(function (obj2, control) {
+    obj[input.name || inputType.name] = (
+      input.controls ||
+      inputType.controls ||
+      []
+    ).reduce(function (obj2, control) {
       obj2[control.name] = control.defaultValue;
       return obj2;
     }, {});
@@ -7226,305 +8490,359 @@ var getDefaultData = function getDefaultData(_ref5) {
 };
 
 var nodesReducer = function nodesReducer(nodes) {
-  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
+  var action =
+    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
   var _ref6 = arguments[2];
   var nodeTypes = _ref6.nodeTypes,
-      portTypes = _ref6.portTypes,
-      cache = _ref6.cache,
-      circularBehavior = _ref6.circularBehavior,
-      context = _ref6.context;
+    portTypes = _ref6.portTypes,
+    cache = _ref6.cache,
+    circularBehavior = _ref6.circularBehavior,
+    context = _ref6.context;
   var dispatchToasts = arguments[3];
 
   switch (action.type) {
-    case "ADD_CONNECTION":
-      {
-        var input = action.input,
-            output = action.output;
-
-        var inputIsNotConnected = !nodes[input.nodeId].connections.inputs[input.portName];
-        if (inputIsNotConnected) {
-          var allowCircular = circularBehavior === "warn" || circularBehavior === "allow";
-          var newNodes = addConnection(nodes, input, output, portTypes);
-          var isCircular = checkForCircularNodes(newNodes, output.nodeId);
-          if (isCircular && !allowCircular) {
+    case "ADD_CONNECTION": {
+      var input = action.input,
+        output = action.output;
+
+      var inputIsNotConnected =
+        !nodes[input.nodeId].connections.inputs[input.portName];
+      if (inputIsNotConnected) {
+        var allowCircular =
+          circularBehavior === "warn" || circularBehavior === "allow";
+        var newNodes = addConnection(nodes, input, output, portTypes);
+        var isCircular = checkForCircularNodes(newNodes, output.nodeId);
+        if (isCircular && !allowCircular) {
+          dispatchToasts({
+            type: "ADD_TOAST",
+            title: "Unable to connect",
+            message: "Connecting these nodes would result in an infinite loop.",
+            toastType: "warning",
+            duration: 5000,
+          });
+          return nodes;
+        } else {
+          if (isCircular && circularBehavior === "warn") {
             dispatchToasts({
               type: "ADD_TOAST",
-              title: "Unable to connect",
-              message: "Connecting these nodes would result in an infinite loop.",
+              title: "Circular Connection Detected",
+              message: "Connecting these nodes has created an infinite loop.",
               toastType: "warning",
-              duration: 5000
+              duration: 5000,
             });
-            return nodes;
-          } else {
-            if (isCircular && circularBehavior === "warn") {
-              dispatchToasts({
-                type: "ADD_TOAST",
-                title: "Circular Connection Detected",
-                message: "Connecting these nodes has created an infinite loop.",
-                toastType: "warning",
-                duration: 5000
-              });
-            }
-            return newNodes;
           }
-        } else return nodes;
-      }
+          return newNodes;
+        }
+      } else return nodes;
+    }
 
-    case "REMOVE_CONNECTION":
-      {
-        var _input = action.input,
-            _output = action.output;
+    case "REMOVE_CONNECTION": {
+      var _input = action.input,
+        _output = action.output;
 
-        var id = _output.nodeId + _output.portName + _input.nodeId + _input.portName;
+      var id =
+        _output.nodeId + _output.portName + _input.nodeId + _input.portName;
+      delete cache.current.connections[id];
+      deleteConnection({ id: id });
+      return removeConnection(nodes, _input, _output);
+    }
+
+    case "DESTROY_TRANSPUT": {
+      var transput = action.transput,
+        transputType = action.transputType;
+
+      var portId = transput.nodeId + transput.portName + transputType;
+      delete cache.current.ports[portId];
+
+      var cnxType = transputType === "input" ? "inputs" : "outputs";
+      var connections =
+        nodes[transput.nodeId].connections[cnxType][transput.portName];
+      if (!connections || !connections.length) return nodes;
+
+      return connections.reduce(function (nodes, cnx) {
+        var _ref7 =
+            transputType === "input" ? [transput, cnx] : [cnx, transput],
+          _ref8 = slicedToArray(_ref7, 2),
+          input = _ref8[0],
+          output = _ref8[1];
+
+        var id =
+          output.nodeId + output.portName + input.nodeId + input.portName;
         delete cache.current.connections[id];
         deleteConnection({ id: id });
-        return removeConnection(nodes, _input, _output);
-      }
+        return removeConnection(nodes, input, output);
+      }, nodes);
+    }
 
-    case "DESTROY_TRANSPUT":
-      {
-        var transput = action.transput,
-            transputType = action.transputType;
-
-        var portId = transput.nodeId + transput.portName + transputType;
-        delete cache.current.ports[portId];
-
-        var cnxType = transputType === 'input' ? 'inputs' : 'outputs';
-        var connections = nodes[transput.nodeId].connections[cnxType][transput.portName];
-        if (!connections || !connections.length) return nodes;
-
-        return connections.reduce(function (nodes, cnx) {
-          var _ref7 = transputType === 'input' ? [transput, cnx] : [cnx, transput],
-              _ref8 = slicedToArray(_ref7, 2),
-              input = _ref8[0],
-              output = _ref8[1];
-
-          var id = output.nodeId + output.portName + input.nodeId + input.portName;
-          delete cache.current.connections[id];
-          deleteConnection({ id: id });
-          return removeConnection(nodes, input, output);
-        }, nodes);
-      }
+    case "ADD_NODE": {
+      var x = action.x,
+        y = action.y,
+        nodeType = action.nodeType,
+        _id = action.id,
+        defaultNode = action.defaultNode;
 
-    case "ADD_NODE":
-      {
-        var x = action.x,
-            y = action.y,
-            nodeType = action.nodeType,
-            _id = action.id,
-            defaultNode = action.defaultNode;
-
-        var newNodeId = _id || nanoid(10);
-        var newNode = {
-          id: newNodeId,
-          x: x,
-          y: y,
-          type: nodeType,
-          width: nodeTypes[nodeType].initialWidth || 200,
-          connections: {
-            inputs: {},
-            outputs: {}
-          },
-          inputData: {}
-        };
-        newNode.inputData = getDefaultData({
-          node: newNode,
-          nodeType: nodeTypes[nodeType],
-          portTypes: portTypes,
-          context: context
-        });
-        if (defaultNode) {
-          newNode.defaultNode = true;
-        }
-        if (nodeTypes[nodeType].root) {
-          newNode.root = true;
-        }
-        return _extends({}, nodes, defineProperty({}, newNodeId, newNode));
+      var newNodeId = _id || nanoid(10);
+      var newNode = {
+        id: newNodeId,
+        x: x,
+        y: y,
+        type: nodeType,
+        width: nodeTypes[nodeType].initialWidth || 200,
+        connections: {
+          inputs: {},
+          outputs: {},
+        },
+        inputData: {},
+      };
+      newNode.inputData = getDefaultData({
+        node: newNode,
+        nodeType: nodeTypes[nodeType],
+        portTypes: portTypes,
+        context: context,
+      });
+      if (defaultNode) {
+        newNode.defaultNode = true;
+      }
+      if (nodeTypes[nodeType].root) {
+        newNode.root = true;
       }
+      return _extends({}, nodes, defineProperty({}, newNodeId, newNode));
+    }
 
-    case "REMOVE_NODE":
-      {
-        var nodeId = action.nodeId;
+    case "REMOVE_NODE": {
+      var nodeId = action.nodeId;
 
-        return removeNode(nodes, nodeId);
-      }
+      return removeNode(nodes, nodeId);
+    }
 
-    case "HYDRATE_DEFAULT_NODES":
-      {
-        var _newNodes = _extends({}, nodes);
-        for (var key in _newNodes) {
-          if (_newNodes[key].defaultNode) {
-            var _newNodeId = nanoid(10);
-            var _newNodes$key = _newNodes[key],
-                _id2 = _newNodes$key.id,
-                _defaultNode = _newNodes$key.defaultNode,
-                node = objectWithoutProperties(_newNodes$key, ["id", "defaultNode"]);
-
-            _newNodes[_newNodeId] = _extends({}, node, { id: _newNodeId });
-            delete _newNodes[key];
-          }
+    case "HYDRATE_DEFAULT_NODES": {
+      var _newNodes = _extends({}, nodes);
+      for (var key in _newNodes) {
+        if (_newNodes[key].defaultNode) {
+          var _newNodeId = nanoid(10);
+          var _newNodes$key = _newNodes[key],
+            _id2 = _newNodes$key.id,
+            _defaultNode = _newNodes$key.defaultNode,
+            node = objectWithoutProperties(_newNodes$key, [
+              "id",
+              "defaultNode",
+            ]);
+
+          _newNodes[_newNodeId] = _extends({}, node, { id: _newNodeId });
+          delete _newNodes[key];
         }
-        return _newNodes;
       }
+      return _newNodes;
+    }
 
-    case "SET_PORT_DATA":
-      {
-        var _nodeId = action.nodeId,
-            portName = action.portName,
-            controlName = action.controlName,
-            data = action.data,
-            setValue = action.setValue;
-
-        var newData = _extends({}, nodes[_nodeId].inputData, defineProperty({}, portName, _extends({}, nodes[_nodeId].inputData[portName], defineProperty({}, controlName, data))));
-        if (setValue) {
-          newData = setValue(newData, nodes[_nodeId].inputData);
-        }
-        return _extends({}, nodes, defineProperty({}, _nodeId, _extends({}, nodes[_nodeId], {
-          inputData: newData
-        })));
+    case "SET_PORT_DATA": {
+      var _nodeId = action.nodeId,
+        portName = action.portName,
+        controlName = action.controlName,
+        data = action.data,
+        setValue = action.setValue;
+
+      var newData = _extends(
+        {},
+        nodes[_nodeId].inputData,
+        defineProperty(
+          {},
+          portName,
+          _extends(
+            {},
+            nodes[_nodeId].inputData[portName],
+            defineProperty({}, controlName, data)
+          )
+        )
+      );
+      if (setValue) {
+        newData = setValue(newData, nodes[_nodeId].inputData);
       }
+      return _extends(
+        {},
+        nodes,
+        defineProperty(
+          {},
+          _nodeId,
+          _extends({}, nodes[_nodeId], {
+            inputData: newData,
+          })
+        )
+      );
+    }
 
-    case "SET_NODE_COORDINATES":
-      {
-        var _x4 = action.x,
-            _y = action.y,
-            _nodeId2 = action.nodeId;
-
-        return _extends({}, nodes, defineProperty({}, _nodeId2, _extends({}, nodes[_nodeId2], {
-          x: _x4,
-          y: _y
-        })));
-      }
+    case "SET_NODE_COORDINATES": {
+      var _x4 = action.x,
+        _y = action.y,
+        _nodeId2 = action.nodeId;
+
+      return _extends(
+        {},
+        nodes,
+        defineProperty(
+          {},
+          _nodeId2,
+          _extends({}, nodes[_nodeId2], {
+            x: _x4,
+            y: _y,
+          })
+        )
+      );
+    }
 
     default:
       return nodes;
   }
 };
 
-var connectNodesReducer = function connectNodesReducer(reducer, environment, dispatchToasts) {
+var connectNodesReducer = function connectNodesReducer(
+  reducer,
+  environment,
+  dispatchToasts
+) {
   return function (state, action) {
     return reducer(state, action, environment, dispatchToasts);
   };
 };
 
 var setComment = function setComment(comments, id, merge) {
-  return _extends({}, comments, defineProperty({}, id, _extends({}, comments[id], merge)));
+  return _extends(
+    {},
+    comments,
+    defineProperty({}, id, _extends({}, comments[id], merge))
+  );
 };
 
-var commentsReducer = (function () {
-  var comments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
+var commentsReducer = function () {
+  var comments =
+    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
   var action = arguments[1];
 
   switch (action.type) {
-    case "ADD_COMMENT":
-      {
-        var _comment = {
-          id: nanoid(10),
-          text: "",
-          x: action.x,
-          y: action.y,
-          width: 200,
-          height: 30,
-          color: "blue",
-          isNew: true
-        };
-        return _extends({}, comments, defineProperty({}, _comment.id, _comment));
-      }
+    case "ADD_COMMENT": {
+      var _comment = {
+        id: nanoid(10),
+        text: "",
+        x: action.x,
+        y: action.y,
+        width: 200,
+        height: 30,
+        color: "blue",
+        isNew: true,
+      };
+      return _extends({}, comments, defineProperty({}, _comment.id, _comment));
+    }
     case "REMOVE_COMMENT_NEW":
       var _comments$action$id = comments[action.id],
-          toDelete = _comments$action$id.isNew,
-          comment = objectWithoutProperties(_comments$action$id, ["isNew"]);
+        toDelete = _comments$action$id.isNew,
+        comment = objectWithoutProperties(_comments$action$id, ["isNew"]);
 
       return _extends({}, comments, defineProperty({}, action.id, comment));
-    case "SET_COMMENT_COORDINATES":
-      {
-        return setComment(comments, action.id, { x: action.x, y: action.y });
-      }
-    case "SET_COMMENT_DIMENSIONS":
-      {
-        return setComment(comments, action.id, {
-          width: action.width,
-          height: action.height
-        });
-      }
-    case "SET_COMMENT_TEXT":
-      {
-        return setComment(comments, action.id, { text: action.text });
-      }
-    case "SET_COMMENT_COLOR":
-      {
-        return setComment(comments, action.id, { color: action.color });
-      }
-    case "DELETE_COMMENT":
-      {
-        var _toDelete = comments[action.id],
-            newComments = objectWithoutProperties(comments, [action.id]);
+    case "SET_COMMENT_COORDINATES": {
+      return setComment(comments, action.id, { x: action.x, y: action.y });
+    }
+    case "SET_COMMENT_DIMENSIONS": {
+      return setComment(comments, action.id, {
+        width: action.width,
+        height: action.height,
+      });
+    }
+    case "SET_COMMENT_TEXT": {
+      return setComment(comments, action.id, { text: action.text });
+    }
+    case "SET_COMMENT_COLOR": {
+      return setComment(comments, action.id, { color: action.color });
+    }
+    case "DELETE_COMMENT": {
+      var _toDelete = comments[action.id],
+        newComments = objectWithoutProperties(comments, [action.id]);
 
-        return newComments;
-      }
+      return newComments;
+    }
     default:
       return comments;
   }
-});
+};
 
-var toastsReducer = (function () {
-  var toasts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
+var toastsReducer = function () {
+  var toasts =
+    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
   var action = arguments[1];
 
   switch (action.type) {
     case "ADD_TOAST":
-      return [{
-        id: nanoid(5),
-        title: action.title,
-        message: action.message,
-        type: action.toastType || 'info',
-        duration: action.duration || 10000,
-        height: 0,
-        exiting: false
-      }].concat(toConsumableArray(toasts));
-    case "SET_HEIGHT":
-      {
-        var index = toasts.findIndex(function (t) {
-          return t.id === action.id;
-        });
-        return [].concat(toConsumableArray(toasts.slice(0, index)), [_extends({}, toasts[index], {
-          height: action.height
-        })], toConsumableArray(toasts.slice(index + 1)));
-      }
-    case "SET_EXITING":
-      {
-        var _index = toasts.findIndex(function (t) {
-          return t.id === action.id;
-        });
-        return [].concat(toConsumableArray(toasts.slice(0, _index)), [_extends({}, toasts[_index], {
-          exiting: true
-        })], toConsumableArray(toasts.slice(_index + 1)));
-      }
-    case "REMOVE_TOAST":
-      {
-        var _index2 = toasts.findIndex(function (t) {
-          return t.id === action.id;
-        });
-        return [].concat(toConsumableArray(toasts.slice(0, _index2)), toConsumableArray(toasts.slice(_index2 + 1)));
-      }
+      return [
+        {
+          id: nanoid(5),
+          title: action.title,
+          message: action.message,
+          type: action.toastType || "info",
+          duration: action.duration || 10000,
+          height: 0,
+          exiting: false,
+        },
+      ].concat(toConsumableArray(toasts));
+    case "SET_HEIGHT": {
+      var index = toasts.findIndex(function (t) {
+        return t.id === action.id;
+      });
+      return [].concat(
+        toConsumableArray(toasts.slice(0, index)),
+        [
+          _extends({}, toasts[index], {
+            height: action.height,
+          }),
+        ],
+        toConsumableArray(toasts.slice(index + 1))
+      );
+    }
+    case "SET_EXITING": {
+      var _index = toasts.findIndex(function (t) {
+        return t.id === action.id;
+      });
+      return [].concat(
+        toConsumableArray(toasts.slice(0, _index)),
+        [
+          _extends({}, toasts[_index], {
+            exiting: true,
+          }),
+        ],
+        toConsumableArray(toasts.slice(_index + 1))
+      );
+    }
+    case "REMOVE_TOAST": {
+      var _index2 = toasts.findIndex(function (t) {
+        return t.id === action.id;
+      });
+      return [].concat(
+        toConsumableArray(toasts.slice(0, _index2)),
+        toConsumableArray(toasts.slice(_index2 + 1))
+      );
+    }
     default:
       return toasts;
   }
-});
+};
 
-var stageReducer = (function (state, incomingAction) {
-  var action = typeof incomingAction === 'function' ? incomingAction(state) : incomingAction;
+var stageReducer = function (state, incomingAction) {
+  var action =
+    typeof incomingAction === "function"
+      ? incomingAction(state)
+      : incomingAction;
   switch (action.type) {
-    case 'SET_SCALE':
+    case "SET_SCALE":
       return _extends({}, state, { scale: action.scale });
-    case 'SET_TRANSLATE':
+    case "SET_TRANSLATE":
       return _extends({}, state, { translate: action.translate });
-    case 'SET_TRANSLATE_SCALE':
-      return _extends({}, state, { translate: action.translate, scale: action.scale });
+    case "SET_TRANSLATE_SCALE":
+      return _extends({}, state, {
+        translate: action.translate,
+        scale: action.scale,
+      });
     default:
       return state;
   }
-});
+};
 
 var Cache = function Cache() {
   classCallCheck(this, Cache);
@@ -7533,29 +8851,38 @@ var Cache = function Cache() {
   this.connections = {};
 };
 
-var css$d = ".styles_dragWrapper__1P7RD{\n  z-index: 9999;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n.styles_debugWrapper__2OSbY{\n  display: flex;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  gap: 15px;\n}\n";
-var styles$d = { "dragWrapper": "styles_dragWrapper__1P7RD", "debugWrapper": "styles_debugWrapper__2OSbY" };
+var css$d =
+  ".styles_dragWrapper__1P7RD{\n  z-index: 9999;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n.styles_debugWrapper__2OSbY{\n  display: flex;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  gap: 15px;\n}\n";
+var styles$d = {
+  dragWrapper: "styles_dragWrapper__1P7RD",
+  debugWrapper: "styles_debugWrapper__2OSbY",
+};
 styleInject(css$d);
 
-var LoopError = function (_Error) {
+var LoopError = (function (_Error) {
   inherits(LoopError, _Error);
 
   function LoopError(message, code) {
     classCallCheck(this, LoopError);
 
-    var _this = possibleConstructorReturn(this, (LoopError.__proto__ || Object.getPrototypeOf(LoopError)).call(this, message));
+    var _this = possibleConstructorReturn(
+      this,
+      (LoopError.__proto__ || Object.getPrototypeOf(LoopError)).call(
+        this,
+        message
+      )
+    );
 
     _this.code = code;
     return _this;
   }
 
   return LoopError;
-}(Error);
+})(Error);
 
 LoopError.maxLoopsExceeded = 1;
 
-
-var RootEngine = function () {
+var RootEngine = (function () {
   function RootEngine(config, resolveInputControls, fireNodeFunction) {
     var _this2 = this;
 
@@ -7568,7 +8895,10 @@ var RootEngine = function () {
 
     this.checkLoops = function () {
       if (_this2.maxLoops >= 0 && _this2.loops > _this2.maxLoops) {
-        throw new LoopError("Max loop count exceeded.", LoopError.maxLoopsExceeded);
+        throw new LoopError(
+          "Max loop count exceeded.",
+          LoopError.maxLoopsExceeded
+        );
       } else {
         _this2.loops++;
       }
@@ -7579,7 +8909,9 @@ var RootEngine = function () {
         return n.root;
       });
       if (roots.length > 1) {
-        throw new Error("The root engine must not be called with more than one root node.");
+        throw new Error(
+          "The root engine must not be called with more than one root node."
+        );
       }
       return roots[0];
     };
@@ -7587,8 +8919,8 @@ var RootEngine = function () {
     this.reduceRootInputs = function (inputs, callback) {
       return Object.entries(inputs).reduce(function (obj, _ref) {
         var _ref2 = slicedToArray(_ref, 2),
-            inputName = _ref2[0],
-            connection = _ref2[1];
+          inputName = _ref2[0],
+          connection = _ref2[1];
 
         var input = callback(inputName, connection);
         obj[input.name] = input.value;
@@ -7598,15 +8930,23 @@ var RootEngine = function () {
 
     this.resolveInputValues = function (node, nodeType, nodes, context) {
       var inputs = nodeType.inputs;
-      if (typeof inputs === 'function') {
+      if (typeof inputs === "function") {
         inputs = inputs(node.inputData, node.connections, context);
       }
       return inputs.reduce(function (obj, input) {
         var inputConnections = node.connections.inputs[input.name] || [];
         if (inputConnections.length > 0) {
-          obj[input.name] = _this2.getValueOfConnection(inputConnections[0], nodes, context);
+          obj[input.name] = _this2.getValueOfConnection(
+            inputConnections[0],
+            nodes,
+            context
+          );
         } else {
-          obj[input.name] = _this2.resolveInputControls(input.type, node.inputData[input.name] || {}, context);
+          obj[input.name] = _this2.resolveInputControls(
+            input.type,
+            node.inputData[input.name] || {},
+            context
+          );
         }
         return obj;
       }, {});
@@ -7616,8 +8956,18 @@ var RootEngine = function () {
       _this2.checkLoops();
       var outputNode = nodes[connection.nodeId];
       var outputNodeType = _this2.config.nodeTypes[outputNode.type];
-      var inputValues = _this2.resolveInputValues(outputNode, outputNodeType, nodes, context);
-      var outputResult = _this2.fireNodeFunction(outputNode, inputValues, outputNodeType, context)[connection.portName];
+      var inputValues = _this2.resolveInputValues(
+        outputNode,
+        outputNodeType,
+        nodes,
+        context
+      );
+      var outputResult = _this2.fireNodeFunction(
+        outputNode,
+        inputValues,
+        outputNodeType,
+        context
+      )[connection.portName];
       return outputResult;
     };
 
@@ -7628,145 +8978,209 @@ var RootEngine = function () {
     this.maxLoops = 1000;
   }
 
-  createClass(RootEngine, [{
-    key: "resolveRootNode",
-    value: function resolveRootNode(nodes) {
-      var _this3 = this;
-
-      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
-
-      var rootNode = options.rootNodeId ? nodes[options.rootNodeId] : this.getRootNode(nodes);
-      if (rootNode) {
-        var inputs = this.config.nodeTypes[rootNode.type].inputs;
-        if (typeof inputs === 'function') {
-          inputs = inputs(rootNode.inputData, rootNode.connections, options.context);
-        }
-        var controlValues = inputs.reduce(function (obj, input) {
-          obj[input.name] = _this3.resolveInputControls(input.type, rootNode.inputData[input.name] || {}, options.context);
-          return obj;
-        }, {});
-        var inputValues = this.reduceRootInputs(rootNode.connections.inputs, function (inputName, connection) {
-          _this3.resetLoops(options.maxLoops);
-          var value = void 0;
-          try {
-            value = _this3.getValueOfConnection(connection[0], nodes, options.context);
-          } catch (e) {
-            if (e.code === LoopError.maxLoopsExceeded) {
-              console.error(e.message + " Circular nodes detected in " + inputName + " port.");
-            } else {
-              console.error(e);
+  createClass(RootEngine, [
+    {
+      key: "resolveRootNode",
+      value: function resolveRootNode(nodes) {
+        var _this3 = this;
+
+        var options =
+          arguments.length > 1 && arguments[1] !== undefined
+            ? arguments[1]
+            : {};
+
+        var rootNode = options.rootNodeId
+          ? nodes[options.rootNodeId]
+          : this.getRootNode(nodes);
+        if (rootNode) {
+          var inputs = this.config.nodeTypes[rootNode.type].inputs;
+          if (typeof inputs === "function") {
+            inputs = inputs(
+              rootNode.inputData,
+              rootNode.connections,
+              options.context
+            );
+          }
+          var controlValues = inputs.reduce(function (obj, input) {
+            obj[input.name] = _this3.resolveInputControls(
+              input.type,
+              rootNode.inputData[input.name] || {},
+              options.context
+            );
+            return obj;
+          }, {});
+          var inputValues = this.reduceRootInputs(
+            rootNode.connections.inputs,
+            function (inputName, connection) {
+              _this3.resetLoops(options.maxLoops);
+              var value = void 0;
+              try {
+                value = _this3.getValueOfConnection(
+                  connection[0],
+                  nodes,
+                  options.context
+                );
+              } catch (e) {
+                if (e.code === LoopError.maxLoopsExceeded) {
+                  console.error(
+                    e.message +
+                      " Circular nodes detected in " +
+                      inputName +
+                      " port."
+                  );
+                } else {
+                  console.error(e);
+                }
+              } finally {
+                return {
+                  name: inputName,
+                  value: value,
+                };
+              }
             }
-          } finally {
-            return {
-              name: inputName,
-              value: value
-            };
+          );
+          if (options.onlyResolveConnected) {
+            return inputValues;
+          } else {
+            return _extends({}, controlValues, inputValues);
           }
-        });
-        if (options.onlyResolveConnected) {
-          return inputValues;
         } else {
-          return _extends({}, controlValues, inputValues);
+          console.error(
+            "A root node was not found. The Root Engine requires that exactly one node be marked as the root node."
+          );
+          return {};
         }
-      } else {
-        console.error("A root node was not found. The Root Engine requires that exactly one node be marked as the root node.");
-        return {};
-      }
-    }
-  }]);
+      },
+    },
+  ]);
   return RootEngine;
-}();
+})();
 
 var defaultContext = {};
 
 exports.NodeEditor = function NodeEditor(_ref, ref) {
   var initialComments = _ref.comments,
-      initialNodes = _ref.nodes,
-      _ref$nodeTypes = _ref.nodeTypes,
-      nodeTypes = _ref$nodeTypes === undefined ? {} : _ref$nodeTypes,
-      _ref$portTypes = _ref.portTypes,
-      portTypes = _ref$portTypes === undefined ? {} : _ref$portTypes,
-      _ref$defaultNodes = _ref.defaultNodes,
-      defaultNodes = _ref$defaultNodes === undefined ? [] : _ref$defaultNodes,
-      _ref$context = _ref.context,
-      context = _ref$context === undefined ? defaultContext : _ref$context,
-      onChange = _ref.onChange,
-      onCommentsChange = _ref.onCommentsChange,
-      initialScale = _ref.initialScale,
-      _ref$spaceToPan = _ref.spaceToPan,
-      spaceToPan = _ref$spaceToPan === undefined ? false : _ref$spaceToPan,
-      _ref$hideComments = _ref.hideComments,
-      hideComments = _ref$hideComments === undefined ? false : _ref$hideComments,
-      _ref$disableComments = _ref.disableComments,
-      disableComments = _ref$disableComments === undefined ? false : _ref$disableComments,
-      _ref$disableZoom = _ref.disableZoom,
-      disableZoom = _ref$disableZoom === undefined ? false : _ref$disableZoom,
-      _ref$disablePan = _ref.disablePan,
-      disablePan = _ref$disablePan === undefined ? false : _ref$disablePan,
-      circularBehavior = _ref.circularBehavior,
-      renderNodeHeader = _ref.renderNodeHeader,
-      debug = _ref.debug;
+    initialNodes = _ref.nodes,
+    _ref$nodeTypes = _ref.nodeTypes,
+    nodeTypes = _ref$nodeTypes === undefined ? {} : _ref$nodeTypes,
+    _ref$portTypes = _ref.portTypes,
+    portTypes = _ref$portTypes === undefined ? {} : _ref$portTypes,
+    _ref$defaultNodes = _ref.defaultNodes,
+    defaultNodes = _ref$defaultNodes === undefined ? [] : _ref$defaultNodes,
+    _ref$context = _ref.context,
+    context = _ref$context === undefined ? defaultContext : _ref$context,
+    onChange = _ref.onChange,
+    onCommentsChange = _ref.onCommentsChange,
+    initialScale = _ref.initialScale,
+    _ref$spaceToPan = _ref.spaceToPan,
+    spaceToPan = _ref$spaceToPan === undefined ? false : _ref$spaceToPan,
+    _ref$hideComments = _ref.hideComments,
+    hideComments = _ref$hideComments === undefined ? false : _ref$hideComments,
+    _ref$disableComments = _ref.disableComments,
+    disableComments =
+      _ref$disableComments === undefined ? false : _ref$disableComments,
+    _ref$disableZoom = _ref.disableZoom,
+    disableZoom = _ref$disableZoom === undefined ? false : _ref$disableZoom,
+    _ref$disablePan = _ref.disablePan,
+    disablePan = _ref$disablePan === undefined ? false : _ref$disablePan,
+    circularBehavior = _ref.circularBehavior,
+    renderNodeHeader = _ref.renderNodeHeader,
+    debug = _ref.debug;
 
   var editorId = useId();
   var cache = React__default.useRef(new Cache());
   var stage = React__default.useRef();
 
   var _React$useState = React__default.useState(),
-      _React$useState2 = slicedToArray(_React$useState, 2),
-      sideEffectToasts = _React$useState2[0],
-      setSideEffectToasts = _React$useState2[1];
+    _React$useState2 = slicedToArray(_React$useState, 2),
+    sideEffectToasts = _React$useState2[0],
+    setSideEffectToasts = _React$useState2[1];
 
   var _React$useReducer = React__default.useReducer(toastsReducer, []),
-      _React$useReducer2 = slicedToArray(_React$useReducer, 2),
-      toasts = _React$useReducer2[0],
-      dispatchToasts = _React$useReducer2[1];
+    _React$useReducer2 = slicedToArray(_React$useReducer, 2),
+    toasts = _React$useReducer2[0],
+    dispatchToasts = _React$useReducer2[1];
 
-  var _React$useReducer3 = React__default.useReducer(connectNodesReducer(nodesReducer, { nodeTypes: nodeTypes, portTypes: portTypes, cache: cache, circularBehavior: circularBehavior, context: context }, setSideEffectToasts), {}, function () {
-    return getInitialNodes(initialNodes, defaultNodes, nodeTypes, portTypes, context);
-  }),
-      _React$useReducer4 = slicedToArray(_React$useReducer3, 2),
-      nodes = _React$useReducer4[0],
-      dispatchNodes = _React$useReducer4[1];
+  var _React$useReducer3 = React__default.useReducer(
+      connectNodesReducer(
+        nodesReducer,
+        {
+          nodeTypes: nodeTypes,
+          portTypes: portTypes,
+          cache: cache,
+          circularBehavior: circularBehavior,
+          context: context,
+        },
+        setSideEffectToasts
+      ),
+      {},
+      function () {
+        return getInitialNodes(
+          initialNodes,
+          defaultNodes,
+          nodeTypes,
+          portTypes,
+          context
+        );
+      }
+    ),
+    _React$useReducer4 = slicedToArray(_React$useReducer3, 2),
+    nodes = _React$useReducer4[0],
+    dispatchNodes = _React$useReducer4[1];
 
-  var _React$useReducer5 = React__default.useReducer(commentsReducer, initialComments || {}),
-      _React$useReducer6 = slicedToArray(_React$useReducer5, 2),
-      comments = _React$useReducer6[0],
-      dispatchComments = _React$useReducer6[1];
+  var _React$useReducer5 = React__default.useReducer(
+      commentsReducer,
+      initialComments || {}
+    ),
+    _React$useReducer6 = slicedToArray(_React$useReducer5, 2),
+    comments = _React$useReducer6[0],
+    dispatchComments = _React$useReducer6[1];
 
   React__default.useEffect(function () {
     dispatchNodes({ type: "HYDRATE_DEFAULT_NODES" });
   }, []);
 
   var _React$useState3 = React__default.useState(true),
-      _React$useState4 = slicedToArray(_React$useState3, 2),
-      shouldRecalculateConnections = _React$useState4[0],
-      setShouldRecalculateConnections = _React$useState4[1];
+    _React$useState4 = slicedToArray(_React$useState3, 2),
+    shouldRecalculateConnections = _React$useState4[0],
+    setShouldRecalculateConnections = _React$useState4[1];
 
   var _React$useReducer7 = React__default.useReducer(stageReducer, {
-    scale: typeof initialScale === "number" ? clamp_1(initialScale, 0.1, 7) : 1,
-    translate: { x: 0, y: 0 }
-  }),
-      _React$useReducer8 = slicedToArray(_React$useReducer7, 2),
-      stageState = _React$useReducer8[0],
-      dispatchStageState = _React$useReducer8[1];
+      scale:
+        typeof initialScale === "number" ? clamp_1(initialScale, 0.1, 7) : 1,
+      translate: { x: 0, y: 0 },
+    }),
+    _React$useReducer8 = slicedToArray(_React$useReducer7, 2),
+    stageState = _React$useReducer8[0],
+    dispatchStageState = _React$useReducer8[1];
 
-  var recalculateConnections = React__default.useCallback(function () {
-    createConnections(nodes, stageState, editorId);
-  }, [nodes, editorId, stageState]);
+  var recalculateConnections = React__default.useCallback(
+    function () {
+      createConnections(nodes, stageState, editorId);
+    },
+    [nodes, editorId, stageState]
+  );
 
   var recalculateStageRect = function recalculateStageRect() {
-    stage.current = document.getElementById("" + STAGE_ID + editorId).getBoundingClientRect();
+    stage.current = document
+      .getElementById("" + STAGE_ID + editorId)
+      .getBoundingClientRect();
   };
 
-  React__default.useLayoutEffect(function () {
-    if (shouldRecalculateConnections) {
-      recalculateConnections();
-      setShouldRecalculateConnections(false);
-    }
-  }, [shouldRecalculateConnections, recalculateConnections]);
+  var initialRecalculateConnectionsDoneRef = React__default.useRef(false);
+
+  React__default.useLayoutEffect(
+    function () {
+      if (!initialRecalculateConnectionsDoneRef.current) {
+        initialRecalculateConnectionsDoneRef.current = true;
+        recalculateConnections();
+      }
+    },
+    [recalculateConnections]
+  );
 
   var triggerRecalculation = function triggerRecalculation() {
-    setShouldRecalculateConnections(true);
+    recalculateConnections();
   };
 
   React__default.useImperativeHandle(ref, function () {
@@ -7776,32 +9190,45 @@ exports.NodeEditor = function NodeEditor(_ref, ref) {
       },
       getComments: function getComments() {
         return comments;
-      }
+      },
     };
   });
 
   var previousNodes = usePrevious$1(nodes);
 
-  React__default.useEffect(function () {
-    if (previousNodes && onChange && nodes !== previousNodes) {
-      onChange(nodes);
-    }
-  }, [nodes, previousNodes, onChange]);
+  React__default.useEffect(
+    function () {
+      if (previousNodes && onChange && nodes !== previousNodes) {
+        onChange(nodes);
+      }
+    },
+    [nodes, previousNodes, onChange]
+  );
 
   var previousComments = usePrevious$1(comments);
 
-  React__default.useEffect(function () {
-    if (previousComments && onCommentsChange && comments !== previousComments) {
-      onCommentsChange(comments);
-    }
-  }, [comments, previousComments, onCommentsChange]);
+  React__default.useEffect(
+    function () {
+      if (
+        previousComments &&
+        onCommentsChange &&
+        comments !== previousComments
+      ) {
+        onCommentsChange(comments);
+      }
+    },
+    [comments, previousComments, onCommentsChange]
+  );
 
-  React__default.useEffect(function () {
-    if (sideEffectToasts) {
-      dispatchToasts(sideEffectToasts);
-      setSideEffectToasts(null);
-    }
-  }, [sideEffectToasts]);
+  React__default.useEffect(
+    function () {
+      if (sideEffectToasts) {
+        dispatchToasts(sideEffectToasts);
+        setSideEffectToasts(null);
+      }
+    },
+    [sideEffectToasts]
+  );
 
   return React__default.createElement(
     PortTypesContext.Provider,
@@ -7830,7 +9257,7 @@ exports.NodeEditor = function NodeEditor(_ref, ref) {
                   React__default.createElement(
                     RecalculateStageRectContext.Provider,
                     {
-                      value: recalculateStageRect
+                      value: recalculateStageRect,
                     },
                     React__default.createElement(
                       Stage,
@@ -7849,67 +9276,78 @@ exports.NodeEditor = function NodeEditor(_ref, ref) {
                         outerStageChildren: React__default.createElement(
                           React__default.Fragment,
                           null,
-                          debug && React__default.createElement(
-                            "div",
-                            { className: styles$d.debugWrapper },
-                            React__default.createElement(
-                              "button",
-                              {
-                                className: styles$d.debugButton,
-                                onClick: function onClick() {
-                                  return console.log(nodes);
-                                }
-                              },
-                              "Log Nodes"
-                            ),
+                          debug &&
                             React__default.createElement(
-                              "button",
-                              {
-                                className: styles$d.debugButton,
-                                onClick: function onClick() {
-                                  return console.log(JSON.stringify(nodes));
-                                }
-                              },
-                              "Export Nodes"
+                              "div",
+                              { className: styles$d.debugWrapper },
+                              React__default.createElement(
+                                "button",
+                                {
+                                  className: styles$d.debugButton,
+                                  onClick: function onClick() {
+                                    return console.log(nodes);
+                                  },
+                                },
+                                "Log Nodes"
+                              ),
+                              React__default.createElement(
+                                "button",
+                                {
+                                  className: styles$d.debugButton,
+                                  onClick: function onClick() {
+                                    return console.log(JSON.stringify(nodes));
+                                  },
+                                },
+                                "Export Nodes"
+                              ),
+                              React__default.createElement(
+                                "button",
+                                {
+                                  className: styles$d.debugButton,
+                                  onClick: function onClick() {
+                                    return console.log(comments);
+                                  },
+                                },
+                                "Log Comments"
+                              )
                             ),
-                            React__default.createElement(
-                              "button",
-                              {
-                                className: styles$d.debugButton,
-                                onClick: function onClick() {
-                                  return console.log(comments);
-                                }
-                              },
-                              "Log Comments"
-                            )
-                          ),
                           React__default.createElement(Toaster, {
                             toasts: toasts,
-                            dispatchToasts: dispatchToasts
+                            dispatchToasts: dispatchToasts,
                           })
-                        )
+                        ),
                       },
-                      !hideComments && Object.values(comments).map(function (comment) {
-                        return React__default.createElement(Comment, _extends({}, comment, {
-                          stageRect: stage,
-                          dispatch: dispatchComments,
-                          onDragStart: recalculateStageRect,
-                          key: comment.id
-                        }));
-                      }),
+                      !hideComments &&
+                        Object.values(comments).map(function (comment) {
+                          return React__default.createElement(
+                            Comment,
+                            _extends({}, comment, {
+                              stageRect: stage,
+                              dispatch: dispatchComments,
+                              onDragStart: recalculateStageRect,
+                              key: comment.id,
+                            })
+                          );
+                        }),
                       Object.values(nodes).map(function (node) {
-                        return React__default.createElement(Node, _extends({}, node, {
-                          stageRect: stage,
-                          onDragEnd: triggerRecalculation,
-                          onDragStart: recalculateStageRect,
-                          renderNodeHeader: renderNodeHeader,
-                          key: node.id
-                        }));
+                        return React__default.createElement(
+                          Node,
+                          _extends({}, node, {
+                            stageRect: stage,
+                            onDragEnd: triggerRecalculation,
+                            onDragStart: recalculateStageRect,
+                            renderNodeHeader: renderNodeHeader,
+                            key: node.id,
+                          })
+                        );
+                      }),
+                      React__default.createElement(Connections, {
+                        nodes: nodes,
+                        editorId: editorId,
                       }),
-                      React__default.createElement(Connections, { nodes: nodes, editorId: editorId }),
                       React__default.createElement("div", {
                         className: styles$d.dragWrapper,
-                        id: "" + DRAG_CONNECTION_ID + editorId
+                        id: "" + DRAG_CONNECTION_ID + editorId,
                       })
                     )
                   )
@@ -7924,8 +9362,11 @@ exports.NodeEditor = function NodeEditor(_ref, ref) {
 };
 exports.NodeEditor = React__default.forwardRef(exports.NodeEditor);
 var useRootEngine = function useRootEngine(nodes, engine, context) {
-  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
-  return Object.keys(nodes).length ? engine.resolveRootNode(nodes, _extends({}, options, { context: context })) : {};
+  var options =
+    arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
+  return Object.keys(nodes).length
+    ? engine.resolveRootNode(nodes, _extends({}, options, { context: context }))
+    : {};
 };
 
 exports.useRootEngine = useRootEngine;
